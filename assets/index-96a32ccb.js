(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E_={exports:{}},Gu={},T_={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=Symbol.for("react.element"),P0=Symbol.for("react.portal"),S0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),k0=Symbol.for("react.forward_ref"),L0=Symbol.for("react.suspense"),R0=Symbol.for("react.memo"),M0=Symbol.for("react.lazy"),yp=Symbol.iterator;function N0(e){return e===null||typeof e!="object"?null:(e=yp&&e[yp]||e["@@iterator"],typeof e=="function"?e:null)}var P_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S_=Object.assign,I_={};function Ko(e,t,n){this.props=e,this.context=t,this.refs=I_,this.updater=n||P_}Ko.prototype.isReactComponent={};Ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function C_(){}C_.prototype=Ko.prototype;function Lf(e,t,n){this.props=e,this.context=t,this.refs=I_,this.updater=n||P_}var Rf=Lf.prototype=new C_;Rf.constructor=Lf;S_(Rf,Ko.prototype);Rf.isPureReactComponent=!0;var wp=Array.isArray,A_=Object.prototype.hasOwnProperty,Mf={current:null},x_={key:!0,ref:!0,__self:!0,__source:!0};function k_(e,t,n){var r,o={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)A_.call(t,r)&&!x_.hasOwnProperty(r)&&(o[r]=t[r]);var f=arguments.length-2;if(f===1)o.children=n;else if(1<f){for(var p=Array(f),g=0;g<f;g++)p[g]=arguments[g+2];o.children=p}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)o[r]===void 0&&(o[r]=f[r]);return{$$typeof:Ua,type:e,key:a,ref:c,props:o,_owner:Mf.current}}function D0(e,t){return{$$typeof:Ua,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ua}function O0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ep=/\/+/g;function Rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O0(""+e.key):t.toString(36)}function Jl(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Ua:case P0:c=!0}}if(c)return c=e,o=o(c),e=r===""?"."+Rc(c,0):r,wp(o)?(n="",e!=null&&(n=e.replace(Ep,"$&/")+"/"),Jl(o,t,n,"",function(g){return g})):o!=null&&(Nf(o)&&(o=D0(o,n+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(Ep,"$&/")+"/")+e)),t.push(o)),1;if(c=0,r=r===""?".":r+":",wp(e))for(var f=0;f<e.length;f++){a=e[f];var p=r+Rc(a,f);c+=Jl(a,t,n,p,o)}else if(p=N0(e),typeof p=="function")for(e=p.call(e),f=0;!(a=e.next()).done;)a=a.value,p=r+Rc(a,f++),c+=Jl(a,t,n,p,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Rl(e,t,n){if(e==null)return e;var r=[],o=0;return Jl(e,r,"","",function(a){return t.call(n,a,o++)}),r}function V0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},tu={transition:null},z0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:tu,ReactCurrentOwner:Mf};function L_(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:Rl,forEach:function(e,t,n){Rl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rl(e,function(){t++}),t},toArray:function(e){return Rl(e,function(t){return t})||[]},only:function(e){if(!Nf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=Ko;vt.Fragment=S0;vt.Profiler=C0;vt.PureComponent=Lf;vt.StrictMode=I0;vt.Suspense=L0;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;vt.act=L_;vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=S_({},e.props),o=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=Mf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)A_.call(t,p)&&!x_.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){f=Array(p);for(var g=0;g<p;g++)f[g]=arguments[g+2];r.children=f}return{$$typeof:Ua,type:e.type,key:o,ref:a,props:r,_owner:c}};vt.createContext=function(e){return e={$$typeof:x0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:A0,_context:e},e.Consumer=e};vt.createElement=k_;vt.createFactory=function(e){var t=k_.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:k0,render:e}};vt.isValidElement=Nf;vt.lazy=function(e){return{$$typeof:M0,_payload:{_status:-1,_result:e},_init:V0}};vt.memo=function(e,t){return{$$typeof:R0,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=tu.transition;tu.transition={};try{e()}finally{tu.transition=t}};vt.unstable_act=L_;vt.useCallback=function(e,t){return Ue.current.useCallback(e,t)};vt.useContext=function(e){return Ue.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};vt.useEffect=function(e,t){return Ue.current.useEffect(e,t)};vt.useId=function(){return Ue.current.useId()};vt.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};vt.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return Ue.current.useMemo(e,t)};vt.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};vt.useRef=function(e){return Ue.current.useRef(e)};vt.useState=function(e){return Ue.current.useState(e)};vt.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};vt.useTransition=function(){return Ue.current.useTransition()};vt.version="18.3.1";T_.exports=vt;var xt=T_.exports;const mu=T0(xt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=xt,F0=Symbol.for("react.element"),B0=Symbol.for("react.fragment"),U0=Object.prototype.hasOwnProperty,j0=b0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H0={key:!0,ref:!0,__self:!0,__source:!0};function R_(e,t,n){var r,o={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)U0.call(t,r)&&!H0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:F0,type:e,key:a,ref:c,props:o,_owner:j0.current}}Gu.Fragment=B0;Gu.jsx=R_;Gu.jsxs=R_;E_.exports=Gu;var Sn=E_.exports,fh={},M_={exports:{}},nn={},N_={exports:{}},D_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,ot){var q=H.length;H.push(ot);t:for(;0<q;){var at=q-1>>>1,ft=H[at];if(0<o(ft,ot))H[at]=ot,H[q]=ft,q=at;else break t}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ot=H[0],q=H.pop();if(q!==ot){H[0]=q;t:for(var at=0,ft=H.length,yt=ft>>>1;at<yt;){var kt=2*(at+1)-1,mt=H[kt],ut=kt+1,Jt=H[ut];if(0>o(mt,q))ut<ft&&0>o(Jt,mt)?(H[at]=Jt,H[ut]=q,at=ut):(H[at]=mt,H[kt]=q,at=kt);else if(ut<ft&&0>o(Jt,q))H[at]=Jt,H[ut]=q,at=ut;else break t}}return ot}function o(H,ot){var q=H.sortIndex-ot.sortIndex;return q!==0?q:H.id-ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],g=[],w=1,T=null,S=3,V=!1,U=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(H){for(var ot=n(g);ot!==null;){if(ot.callback===null)r(g);else if(ot.startTime<=H)r(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(g)}}function j(H){if(B=!1,M(H),!U)if(n(p)!==null)U=!0,oe(Q);else{var ot=n(g);ot!==null&&Ve(j,ot.startTime-H)}}function Q(H,ot){U=!1,B&&(B=!1,N(E),E=-1),V=!0;var q=S;try{for(M(ot),T=n(p);T!==null&&(!(T.expirationTime>ot)||H&&!R());){var at=T.callback;if(typeof at=="function"){T.callback=null,S=T.priorityLevel;var ft=at(T.expirationTime<=ot);ot=e.unstable_now(),typeof ft=="function"?T.callback=ft:T===n(p)&&r(p),M(ot)}else r(p);T=n(p)}if(T!==null)var yt=!0;else{var kt=n(g);kt!==null&&Ve(j,kt.startTime-ot),yt=!1}return yt}finally{T=null,S=q,V=!1}}var Y=!1,I=null,E=-1,P=5,k=-1;function R(){return!(e.unstable_now()-k<P)}function D(){if(I!==null){var H=e.unstable_now();k=H;var ot=!0;try{ot=I(!0,H)}finally{ot?x():(Y=!1,I=null)}}else Y=!1}var x;if(typeof C=="function")x=function(){C(D)};else if(typeof MessageChannel<"u"){var Zt=new MessageChannel,Wn=Zt.port2;Zt.port1.onmessage=D,x=function(){Wn.postMessage(null)}}else x=function(){K(D,0)};function oe(H){I=H,Y||(Y=!0,x())}function Ve(H,ot){E=K(function(){H(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){U||V||(U=!0,oe(Q))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(H){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var q=S;S=ot;try{return H()}finally{S=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ot){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=S;S=H;try{return ot()}finally{S=q}},e.unstable_scheduleCallback=function(H,ot,q){var at=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?at+q:at):q=at,H){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=q+ft,H={id:w++,callback:ot,priorityLevel:H,startTime:q,expirationTime:ft,sortIndex:-1},q>at?(H.sortIndex=q,t(g,H),n(p)===null&&H===n(g)&&(B?(N(E),E=-1):B=!0,Ve(j,q-at))):(H.sortIndex=ft,t(p,H),U||V||(U=!0,oe(Q))),H},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(H){var ot=S;return function(){var q=S;S=ot;try{return H.apply(this,arguments)}finally{S=q}}}})(D_);N_.exports=D_;var $0=N_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0=xt,en=$0;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O_=new Set,va={};function br(e,t){Oo(e,t),Oo(e+"Capture",t)}function Oo(e,t){for(va[e]=t,e=0;e<t.length;e++)O_.add(t[e])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dh=Object.prototype.hasOwnProperty,W0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tp={},Pp={};function q0(e){return dh.call(Pp,e)?!0:dh.call(Tp,e)?!1:W0.test(e)?Pp[e]=!0:(Tp[e]=!0,!1)}function K0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function G0(e,t,n,r){if(t===null||typeof t>"u"||K0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,n,r,o,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Df=/[\-:]([a-z])/g;function Of(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Df,Of);Se[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Df,Of);Se[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Df,Of);Se[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vf(e,t,n,r){var o=Se.hasOwnProperty(t)?Se[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(G0(t,n,o,r)&&(n=null),r||o===null?q0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yi=Z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ml=Symbol.for("react.element"),fo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),ph=Symbol.for("react.profiler"),V_=Symbol.for("react.provider"),z_=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),_h=Symbol.for("react.suspense_list"),Ff=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),b_=Symbol.for("react.offscreen"),Sp=Symbol.iterator;function Hs(e){return e===null||typeof e!="object"?null:(e=Sp&&e[Sp]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Object.assign,Mc;function Xs(e){if(Mc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mc=t&&t[1]||""}return`
`+Mc+e}var Nc=!1;function Dc(e,t){if(!e||Nc)return"";Nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),a=r.stack.split(`
`),c=o.length-1,f=a.length-1;1<=c&&0<=f&&o[c]!==a[f];)f--;for(;1<=c&&0<=f;c--,f--)if(o[c]!==a[f]){if(c!==1||f!==1)do if(c--,f--,0>f||o[c]!==a[f]){var p=`
`+o[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=f);break}}}finally{Nc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xs(e):""}function Q0(e){switch(e.tag){case 5:return Xs(e.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return e=Dc(e.type,!1),e;case 11:return e=Dc(e.type.render,!1),e;case 1:return e=Dc(e.type,!0),e;default:return""}}function gh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case po:return"Fragment";case fo:return"Portal";case ph:return"Profiler";case zf:return"StrictMode";case mh:return"Suspense";case _h:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z_:return(e.displayName||"Context")+".Consumer";case V_:return(e._context.displayName||"Context")+".Provider";case bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ff:return t=e.displayName||null,t!==null?t:gh(e.type)||"Memo";case Di:t=e._payload,e=e._init;try{return gh(e(t))}catch{}}return null}function Y0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gh(t);case 8:return t===zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function F_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X0(e){var t=F_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nl(e){e._valueTracker||(e._valueTracker=X0(e))}function B_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=F_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vh(e,t){var n=t.checked;return $t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ip(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function U_(e,t){t=t.checked,t!=null&&Vf(e,"checked",t,!1)}function yh(e,t){U_(e,t);var n=Xi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wh(e,t.type,n):t.hasOwnProperty("defaultValue")&&wh(e,t.type,Xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wh(e,t,n){(t!=="number"||_u(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Js=Array.isArray;function Io(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xi(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Eh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return $t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ap(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(Js(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xi(n)}}function j_(e,t){var n=Xi(t.value),r=Xi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Th(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dl,$_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ya(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J0=["Webkit","ms","Moz","O"];Object.keys(oa).forEach(function(e){J0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oa[t]=oa[e]})});function Z_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||oa.hasOwnProperty(e)&&oa[e]?(""+t).trim():t+"px"}function W_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Z_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var tw=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ph(e,t){if(t){if(tw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Sh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=null;function Bf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ch=null,Co=null,Ao=null;function kp(e){if(e=$a(e)){if(typeof Ch!="function")throw Error(W(280));var t=e.stateNode;t&&(t=tc(t),Ch(e.stateNode,e.type,t))}}function q_(e){Co?Ao?Ao.push(e):Ao=[e]:Co=e}function K_(){if(Co){var e=Co,t=Ao;if(Ao=Co=null,kp(e),t)for(e=0;e<t.length;e++)kp(t[e])}}function G_(e,t){return e(t)}function Q_(){}var Oc=!1;function Y_(e,t,n){if(Oc)return e(t,n);Oc=!0;try{return G_(e,t,n)}finally{Oc=!1,(Co!==null||Ao!==null)&&(Q_(),K_())}}function wa(e,t){var n=e.stateNode;if(n===null)return null;var r=tc(n);if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Ah=!1;if(di)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Ah=!1}function ew(e,t,n,r,o,a,c,f,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(w){this.onError(w)}}var sa=!1,gu=null,vu=!1,xh=null,nw={onError:function(e){sa=!0,gu=e}};function iw(e,t,n,r,o,a,c,f,p){sa=!1,gu=null,ew.apply(nw,arguments)}function rw(e,t,n,r,o,a,c,f,p){if(iw.apply(this,arguments),sa){if(sa){var g=gu;sa=!1,gu=null}else throw Error(W(198));vu||(vu=!0,xh=g)}}function Fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function X_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lp(e){if(Fr(e)!==e)throw Error(W(188))}function ow(e){var t=e.alternate;if(!t){if(t=Fr(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Lp(o),e;if(a===r)return Lp(o),t;a=a.sibling}throw Error(W(188))}if(n.return!==r.return)n=o,r=a;else{for(var c=!1,f=o.child;f;){if(f===n){c=!0,n=o,r=a;break}if(f===r){c=!0,r=o,n=a;break}f=f.sibling}if(!c){for(f=a.child;f;){if(f===n){c=!0,n=a,r=o;break}if(f===r){c=!0,r=a,n=o;break}f=f.sibling}if(!c)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function J_(e){return e=ow(e),e!==null?tg(e):null}function tg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tg(e);if(t!==null)return t;e=e.sibling}return null}var eg=en.unstable_scheduleCallback,Rp=en.unstable_cancelCallback,sw=en.unstable_shouldYield,aw=en.unstable_requestPaint,Yt=en.unstable_now,lw=en.unstable_getCurrentPriorityLevel,Uf=en.unstable_ImmediatePriority,ng=en.unstable_UserBlockingPriority,yu=en.unstable_NormalPriority,uw=en.unstable_LowPriority,ig=en.unstable_IdlePriority,Qu=null,Un=null;function cw(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Qu,e,void 0,(e.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:dw,hw=Math.log,fw=Math.LN2;function dw(e){return e>>>=0,e===0?32:31-(hw(e)/fw|0)|0}var Ol=64,Vl=4194304;function ta(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,c=n&268435455;if(c!==0){var f=c&~o;f!==0?r=ta(f):(a&=c,a!==0&&(r=ta(a)))}else c=n&~o,c!==0?r=ta(c):a!==0&&(r=ta(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-An(t),o=1<<n,r|=e[n],t&=~o;return r}function pw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-An(a),f=1<<c,p=o[c];p===-1?(!(f&n)||f&r)&&(o[c]=pw(f,t)):p<=t&&(e.expiredLanes|=f),a&=~f}}function kh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rg(){var e=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),e}function Vc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ja(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-An(t),e[t]=n}function _w(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-An(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function jf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-An(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Rt=0;function og(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sg,Hf,ag,lg,ug,Lh=!1,zl=[],ji=null,Hi=null,$i=null,Ea=new Map,Ta=new Map,Vi=[],gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mp(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Ea.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(t.pointerId)}}function Zs(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=$a(t),t!==null&&Hf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function vw(e,t,n,r,o){switch(t){case"focusin":return ji=Zs(ji,e,t,n,r,o),!0;case"dragenter":return Hi=Zs(Hi,e,t,n,r,o),!0;case"mouseover":return $i=Zs($i,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Ea.set(a,Zs(Ea.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Ta.set(a,Zs(Ta.get(a)||null,e,t,n,r,o)),!0}return!1}function cg(e){var t=Er(e.target);if(t!==null){var n=Fr(t);if(n!==null){if(t=n.tag,t===13){if(t=X_(n),t!==null){e.blockedOn=t,ug(e.priority,function(){ag(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ih=r,n.target.dispatchEvent(r),Ih=null}else return t=$a(n),t!==null&&Hf(t),e.blockedOn=n,!1;t.shift()}return!0}function Np(e,t,n){eu(e)&&n.delete(t)}function yw(){Lh=!1,ji!==null&&eu(ji)&&(ji=null),Hi!==null&&eu(Hi)&&(Hi=null),$i!==null&&eu($i)&&($i=null),Ea.forEach(Np),Ta.forEach(Np)}function Ws(e,t){e.blockedOn===t&&(e.blockedOn=null,Lh||(Lh=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,yw)))}function Pa(e){function t(o){return Ws(o,e)}if(0<zl.length){Ws(zl[0],e);for(var n=1;n<zl.length;n++){var r=zl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ji!==null&&Ws(ji,e),Hi!==null&&Ws(Hi,e),$i!==null&&Ws($i,e),Ea.forEach(t),Ta.forEach(t),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)cg(n),n.blockedOn===null&&Vi.shift()}var xo=yi.ReactCurrentBatchConfig,Eu=!0;function ww(e,t,n,r){var o=Rt,a=xo.transition;xo.transition=null;try{Rt=1,$f(e,t,n,r)}finally{Rt=o,xo.transition=a}}function Ew(e,t,n,r){var o=Rt,a=xo.transition;xo.transition=null;try{Rt=4,$f(e,t,n,r)}finally{Rt=o,xo.transition=a}}function $f(e,t,n,r){if(Eu){var o=Rh(e,t,n,r);if(o===null)Wc(e,t,r,Tu,n),Mp(e,r);else if(vw(o,e,t,n,r))r.stopPropagation();else if(Mp(e,r),t&4&&-1<gw.indexOf(e)){for(;o!==null;){var a=$a(o);if(a!==null&&sg(a),a=Rh(e,t,n,r),a===null&&Wc(e,t,r,Tu,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Wc(e,t,r,null,n)}}var Tu=null;function Rh(e,t,n,r){if(Tu=null,e=Bf(r),e=Er(e),e!==null)if(t=Fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=X_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tu=e,null}function hg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lw()){case Uf:return 1;case ng:return 4;case yu:case uw:return 16;case ig:return 536870912;default:return 16}default:return 16}}var bi=null,Zf=null,nu=null;function fg(){if(nu)return nu;var e,t=Zf,n=t.length,r,o="value"in bi?bi.value:bi.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===o[a-r];r++);return nu=o.slice(e,1<r?1-r:void 0)}function iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bl(){return!0}function Dp(){return!1}function rn(e){function t(n,r,o,a,c){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bl:Dp,this.isPropagationStopped=Dp,this}return $t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),t}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wf=rn(Go),Ha=$t({},Go,{view:0,detail:0}),Tw=rn(Ha),zc,bc,qs,Yu=$t({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(zc=e.screenX-qs.screenX,bc=e.screenY-qs.screenY):bc=zc=0,qs=e),zc)},movementY:function(e){return"movementY"in e?e.movementY:bc}}),Op=rn(Yu),Pw=$t({},Yu,{dataTransfer:0}),Sw=rn(Pw),Iw=$t({},Ha,{relatedTarget:0}),Fc=rn(Iw),Cw=$t({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),Aw=rn(Cw),xw=$t({},Go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kw=rn(xw),Lw=$t({},Go,{data:0}),Vp=rn(Lw),Rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nw[e])?!!t[e]:!1}function qf(){return Dw}var Ow=$t({},Ha,{key:function(e){if(e.key){var t=Rw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qf,charCode:function(e){return e.type==="keypress"?iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vw=rn(Ow),zw=$t({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zp=rn(zw),bw=$t({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qf}),Fw=rn(bw),Bw=$t({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uw=rn(Bw),jw=$t({},Yu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hw=rn(jw),$w=[9,13,27,32],Kf=di&&"CompositionEvent"in window,aa=null;di&&"documentMode"in document&&(aa=document.documentMode);var Zw=di&&"TextEvent"in window&&!aa,dg=di&&(!Kf||aa&&8<aa&&11>=aa),bp=String.fromCharCode(32),Fp=!1;function pg(e,t){switch(e){case"keyup":return $w.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mo=!1;function Ww(e,t){switch(e){case"compositionend":return mg(t);case"keypress":return t.which!==32?null:(Fp=!0,bp);case"textInput":return e=t.data,e===bp&&Fp?null:e;default:return null}}function qw(e,t){if(mo)return e==="compositionend"||!Kf&&pg(e,t)?(e=fg(),nu=Zf=bi=null,mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dg&&t.locale!=="ko"?null:t.data;default:return null}}var Kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kw[e.type]:t==="textarea"}function _g(e,t,n,r){q_(r),t=Pu(t,"onChange"),0<t.length&&(n=new Wf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var la=null,Sa=null;function Gw(e){Ag(e,0)}function Xu(e){var t=vo(e);if(B_(t))return e}function Qw(e,t){if(e==="change")return t}var gg=!1;if(di){var Bc;if(di){var Uc="oninput"in document;if(!Uc){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Uc=typeof Up.oninput=="function"}Bc=Uc}else Bc=!1;gg=Bc&&(!document.documentMode||9<document.documentMode)}function jp(){la&&(la.detachEvent("onpropertychange",vg),Sa=la=null)}function vg(e){if(e.propertyName==="value"&&Xu(Sa)){var t=[];_g(t,Sa,e,Bf(e)),Y_(Gw,t)}}function Yw(e,t,n){e==="focusin"?(jp(),la=t,Sa=n,la.attachEvent("onpropertychange",vg)):e==="focusout"&&jp()}function Xw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Sa)}function Jw(e,t){if(e==="click")return Xu(t)}function t1(e,t){if(e==="input"||e==="change")return Xu(t)}function e1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:e1;function Ia(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!dh.call(t,o)||!kn(e[o],t[o]))return!1}return!0}function Hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $p(e,t){var n=Hp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Hp(n)}}function yg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wg(){for(var e=window,t=_u();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_u(e.document)}return t}function Gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function n1(e){var t=wg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yg(n.ownerDocument.documentElement,n)){if(r!==null&&Gf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=$p(n,a);var c=$p(n,r);o&&c&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var i1=di&&"documentMode"in document&&11>=document.documentMode,_o=null,Mh=null,ua=null,Nh=!1;function Zp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nh||_o==null||_o!==_u(r)||(r=_o,"selectionStart"in r&&Gf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ua&&Ia(ua,r)||(ua=r,r=Pu(Mh,"onSelect"),0<r.length&&(t=new Wf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_o)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var go={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},jc={},Eg={};di&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Ju(e){if(jc[e])return jc[e];if(!go[e])return e;var t=go[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eg)return jc[e]=t[n];return e}var Tg=Ju("animationend"),Pg=Ju("animationiteration"),Sg=Ju("animationstart"),Ig=Ju("transitionend"),Cg=new Map,Wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){Cg.set(e,t),br(t,[e])}for(var Hc=0;Hc<Wp.length;Hc++){var $c=Wp[Hc],r1=$c.toLowerCase(),o1=$c[0].toUpperCase()+$c.slice(1);ir(r1,"on"+o1)}ir(Tg,"onAnimationEnd");ir(Pg,"onAnimationIteration");ir(Sg,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(Ig,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));br("onBeforeInput",["compositionend","keypress","textInput","paste"]);br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function qp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rw(r,t,void 0,e),e.currentTarget=null}function Ag(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;t:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var f=r[c],p=f.instance,g=f.currentTarget;if(f=f.listener,p!==a&&o.isPropagationStopped())break t;qp(o,f,g),a=p}else for(c=0;c<r.length;c++){if(f=r[c],p=f.instance,g=f.currentTarget,f=f.listener,p!==a&&o.isPropagationStopped())break t;qp(o,f,g),a=p}}}if(vu)throw e=xh,vu=!1,xh=null,e}function Vt(e,t){var n=t[bh];n===void 0&&(n=t[bh]=new Set);var r=e+"__bubble";n.has(r)||(xg(t,e,2,!1),n.add(r))}function Zc(e,t,n){var r=0;t&&(r|=4),xg(n,e,r,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function Ca(e){if(!e[Bl]){e[Bl]=!0,O_.forEach(function(n){n!=="selectionchange"&&(s1.has(n)||Zc(n,!1,e),Zc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,Zc("selectionchange",!1,t))}}function xg(e,t,n,r){switch(hg(t)){case 1:var o=ww;break;case 4:o=Ew;break;default:o=$f}n=o.bind(null,t,n,e),o=void 0,!Ah||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wc(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var f=r.stateNode.containerInfo;if(f===o||f.nodeType===8&&f.parentNode===o)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===o||p.nodeType===8&&p.parentNode===o))return;c=c.return}for(;f!==null;){if(c=Er(f),c===null)return;if(p=c.tag,p===5||p===6){r=a=c;continue t}f=f.parentNode}}r=r.return}Y_(function(){var g=a,w=Bf(n),T=[];t:{var S=Cg.get(e);if(S!==void 0){var V=Wf,U=e;switch(e){case"keypress":if(iu(n)===0)break t;case"keydown":case"keyup":V=Vw;break;case"focusin":U="focus",V=Fc;break;case"focusout":U="blur",V=Fc;break;case"beforeblur":case"afterblur":V=Fc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Fw;break;case Tg:case Pg:case Sg:V=Aw;break;case Ig:V=Uw;break;case"scroll":V=Tw;break;case"wheel":V=Hw;break;case"copy":case"cut":case"paste":V=kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=zp}var B=(t&4)!==0,K=!B&&e==="scroll",N=B?S!==null?S+"Capture":null:S;B=[];for(var C=g,M;C!==null;){M=C;var j=M.stateNode;if(M.tag===5&&j!==null&&(M=j,N!==null&&(j=wa(C,N),j!=null&&B.push(Aa(C,j,M)))),K)break;C=C.return}0<B.length&&(S=new V(S,U,null,n,w),T.push({event:S,listeners:B}))}}if(!(t&7)){t:{if(S=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",S&&n!==Ih&&(U=n.relatedTarget||n.fromElement)&&(Er(U)||U[pi]))break t;if((V||S)&&(S=w.window===w?w:(S=w.ownerDocument)?S.defaultView||S.parentWindow:window,V?(U=n.relatedTarget||n.toElement,V=g,U=U?Er(U):null,U!==null&&(K=Fr(U),U!==K||U.tag!==5&&U.tag!==6)&&(U=null)):(V=null,U=g),V!==U)){if(B=Op,j="onMouseLeave",N="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(B=zp,j="onPointerLeave",N="onPointerEnter",C="pointer"),K=V==null?S:vo(V),M=U==null?S:vo(U),S=new B(j,C+"leave",V,n,w),S.target=K,S.relatedTarget=M,j=null,Er(w)===g&&(B=new B(N,C+"enter",U,n,w),B.target=M,B.relatedTarget=K,j=B),K=j,V&&U)e:{for(B=V,N=U,C=0,M=B;M;M=lo(M))C++;for(M=0,j=N;j;j=lo(j))M++;for(;0<C-M;)B=lo(B),C--;for(;0<M-C;)N=lo(N),M--;for(;C--;){if(B===N||N!==null&&B===N.alternate)break e;B=lo(B),N=lo(N)}B=null}else B=null;V!==null&&Kp(T,S,V,B,!1),U!==null&&K!==null&&Kp(T,K,U,B,!0)}}t:{if(S=g?vo(g):window,V=S.nodeName&&S.nodeName.toLowerCase(),V==="select"||V==="input"&&S.type==="file")var Q=Qw;else if(Bp(S))if(gg)Q=t1;else{Q=Xw;var Y=Yw}else(V=S.nodeName)&&V.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(Q=Jw);if(Q&&(Q=Q(e,g))){_g(T,Q,n,w);break t}Y&&Y(e,S,g),e==="focusout"&&(Y=S._wrapperState)&&Y.controlled&&S.type==="number"&&wh(S,"number",S.value)}switch(Y=g?vo(g):window,e){case"focusin":(Bp(Y)||Y.contentEditable==="true")&&(_o=Y,Mh=g,ua=null);break;case"focusout":ua=Mh=_o=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Zp(T,n,w);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":Zp(T,n,w)}var I;if(Kf)t:{switch(e){case"compositionstart":var E="onCompositionStart";break t;case"compositionend":E="onCompositionEnd";break t;case"compositionupdate":E="onCompositionUpdate";break t}E=void 0}else mo?pg(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(dg&&n.locale!=="ko"&&(mo||E!=="onCompositionStart"?E==="onCompositionEnd"&&mo&&(I=fg()):(bi=w,Zf="value"in bi?bi.value:bi.textContent,mo=!0)),Y=Pu(g,E),0<Y.length&&(E=new Vp(E,e,null,n,w),T.push({event:E,listeners:Y}),I?E.data=I:(I=mg(n),I!==null&&(E.data=I)))),(I=Zw?Ww(e,n):qw(e,n))&&(g=Pu(g,"onBeforeInput"),0<g.length&&(w=new Vp("onBeforeInput","beforeinput",null,n,w),T.push({event:w,listeners:g}),w.data=I))}Ag(T,t)})}function Aa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pu(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=wa(e,n),a!=null&&r.unshift(Aa(e,a,o)),a=wa(e,t),a!=null&&r.push(Aa(e,a,o))),e=e.return}return r}function lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kp(e,t,n,r,o){for(var a=t._reactName,c=[];n!==null&&n!==r;){var f=n,p=f.alternate,g=f.stateNode;if(p!==null&&p===r)break;f.tag===5&&g!==null&&(f=g,o?(p=wa(n,a),p!=null&&c.unshift(Aa(n,p,f))):o||(p=wa(n,a),p!=null&&c.push(Aa(n,p,f)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var a1=/\r\n?/g,l1=/\u0000|\uFFFD/g;function Gp(e){return(typeof e=="string"?e:""+e).replace(a1,`
`).replace(l1,"")}function Ul(e,t,n){if(t=Gp(t),Gp(e)!==t&&n)throw Error(W(425))}function Su(){}var Dh=null,Oh=null;function Vh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(e){return Qp.resolve(null).then(e).catch(h1)}:zh;function h1(e){setTimeout(function(){throw e})}function qc(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Pa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Pa(t)}function Zi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Qo,xa="__reactProps$"+Qo,pi="__reactContainer$"+Qo,bh="__reactEvents$"+Qo,f1="__reactListeners$"+Qo,d1="__reactHandles$"+Qo;function Er(e){var t=e[Fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[Fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yp(e);e!==null;){if(n=e[Fn])return n;e=Yp(e)}return t}e=n,n=e.parentNode}return null}function $a(e){return e=e[Fn]||e[pi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function tc(e){return e[xa]||null}var Fh=[],yo=-1;function rr(e){return{current:e}}function zt(e){0>yo||(e.current=Fh[yo],Fh[yo]=null,yo--)}function Dt(e,t){yo++,Fh[yo]=e.current,e.current=t}var Ji={},Oe=rr(Ji),We=rr(!1),Lr=Ji;function Vo(e,t){var n=e.type.contextTypes;if(!n)return Ji;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function qe(e){return e=e.childContextTypes,e!=null}function Iu(){zt(We),zt(Oe)}function Xp(e,t,n){if(Oe.current!==Ji)throw Error(W(168));Dt(Oe,t),Dt(We,n)}function kg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(W(108,Y0(e)||"Unknown",o));return $t({},n,r)}function Cu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ji,Lr=Oe.current,Dt(Oe,e),Dt(We,We.current),!0}function Jp(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=kg(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=e,zt(We),zt(Oe),Dt(Oe,e)):zt(We),Dt(We,n)}var ui=null,ec=!1,Kc=!1;function Lg(e){ui===null?ui=[e]:ui.push(e)}function p1(e){ec=!0,Lg(e)}function or(){if(!Kc&&ui!==null){Kc=!0;var e=0,t=Rt;try{var n=ui;for(Rt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ui=null,ec=!1}catch(o){throw ui!==null&&(ui=ui.slice(e+1)),eg(Uf,or),o}finally{Rt=t,Kc=!1}}return null}var wo=[],Eo=0,Au=null,xu=0,cn=[],hn=0,Rr=null,ci=1,hi="";function vr(e,t){wo[Eo++]=xu,wo[Eo++]=Au,Au=e,xu=t}function Rg(e,t,n){cn[hn++]=ci,cn[hn++]=hi,cn[hn++]=Rr,Rr=e;var r=ci;e=hi;var o=32-An(r)-1;r&=~(1<<o),n+=1;var a=32-An(t)+o;if(30<a){var c=o-o%5;a=(r&(1<<c)-1).toString(32),r>>=c,o-=c,ci=1<<32-An(t)+o|n<<o|r,hi=a+e}else ci=1<<a|n<<o|r,hi=e}function Qf(e){e.return!==null&&(vr(e,1),Rg(e,1,0))}function Yf(e){for(;e===Au;)Au=wo[--Eo],wo[Eo]=null,xu=wo[--Eo],wo[Eo]=null;for(;e===Rr;)Rr=cn[--hn],cn[hn]=null,hi=cn[--hn],cn[hn]=null,ci=cn[--hn],cn[hn]=null}var tn=null,Je=null,Ft=!1,Cn=null;function Mg(e,t){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,Je=Zi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,Je=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rr!==null?{id:ci,overflow:hi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tn=e,Je=null,!0):!1;default:return!1}}function Bh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uh(e){if(Ft){var t=Je;if(t){var n=t;if(!tm(e,t)){if(Bh(e))throw Error(W(418));t=Zi(n.nextSibling);var r=tn;t&&tm(e,t)?Mg(r,n):(e.flags=e.flags&-4097|2,Ft=!1,tn=e)}}else{if(Bh(e))throw Error(W(418));e.flags=e.flags&-4097|2,Ft=!1,tn=e}}}function em(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function jl(e){if(e!==tn)return!1;if(!Ft)return em(e),Ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vh(e.type,e.memoizedProps)),t&&(t=Je)){if(Bh(e))throw Ng(),Error(W(418));for(;t;)Mg(e,t),t=Zi(t.nextSibling)}if(em(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Je=Zi(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Je=null}}else Je=tn?Zi(e.stateNode.nextSibling):null;return!0}function Ng(){for(var e=Je;e;)e=Zi(e.nextSibling)}function zo(){Je=tn=null,Ft=!1}function Xf(e){Cn===null?Cn=[e]:Cn.push(e)}var m1=yi.ReactCurrentBatchConfig;function Ks(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var f=o.refs;c===null?delete f[a]:f[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Hl(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nm(e){var t=e._init;return t(e._payload)}function Dg(e){function t(N,C){if(e){var M=N.deletions;M===null?(N.deletions=[C],N.flags|=16):M.push(C)}}function n(N,C){if(!e)return null;for(;C!==null;)t(N,C),C=C.sibling;return null}function r(N,C){for(N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function o(N,C){return N=Gi(N,C),N.index=0,N.sibling=null,N}function a(N,C,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<C?(N.flags|=2,C):M):(N.flags|=2,C)):(N.flags|=1048576,C)}function c(N){return e&&N.alternate===null&&(N.flags|=2),N}function f(N,C,M,j){return C===null||C.tag!==6?(C=eh(M,N.mode,j),C.return=N,C):(C=o(C,M),C.return=N,C)}function p(N,C,M,j){var Q=M.type;return Q===po?w(N,C,M.props.children,j,M.key):C!==null&&(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Di&&nm(Q)===C.type)?(j=o(C,M.props),j.ref=Ks(N,C,M),j.return=N,j):(j=cu(M.type,M.key,M.props,null,N.mode,j),j.ref=Ks(N,C,M),j.return=N,j)}function g(N,C,M,j){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=nh(M,N.mode,j),C.return=N,C):(C=o(C,M.children||[]),C.return=N,C)}function w(N,C,M,j,Q){return C===null||C.tag!==7?(C=Cr(M,N.mode,j,Q),C.return=N,C):(C=o(C,M),C.return=N,C)}function T(N,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return C=eh(""+C,N.mode,M),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ml:return M=cu(C.type,C.key,C.props,null,N.mode,M),M.ref=Ks(N,null,C),M.return=N,M;case fo:return C=nh(C,N.mode,M),C.return=N,C;case Di:var j=C._init;return T(N,j(C._payload),M)}if(Js(C)||Hs(C))return C=Cr(C,N.mode,M,null),C.return=N,C;Hl(N,C)}return null}function S(N,C,M,j){var Q=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return Q!==null?null:f(N,C,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ml:return M.key===Q?p(N,C,M,j):null;case fo:return M.key===Q?g(N,C,M,j):null;case Di:return Q=M._init,S(N,C,Q(M._payload),j)}if(Js(M)||Hs(M))return Q!==null?null:w(N,C,M,j,null);Hl(N,M)}return null}function V(N,C,M,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number")return N=N.get(M)||null,f(C,N,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ml:return N=N.get(j.key===null?M:j.key)||null,p(C,N,j,Q);case fo:return N=N.get(j.key===null?M:j.key)||null,g(C,N,j,Q);case Di:var Y=j._init;return V(N,C,M,Y(j._payload),Q)}if(Js(j)||Hs(j))return N=N.get(M)||null,w(C,N,j,Q,null);Hl(C,j)}return null}function U(N,C,M,j){for(var Q=null,Y=null,I=C,E=C=0,P=null;I!==null&&E<M.length;E++){I.index>E?(P=I,I=null):P=I.sibling;var k=S(N,I,M[E],j);if(k===null){I===null&&(I=P);break}e&&I&&k.alternate===null&&t(N,I),C=a(k,C,E),Y===null?Q=k:Y.sibling=k,Y=k,I=P}if(E===M.length)return n(N,I),Ft&&vr(N,E),Q;if(I===null){for(;E<M.length;E++)I=T(N,M[E],j),I!==null&&(C=a(I,C,E),Y===null?Q=I:Y.sibling=I,Y=I);return Ft&&vr(N,E),Q}for(I=r(N,I);E<M.length;E++)P=V(I,N,E,M[E],j),P!==null&&(e&&P.alternate!==null&&I.delete(P.key===null?E:P.key),C=a(P,C,E),Y===null?Q=P:Y.sibling=P,Y=P);return e&&I.forEach(function(R){return t(N,R)}),Ft&&vr(N,E),Q}function B(N,C,M,j){var Q=Hs(M);if(typeof Q!="function")throw Error(W(150));if(M=Q.call(M),M==null)throw Error(W(151));for(var Y=Q=null,I=C,E=C=0,P=null,k=M.next();I!==null&&!k.done;E++,k=M.next()){I.index>E?(P=I,I=null):P=I.sibling;var R=S(N,I,k.value,j);if(R===null){I===null&&(I=P);break}e&&I&&R.alternate===null&&t(N,I),C=a(R,C,E),Y===null?Q=R:Y.sibling=R,Y=R,I=P}if(k.done)return n(N,I),Ft&&vr(N,E),Q;if(I===null){for(;!k.done;E++,k=M.next())k=T(N,k.value,j),k!==null&&(C=a(k,C,E),Y===null?Q=k:Y.sibling=k,Y=k);return Ft&&vr(N,E),Q}for(I=r(N,I);!k.done;E++,k=M.next())k=V(I,N,E,k.value,j),k!==null&&(e&&k.alternate!==null&&I.delete(k.key===null?E:k.key),C=a(k,C,E),Y===null?Q=k:Y.sibling=k,Y=k);return e&&I.forEach(function(D){return t(N,D)}),Ft&&vr(N,E),Q}function K(N,C,M,j){if(typeof M=="object"&&M!==null&&M.type===po&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Ml:t:{for(var Q=M.key,Y=C;Y!==null;){if(Y.key===Q){if(Q=M.type,Q===po){if(Y.tag===7){n(N,Y.sibling),C=o(Y,M.props.children),C.return=N,N=C;break t}}else if(Y.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Di&&nm(Q)===Y.type){n(N,Y.sibling),C=o(Y,M.props),C.ref=Ks(N,Y,M),C.return=N,N=C;break t}n(N,Y);break}else t(N,Y);Y=Y.sibling}M.type===po?(C=Cr(M.props.children,N.mode,j,M.key),C.return=N,N=C):(j=cu(M.type,M.key,M.props,null,N.mode,j),j.ref=Ks(N,C,M),j.return=N,N=j)}return c(N);case fo:t:{for(Y=M.key;C!==null;){if(C.key===Y)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){n(N,C.sibling),C=o(C,M.children||[]),C.return=N,N=C;break t}else{n(N,C);break}else t(N,C);C=C.sibling}C=nh(M,N.mode,j),C.return=N,N=C}return c(N);case Di:return Y=M._init,K(N,C,Y(M._payload),j)}if(Js(M))return U(N,C,M,j);if(Hs(M))return B(N,C,M,j);Hl(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,C!==null&&C.tag===6?(n(N,C.sibling),C=o(C,M),C.return=N,N=C):(n(N,C),C=eh(M,N.mode,j),C.return=N,N=C),c(N)):n(N,C)}return K}var bo=Dg(!0),Og=Dg(!1),ku=rr(null),Lu=null,To=null,Jf=null;function td(){Jf=To=Lu=null}function ed(e){var t=ku.current;zt(ku),e._currentValue=t}function jh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){Lu=e,Jf=To=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(Jf!==e)if(e={context:e,memoizedValue:t,next:null},To===null){if(Lu===null)throw Error(W(308));To=e,Lu.dependencies={lanes:0,firstContext:e}}else To=To.next=e;return t}var Tr=null;function nd(e){Tr===null?Tr=[e]:Tr.push(e)}function Vg(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,nd(t)):(n.next=o.next,o.next=n),t.interleaved=n,mi(e,r)}function mi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Oi=!1;function id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,mi(e,n)}return o=r.interleaved,o===null?(t.next=t,nd(r)):(t.next=o.next,o.next=t),r.interleaved=t,mi(e,n)}function ru(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jf(e,n)}}function im(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ru(e,t,n,r){var o=e.updateQueue;Oi=!1;var a=o.firstBaseUpdate,c=o.lastBaseUpdate,f=o.shared.pending;if(f!==null){o.shared.pending=null;var p=f,g=p.next;p.next=null,c===null?a=g:c.next=g,c=p;var w=e.alternate;w!==null&&(w=w.updateQueue,f=w.lastBaseUpdate,f!==c&&(f===null?w.firstBaseUpdate=g:f.next=g,w.lastBaseUpdate=p))}if(a!==null){var T=o.baseState;c=0,w=g=p=null,f=a;do{var S=f.lane,V=f.eventTime;if((r&S)===S){w!==null&&(w=w.next={eventTime:V,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});t:{var U=e,B=f;switch(S=t,V=n,B.tag){case 1:if(U=B.payload,typeof U=="function"){T=U.call(V,T,S);break t}T=U;break t;case 3:U.flags=U.flags&-65537|128;case 0:if(U=B.payload,S=typeof U=="function"?U.call(V,T,S):U,S==null)break t;T=$t({},T,S);break t;case 2:Oi=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,S=o.effects,S===null?o.effects=[f]:S.push(f))}else V={eventTime:V,lane:S,tag:f.tag,payload:f.payload,callback:f.callback,next:null},w===null?(g=w=V,p=T):w=w.next=V,c|=S;if(f=f.next,f===null){if(f=o.shared.pending,f===null)break;S=f,f=S.next,S.next=null,o.lastBaseUpdate=S,o.shared.pending=null}}while(1);if(w===null&&(p=T),o.baseState=p,o.firstBaseUpdate=g,o.lastBaseUpdate=w,t=o.shared.interleaved,t!==null){o=t;do c|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Nr|=c,e.lanes=c,e.memoizedState=T}}function rm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(W(191,o));o.call(r)}}}var Za={},jn=rr(Za),ka=rr(Za),La=rr(Za);function Pr(e){if(e===Za)throw Error(W(174));return e}function rd(e,t){switch(Dt(La,t),Dt(ka,e),Dt(jn,Za),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Th(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Th(t,e)}zt(jn),Dt(jn,t)}function Fo(){zt(jn),zt(ka),zt(La)}function bg(e){Pr(La.current);var t=Pr(jn.current),n=Th(t,e.type);t!==n&&(Dt(ka,e),Dt(jn,n))}function od(e){ka.current===e&&(zt(jn),zt(ka))}var jt=rr(0);function Mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gc=[];function sd(){for(var e=0;e<Gc.length;e++)Gc[e]._workInProgressVersionPrimary=null;Gc.length=0}var ou=yi.ReactCurrentDispatcher,Qc=yi.ReactCurrentBatchConfig,Mr=0,Ht=null,ue=null,_e=null,Nu=!1,ca=!1,Ra=0,_1=0;function ke(){throw Error(W(321))}function ad(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function ld(e,t,n,r,o,a){if(Mr=a,Ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ou.current=e===null||e.memoizedState===null?w1:E1,e=n(r,o),ca){a=0;do{if(ca=!1,Ra=0,25<=a)throw Error(W(301));a+=1,_e=ue=null,t.updateQueue=null,ou.current=T1,e=n(r,o)}while(ca)}if(ou.current=Du,t=ue!==null&&ue.next!==null,Mr=0,_e=ue=Ht=null,Nu=!1,t)throw Error(W(300));return e}function ud(){var e=Ra!==0;return Ra=0,e}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Ht.memoizedState=_e=e:_e=_e.next=e,_e}function mn(){if(ue===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=_e===null?Ht.memoizedState:_e.next;if(t!==null)_e=t,ue=e;else{if(e===null)throw Error(W(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},_e===null?Ht.memoizedState=_e=e:_e=_e.next=e}return _e}function Ma(e,t){return typeof t=="function"?t(e):t}function Yc(e){var t=mn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=ue,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var c=o.next;o.next=a.next,a.next=c}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var f=c=null,p=null,g=a;do{var w=g.lane;if((Mr&w)===w)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var T={lane:w,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(f=p=T,c=r):p=p.next=T,Ht.lanes|=w,Nr|=w}g=g.next}while(g!==null&&g!==a);p===null?c=r:p.next=f,kn(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Ht.lanes|=a,Nr|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xc(e){var t=mn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var c=o=o.next;do a=e(a,c.action),c=c.next;while(c!==o);kn(a,t.memoizedState)||(Ze=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Fg(){}function Bg(e,t){var n=Ht,r=mn(),o=t(),a=!kn(r.memoizedState,o);if(a&&(r.memoizedState=o,Ze=!0),r=r.queue,cd(Hg.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Na(9,jg.bind(null,n,r,o,t),void 0,null),ge===null)throw Error(W(349));Mr&30||Ug(n,t,o)}return o}function Ug(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jg(e,t,n,r){t.value=n,t.getSnapshot=r,$g(t)&&Zg(e)}function Hg(e,t,n){return n(function(){$g(t)&&Zg(e)})}function $g(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function Zg(e){var t=mi(e,1);t!==null&&xn(t,e,1,-1)}function om(e){var t=bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},t.queue=e,e=e.dispatch=y1.bind(null,Ht,e),[t.memoizedState,e]}function Na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wg(){return mn().memoizedState}function su(e,t,n,r){var o=bn();Ht.flags|=e,o.memoizedState=Na(1|t,n,void 0,r===void 0?null:r)}function nc(e,t,n,r){var o=mn();r=r===void 0?null:r;var a=void 0;if(ue!==null){var c=ue.memoizedState;if(a=c.destroy,r!==null&&ad(r,c.deps)){o.memoizedState=Na(t,n,a,r);return}}Ht.flags|=e,o.memoizedState=Na(1|t,n,a,r)}function sm(e,t){return su(8390656,8,e,t)}function cd(e,t){return nc(2048,8,e,t)}function qg(e,t){return nc(4,2,e,t)}function Kg(e,t){return nc(4,4,e,t)}function Gg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qg(e,t,n){return n=n!=null?n.concat([e]):null,nc(4,4,Gg.bind(null,t,e),n)}function hd(){}function Yg(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ad(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xg(e,t){var n=mn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ad(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jg(e,t,n){return Mr&21?(kn(n,t)||(n=rg(),Ht.lanes|=n,Nr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function g1(e,t){var n=Rt;Rt=n!==0&&4>n?n:4,e(!0);var r=Qc.transition;Qc.transition={};try{e(!1),t()}finally{Rt=n,Qc.transition=r}}function tv(){return mn().memoizedState}function v1(e,t,n){var r=Ki(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ev(e))nv(t,n);else if(n=Vg(e,t,n,r),n!==null){var o=Be();xn(n,e,r,o),iv(n,t,r)}}function y1(e,t,n){var r=Ki(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ev(e))nv(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,f=a(c,n);if(o.hasEagerState=!0,o.eagerState=f,kn(f,c)){var p=t.interleaved;p===null?(o.next=o,nd(t)):(o.next=p.next,p.next=o),t.interleaved=o;return}}catch{}finally{}n=Vg(e,t,o,r),n!==null&&(o=Be(),xn(n,e,r,o),iv(n,t,r))}}function ev(e){var t=e.alternate;return e===Ht||t!==null&&t===Ht}function nv(e,t){ca=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jf(e,n)}}var Du={readContext:pn,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},w1={readContext:pn,useCallback:function(e,t){return bn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:sm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,su(4194308,4,Gg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return su(4194308,4,e,t)},useInsertionEffect:function(e,t){return su(4,2,e,t)},useMemo:function(e,t){var n=bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=v1.bind(null,Ht,e),[r.memoizedState,e]},useRef:function(e){var t=bn();return e={current:e},t.memoizedState=e},useState:om,useDebugValue:hd,useDeferredValue:function(e){return bn().memoizedState=e},useTransition:function(){var e=om(!1),t=e[0];return e=g1.bind(null,e[1]),bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ht,o=bn();if(Ft){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),ge===null)throw Error(W(349));Mr&30||Ug(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,sm(Hg.bind(null,r,a,e),[e]),r.flags|=2048,Na(9,jg.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=bn(),t=ge.identifierPrefix;if(Ft){var n=hi,r=ci;n=(r&~(1<<32-An(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ra++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E1={readContext:pn,useCallback:Yg,useContext:pn,useEffect:cd,useImperativeHandle:Qg,useInsertionEffect:qg,useLayoutEffect:Kg,useMemo:Xg,useReducer:Yc,useRef:Wg,useState:function(){return Yc(Ma)},useDebugValue:hd,useDeferredValue:function(e){var t=mn();return Jg(t,ue.memoizedState,e)},useTransition:function(){var e=Yc(Ma)[0],t=mn().memoizedState;return[e,t]},useMutableSource:Fg,useSyncExternalStore:Bg,useId:tv,unstable_isNewReconciler:!1},T1={readContext:pn,useCallback:Yg,useContext:pn,useEffect:cd,useImperativeHandle:Qg,useInsertionEffect:qg,useLayoutEffect:Kg,useMemo:Xg,useReducer:Xc,useRef:Wg,useState:function(){return Xc(Ma)},useDebugValue:hd,useDeferredValue:function(e){var t=mn();return ue===null?t.memoizedState=e:Jg(t,ue.memoizedState,e)},useTransition:function(){var e=Xc(Ma)[0],t=mn().memoizedState;return[e,t]},useMutableSource:Fg,useSyncExternalStore:Bg,useId:tv,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=$t({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$t({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ic={isMounted:function(e){return(e=e._reactInternals)?Fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Be(),o=Ki(e),a=fi(r,o);a.payload=t,n!=null&&(a.callback=n),t=Wi(e,a,o),t!==null&&(xn(t,e,o,r),ru(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Be(),o=Ki(e),a=fi(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Wi(e,a,o),t!==null&&(xn(t,e,o,r),ru(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Be(),r=Ki(e),o=fi(n,r);o.tag=2,t!=null&&(o.callback=t),t=Wi(e,o,r),t!==null&&(xn(t,e,r,n),ru(t,e,r))}};function am(e,t,n,r,o,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!Ia(n,r)||!Ia(o,a):!0}function rv(e,t,n){var r=!1,o=Ji,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(o=qe(t)?Lr:Oe.current,r=t.contextTypes,a=(r=r!=null)?Vo(e,o):Ji),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ic,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function lm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function $h(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},id(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=pn(a):(a=qe(t)?Lr:Oe.current,o.context=Vo(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Hh(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ic.enqueueReplaceState(o,o.state,null),Ru(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Bo(e,t){try{var n="",r=t;do n+=Q0(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Jc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Zh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var P1=typeof WeakMap=="function"?WeakMap:Map;function ov(e,t,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vu||(Vu=!0,ef=r),Zh(e,t)},n}function sv(e,t,n){n=fi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Zh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zh(e,t),typeof r!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function um(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new P1;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=z1.bind(null,e,t,n),t.then(e,e))}function cm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hm(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fi(-1,1),t.tag=2,Wi(n,t,1))),n.lanes|=1),e)}var S1=yi.ReactCurrentOwner,Ze=!1;function be(e,t,n,r){t.child=e===null?Og(t,null,n,r):bo(t,e.child,n,r)}function fm(e,t,n,r,o){n=n.render;var a=t.ref;return ko(t,o),r=ld(e,t,n,r,a,o),n=ud(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_i(e,t,o)):(Ft&&n&&Qf(t),t.flags|=1,be(e,t,r,o),t.child)}function dm(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!yd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,av(e,t,a,r,o)):(e=cu(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(c,r)&&e.ref===t.ref)return _i(e,t,o)}return t.flags|=1,e=Gi(a,r),e.ref=t.ref,e.return=t,t.child=e}function av(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(Ia(a,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,_i(e,t,o)}return Wh(e,t,n,r,o)}function lv(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(So,Xe),Xe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dt(So,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Dt(So,Xe),Xe|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Dt(So,Xe),Xe|=r;return be(e,t,o,n),t.child}function uv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wh(e,t,n,r,o){var a=qe(n)?Lr:Oe.current;return a=Vo(t,a),ko(t,o),n=ld(e,t,n,r,a,o),r=ud(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_i(e,t,o)):(Ft&&r&&Qf(t),t.flags|=1,be(e,t,n,o),t.child)}function pm(e,t,n,r,o){if(qe(n)){var a=!0;Cu(t)}else a=!1;if(ko(t,o),t.stateNode===null)au(e,t),rv(t,n,r),$h(t,n,r,o),r=!0;else if(e===null){var c=t.stateNode,f=t.memoizedProps;c.props=f;var p=c.context,g=n.contextType;typeof g=="object"&&g!==null?g=pn(g):(g=qe(n)?Lr:Oe.current,g=Vo(t,g));var w=n.getDerivedStateFromProps,T=typeof w=="function"||typeof c.getSnapshotBeforeUpdate=="function";T||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==r||p!==g)&&lm(t,c,r,g),Oi=!1;var S=t.memoizedState;c.state=S,Ru(t,r,c,o),p=t.memoizedState,f!==r||S!==p||We.current||Oi?(typeof w=="function"&&(Hh(t,n,w,r),p=t.memoizedState),(f=Oi||am(t,n,f,r,S,p,g))?(T||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),c.props=r,c.state=p,c.context=g,r=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,zg(e,t),f=t.memoizedProps,g=t.type===t.elementType?f:Pn(t.type,f),c.props=g,T=t.pendingProps,S=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=pn(p):(p=qe(n)?Lr:Oe.current,p=Vo(t,p));var V=n.getDerivedStateFromProps;(w=typeof V=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==T||S!==p)&&lm(t,c,r,p),Oi=!1,S=t.memoizedState,c.state=S,Ru(t,r,c,o);var U=t.memoizedState;f!==T||S!==U||We.current||Oi?(typeof V=="function"&&(Hh(t,n,V,r),U=t.memoizedState),(g=Oi||am(t,n,g,r,S,U,p)||!1)?(w||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,U,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,U,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=U),c.props=r,c.state=U,c.context=p,r=g):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),r=!1)}return qh(e,t,n,r,a,o)}function qh(e,t,n,r,o,a){uv(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return o&&Jp(t,n,!1),_i(e,t,a);r=t.stateNode,S1.current=t;var f=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=bo(t,e.child,null,a),t.child=bo(t,null,f,a)):be(e,t,f,a),t.memoizedState=r.state,o&&Jp(t,n,!0),t.child}function cv(e){var t=e.stateNode;t.pendingContext?Xp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xp(e,t.context,!1),rd(e,t.containerInfo)}function mm(e,t,n,r,o){return zo(),Xf(o),t.flags|=256,be(e,t,n,r),t.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Gh(e){return{baseLanes:e,cachePool:null,transitions:null}}function hv(e,t,n){var r=t.pendingProps,o=jt.current,a=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(o&2)!==0),f?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Dt(jt,o&1),e===null)return Uh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=sc(c,r,0,null),e=Cr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Gh(n),t.memoizedState=Kh,e):fd(t,c));if(o=e.memoizedState,o!==null&&(f=o.dehydrated,f!==null))return I1(e,t,c,r,f,o,n);if(a){a=r.fallback,c=t.mode,o=e.child,f=o.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Gi(o,p),r.subtreeFlags=o.subtreeFlags&14680064),f!==null?a=Gi(f,a):(a=Cr(a,c,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c=c===null?Gh(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Kh,r}return a=e.child,e=a.sibling,r=Gi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fd(e,t){return t=sc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $l(e,t,n,r){return r!==null&&Xf(r),bo(t,e.child,null,n),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I1(e,t,n,r,o,a,c){if(n)return t.flags&256?(t.flags&=-257,r=Jc(Error(W(422))),$l(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=sc({mode:"visible",children:r.children},o,0,null),a=Cr(a,o,c,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&bo(t,e.child,null,c),t.child.memoizedState=Gh(c),t.memoizedState=Kh,a);if(!(t.mode&1))return $l(e,t,c,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var f=r.dgst;return r=f,a=Error(W(419)),r=Jc(a,r,void 0),$l(e,t,c,r)}if(f=(c&e.childLanes)!==0,Ze||f){if(r=ge,r!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|c)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,mi(e,o),xn(r,e,o,-1))}return vd(),r=Jc(Error(W(421))),$l(e,t,c,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=b1.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Je=Zi(o.nextSibling),tn=t,Ft=!0,Cn=null,e!==null&&(cn[hn++]=ci,cn[hn++]=hi,cn[hn++]=Rr,ci=e.id,hi=e.overflow,Rr=t),t=fd(t,r.children),t.flags|=4096,t)}function _m(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jh(e.return,t,n)}function th(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function fv(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(be(e,t,r.children,n),r=jt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_m(e,n,t);else if(e.tag===19)_m(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Dt(jt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Mu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),th(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Mu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}th(t,!0,n,null,a);break;case"together":th(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _i(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function C1(e,t,n){switch(t.tag){case 3:cv(t),zo();break;case 5:bg(t);break;case 1:qe(t.type)&&Cu(t);break;case 4:rd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Dt(ku,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Dt(jt,jt.current&1),t.flags|=128,null):n&t.child.childLanes?hv(e,t,n):(Dt(jt,jt.current&1),e=_i(e,t,n),e!==null?e.sibling:null);Dt(jt,jt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Dt(jt,jt.current),r)break;return null;case 22:case 23:return t.lanes=0,lv(e,t,n)}return _i(e,t,n)}var dv,Qh,pv,mv;dv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qh=function(){};pv=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Pr(jn.current);var a=null;switch(n){case"input":o=vh(e,o),r=vh(e,r),a=[];break;case"select":o=$t({},o,{value:void 0}),r=$t({},r,{value:void 0}),a=[];break;case"textarea":o=Eh(e,o),r=Eh(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Su)}Ph(n,r);var c;n=null;for(g in o)if(!r.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var f=o[g];for(c in f)f.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(va.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var p=r[g];if(f=o!=null?o[g]:void 0,r.hasOwnProperty(g)&&p!==f&&(p!=null||f!=null))if(g==="style")if(f){for(c in f)!f.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&f[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(a||(a=[]),a.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(a=a||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(va.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&Vt("scroll",e),a||f===p||(a=[])):(a=a||[]).push(g,p))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};mv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gs(e,t){if(!Ft)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function A1(e,t,n){var r=t.pendingProps;switch(Yf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return qe(t.type)&&Iu(),Le(t),null;case 3:return r=t.stateNode,Fo(),zt(We),zt(Oe),sd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cn!==null&&(of(Cn),Cn=null))),Qh(e,t),Le(t),null;case 5:od(t);var o=Pr(La.current);if(n=t.type,e!==null&&t.stateNode!=null)pv(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Le(t),null}if(e=Pr(jn.current),jl(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Fn]=t,r[xa]=a,e=(t.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(o=0;o<ea.length;o++)Vt(ea[o],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Ip(r,a),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vt("invalid",r);break;case"textarea":Ap(r,a),Vt("invalid",r)}Ph(n,a),o=null;for(var c in a)if(a.hasOwnProperty(c)){var f=a[c];c==="children"?typeof f=="string"?r.textContent!==f&&(a.suppressHydrationWarning!==!0&&Ul(r.textContent,f,e),o=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(a.suppressHydrationWarning!==!0&&Ul(r.textContent,f,e),o=["children",""+f]):va.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&Vt("scroll",r)}switch(n){case"input":Nl(r),Cp(r,a,!0);break;case"textarea":Nl(r),xp(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Su)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Fn]=t,e[xa]=r,dv(e,t,!1,!1),t.stateNode=e;t:{switch(c=Sh(n,r),n){case"dialog":Vt("cancel",e),Vt("close",e),o=r;break;case"iframe":case"object":case"embed":Vt("load",e),o=r;break;case"video":case"audio":for(o=0;o<ea.length;o++)Vt(ea[o],e);o=r;break;case"source":Vt("error",e),o=r;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),o=r;break;case"details":Vt("toggle",e),o=r;break;case"input":Ip(e,r),o=vh(e,r),Vt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$t({},r,{value:void 0}),Vt("invalid",e);break;case"textarea":Ap(e,r),o=Eh(e,r),Vt("invalid",e);break;default:o=r}Ph(n,o),f=o;for(a in f)if(f.hasOwnProperty(a)){var p=f[a];a==="style"?W_(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&$_(e,p)):a==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&ya(e,p):typeof p=="number"&&ya(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(va.hasOwnProperty(a)?p!=null&&a==="onScroll"&&Vt("scroll",e):p!=null&&Vf(e,a,p,c))}switch(n){case"input":Nl(e),Cp(e,r,!1);break;case"textarea":Nl(e),xp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Io(e,!!r.multiple,a,!1):r.defaultValue!=null&&Io(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)mv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Pr(La.current),Pr(jn.current),jl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fn]=t,(a=r.nodeValue!==n)&&(e=tn,e!==null))switch(e.tag){case 3:Ul(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=t,t.stateNode=r}return Le(t),null;case 13:if(zt(jt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ft&&Je!==null&&t.mode&1&&!(t.flags&128))Ng(),zo(),t.flags|=98560,a=!1;else if(a=jl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Fn]=t}else zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),a=!1}else Cn!==null&&(of(Cn),Cn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?he===0&&(he=3):vd())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Fo(),Qh(e,t),e===null&&Ca(t.stateNode.containerInfo),Le(t),null;case 10:return ed(t.type._context),Le(t),null;case 17:return qe(t.type)&&Iu(),Le(t),null;case 19:if(zt(jt),a=t.memoizedState,a===null)return Le(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)Gs(a,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Mu(e),c!==null){for(t.flags|=128,Gs(a,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Dt(jt,jt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Yt()>Uo&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(e=Mu(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!Ft)return Le(t),null}else 2*Yt()-a.renderingStartTime>Uo&&n!==1073741824&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(n=a.last,n!==null?n.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Yt(),t.sibling=null,n=jt.current,Dt(jt,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return gd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function x1(e,t){switch(Yf(t),t.tag){case 1:return qe(t.type)&&Iu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),zt(We),zt(Oe),sd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return od(t),null;case 13:if(zt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(jt),null;case 4:return Fo(),null;case 10:return ed(t.type._context),null;case 22:case 23:return gd(),null;case 24:return null;default:return null}}var Zl=!1,Ne=!1,k1=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Po(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(e,t,r)}else n.current=null}function Yh(e,t,n){try{n()}catch(r){Wt(e,t,r)}}var gm=!1;function L1(e,t){if(Dh=Eu,e=wg(),Gf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var c=0,f=-1,p=-1,g=0,w=0,T=e,S=null;e:for(;;){for(var V;T!==n||o!==0&&T.nodeType!==3||(f=c+o),T!==a||r!==0&&T.nodeType!==3||(p=c+r),T.nodeType===3&&(c+=T.nodeValue.length),(V=T.firstChild)!==null;)S=T,T=V;for(;;){if(T===e)break e;if(S===n&&++g===o&&(f=c),S===a&&++w===r&&(p=c),(V=T.nextSibling)!==null)break;T=S,S=T.parentNode}T=V}n=f===-1||p===-1?null:{start:f,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oh={focusedElem:e,selectionRange:n},Eu=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var U=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var B=U.memoizedProps,K=U.memoizedState,N=t.stateNode,C=N.getSnapshotBeforeUpdate(t.elementType===t.type?B:Pn(t.type,B),K);N.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){Wt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return U=gm,gm=!1,U}function ha(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Yh(t,n,a)}o=o.next}while(o!==r)}}function rc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _v(e){var t=e.alternate;t!==null&&(e.alternate=null,_v(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fn],delete t[xa],delete t[bh],delete t[f1],delete t[d1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gv(e){return e.tag===5||e.tag===3||e.tag===4}function vm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Su));else if(r!==4&&(e=e.child,e!==null))for(Jh(e,t,n),e=e.sibling;e!==null;)Jh(e,t,n),e=e.sibling}function tf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tf(e,t,n),e=e.sibling;e!==null;)tf(e,t,n),e=e.sibling}var we=null,In=!1;function Ni(e,t,n){for(n=n.child;n!==null;)vv(e,t,n),n=n.sibling}function vv(e,t,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Qu,n)}catch{}switch(n.tag){case 5:Ne||Po(n,t);case 6:var r=we,o=In;we=null,Ni(e,t,n),we=r,In=o,we!==null&&(In?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(In?(e=we,n=n.stateNode,e.nodeType===8?qc(e.parentNode,n):e.nodeType===1&&qc(e,n),Pa(e)):qc(we,n.stateNode));break;case 4:r=we,o=In,we=n.stateNode.containerInfo,In=!0,Ni(e,t,n),we=r,In=o;break;case 0:case 11:case 14:case 15:if(!Ne&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&Yh(n,t,c),o=o.next}while(o!==r)}Ni(e,t,n);break;case 1:if(!Ne&&(Po(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){Wt(n,t,f)}Ni(e,t,n);break;case 21:Ni(e,t,n);break;case 22:n.mode&1?(Ne=(r=Ne)||n.memoizedState!==null,Ni(e,t,n),Ne=r):Ni(e,t,n);break;default:Ni(e,t,n)}}function ym(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new k1),t.forEach(function(r){var o=F1.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Tn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,c=t,f=c;t:for(;f!==null;){switch(f.tag){case 5:we=f.stateNode,In=!1;break t;case 3:we=f.stateNode.containerInfo,In=!0;break t;case 4:we=f.stateNode.containerInfo,In=!0;break t}f=f.return}if(we===null)throw Error(W(160));vv(a,c,o),we=null,In=!1;var p=o.alternate;p!==null&&(p.return=null),o.return=null}catch(g){Wt(o,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yv(t,e),t=t.sibling}function yv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),zn(e),r&4){try{ha(3,e,e.return),rc(3,e)}catch(B){Wt(e,e.return,B)}try{ha(5,e,e.return)}catch(B){Wt(e,e.return,B)}}break;case 1:Tn(t,e),zn(e),r&512&&n!==null&&Po(n,n.return);break;case 5:if(Tn(t,e),zn(e),r&512&&n!==null&&Po(n,n.return),e.flags&32){var o=e.stateNode;try{ya(o,"")}catch(B){Wt(e,e.return,B)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,c=n!==null?n.memoizedProps:a,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&a.type==="radio"&&a.name!=null&&U_(o,a),Sh(f,c);var g=Sh(f,a);for(c=0;c<p.length;c+=2){var w=p[c],T=p[c+1];w==="style"?W_(o,T):w==="dangerouslySetInnerHTML"?$_(o,T):w==="children"?ya(o,T):Vf(o,w,T,g)}switch(f){case"input":yh(o,a);break;case"textarea":j_(o,a);break;case"select":var S=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var V=a.value;V!=null?Io(o,!!a.multiple,V,!1):S!==!!a.multiple&&(a.defaultValue!=null?Io(o,!!a.multiple,a.defaultValue,!0):Io(o,!!a.multiple,a.multiple?[]:"",!1))}o[xa]=a}catch(B){Wt(e,e.return,B)}}break;case 6:if(Tn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(W(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(B){Wt(e,e.return,B)}}break;case 3:if(Tn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(B){Wt(e,e.return,B)}break;case 4:Tn(t,e),zn(e);break;case 13:Tn(t,e),zn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(md=Yt())),r&4&&ym(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(Ne=(g=Ne)||w,Tn(t,e),Ne=g):Tn(t,e),zn(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!w&&e.mode&1)for(tt=e,w=e.child;w!==null;){for(T=tt=w;tt!==null;){switch(S=tt,V=S.child,S.tag){case 0:case 11:case 14:case 15:ha(4,S,S.return);break;case 1:Po(S,S.return);var U=S.stateNode;if(typeof U.componentWillUnmount=="function"){r=S,n=S.return;try{t=r,U.props=t.memoizedProps,U.state=t.memoizedState,U.componentWillUnmount()}catch(B){Wt(r,n,B)}}break;case 5:Po(S,S.return);break;case 22:if(S.memoizedState!==null){Em(T);continue}}V!==null?(V.return=S,tt=V):Em(T)}w=w.sibling}t:for(w=null,T=e;;){if(T.tag===5){if(w===null){w=T;try{o=T.stateNode,g?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(f=T.stateNode,p=T.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Z_("display",c))}catch(B){Wt(e,e.return,B)}}}else if(T.tag===6){if(w===null)try{T.stateNode.nodeValue=g?"":T.memoizedProps}catch(B){Wt(e,e.return,B)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break t;for(;T.sibling===null;){if(T.return===null||T.return===e)break t;w===T&&(w=null),T=T.return}w===T&&(w=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:Tn(t,e),zn(e),r&4&&ym(e);break;case 21:break;default:Tn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(gv(n)){var r=n;break t}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ya(o,""),r.flags&=-33);var a=vm(e);tf(e,a,o);break;case 3:case 4:var c=r.stateNode.containerInfo,f=vm(e);Jh(e,f,c);break;default:throw Error(W(161))}}catch(p){Wt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R1(e,t,n){tt=e,wv(e)}function wv(e,t,n){for(var r=(e.mode&1)!==0;tt!==null;){var o=tt,a=o.child;if(o.tag===22&&r){var c=o.memoizedState!==null||Zl;if(!c){var f=o.alternate,p=f!==null&&f.memoizedState!==null||Ne;f=Zl;var g=Ne;if(Zl=c,(Ne=p)&&!g)for(tt=o;tt!==null;)c=tt,p=c.child,c.tag===22&&c.memoizedState!==null?Tm(o):p!==null?(p.return=c,tt=p):Tm(o);for(;a!==null;)tt=a,wv(a),a=a.sibling;tt=o,Zl=f,Ne=g}wm(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,tt=a):wm(e)}}function wm(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ne||rc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ne)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Pn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&rm(t,a,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rm(t,c,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var w=g.memoizedState;if(w!==null){var T=w.dehydrated;T!==null&&Pa(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ne||t.flags&512&&Xh(t)}catch(S){Wt(t,t.return,S)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function Em(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function Tm(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(p){Wt(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(p){Wt(t,o,p)}}var a=t.return;try{Xh(t)}catch(p){Wt(t,a,p)}break;case 5:var c=t.return;try{Xh(t)}catch(p){Wt(t,c,p)}}}catch(p){Wt(t,t.return,p)}if(t===e){tt=null;break}var f=t.sibling;if(f!==null){f.return=t.return,tt=f;break}tt=t.return}}var M1=Math.ceil,Ou=yi.ReactCurrentDispatcher,dd=yi.ReactCurrentOwner,dn=yi.ReactCurrentBatchConfig,Ct=0,ge=null,re=null,Te=0,Xe=0,So=rr(0),he=0,Da=null,Nr=0,oc=0,pd=0,fa=null,$e=null,md=0,Uo=1/0,li=null,Vu=!1,ef=null,qi=null,Wl=!1,Fi=null,zu=0,da=0,nf=null,lu=-1,uu=0;function Be(){return Ct&6?Yt():lu!==-1?lu:lu=Yt()}function Ki(e){return e.mode&1?Ct&2&&Te!==0?Te&-Te:m1.transition!==null?(uu===0&&(uu=rg()),uu):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:hg(e.type)),e):1}function xn(e,t,n,r){if(50<da)throw da=0,nf=null,Error(W(185));ja(e,n,r),(!(Ct&2)||e!==ge)&&(e===ge&&(!(Ct&2)&&(oc|=n),he===4&&zi(e,Te)),Ke(e,r),n===1&&Ct===0&&!(t.mode&1)&&(Uo=Yt()+500,ec&&or()))}function Ke(e,t){var n=e.callbackNode;mw(e,t);var r=wu(e,e===ge?Te:0);if(r===0)n!==null&&Rp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rp(n),t===1)e.tag===0?p1(Pm.bind(null,e)):Lg(Pm.bind(null,e)),c1(function(){!(Ct&6)&&or()}),n=null;else{switch(og(r)){case 1:n=Uf;break;case 4:n=ng;break;case 16:n=yu;break;case 536870912:n=ig;break;default:n=yu}n=xv(n,Ev.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ev(e,t){if(lu=-1,uu=0,Ct&6)throw Error(W(327));var n=e.callbackNode;if(Lo()&&e.callbackNode!==n)return null;var r=wu(e,e===ge?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bu(e,r);else{t=r;var o=Ct;Ct|=2;var a=Pv();(ge!==e||Te!==t)&&(li=null,Uo=Yt()+500,Ir(e,t));do try{O1();break}catch(f){Tv(e,f)}while(1);td(),Ou.current=a,Ct=o,re!==null?t=0:(ge=null,Te=0,t=he)}if(t!==0){if(t===2&&(o=kh(e),o!==0&&(r=o,t=rf(e,o))),t===1)throw n=Da,Ir(e,0),zi(e,r),Ke(e,Yt()),n;if(t===6)zi(e,r);else{if(o=e.current.alternate,!(r&30)&&!N1(o)&&(t=bu(e,r),t===2&&(a=kh(e),a!==0&&(r=a,t=rf(e,a))),t===1))throw n=Da,Ir(e,0),zi(e,r),Ke(e,Yt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:yr(e,$e,li);break;case 3:if(zi(e,r),(r&130023424)===r&&(t=md+500-Yt(),10<t)){if(wu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Be(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=zh(yr.bind(null,e,$e,li),t);break}yr(e,$e,li);break;case 4:if(zi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var c=31-An(r);a=1<<c,c=t[c],c>o&&(o=c),r&=~a}if(r=o,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M1(r/1960))-r,10<r){e.timeoutHandle=zh(yr.bind(null,e,$e,li),r);break}yr(e,$e,li);break;case 5:yr(e,$e,li);break;default:throw Error(W(329))}}}return Ke(e,Yt()),e.callbackNode===n?Ev.bind(null,e):null}function rf(e,t){var n=fa;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=bu(e,t),e!==2&&(t=$e,$e=n,t!==null&&of(t)),e}function of(e){$e===null?$e=e:$e.push.apply($e,e)}function N1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!kn(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zi(e,t){for(t&=~pd,t&=~oc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-An(t),r=1<<n;e[n]=-1,t&=~r}}function Pm(e){if(Ct&6)throw Error(W(327));Lo();var t=wu(e,0);if(!(t&1))return Ke(e,Yt()),null;var n=bu(e,t);if(e.tag!==0&&n===2){var r=kh(e);r!==0&&(t=r,n=rf(e,r))}if(n===1)throw n=Da,Ir(e,0),zi(e,t),Ke(e,Yt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,$e,li),Ke(e,Yt()),null}function _d(e,t){var n=Ct;Ct|=1;try{return e(t)}finally{Ct=n,Ct===0&&(Uo=Yt()+500,ec&&or())}}function Dr(e){Fi!==null&&Fi.tag===0&&!(Ct&6)&&Lo();var t=Ct;Ct|=1;var n=dn.transition,r=Rt;try{if(dn.transition=null,Rt=1,e)return e()}finally{Rt=r,dn.transition=n,Ct=t,!(Ct&6)&&or()}}function gd(){Xe=So.current,zt(So)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,u1(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(Yf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iu();break;case 3:Fo(),zt(We),zt(Oe),sd();break;case 5:od(r);break;case 4:Fo();break;case 13:zt(jt);break;case 19:zt(jt);break;case 10:ed(r.type._context);break;case 22:case 23:gd()}n=n.return}if(ge=e,re=e=Gi(e.current,null),Te=Xe=t,he=0,Da=null,pd=oc=Nr=0,$e=fa=null,Tr!==null){for(t=0;t<Tr.length;t++)if(n=Tr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var c=a.next;a.next=o,r.next=c}n.pending=r}Tr=null}return e}function Tv(e,t){do{var n=re;try{if(td(),ou.current=Du,Nu){for(var r=Ht.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Nu=!1}if(Mr=0,_e=ue=Ht=null,ca=!1,Ra=0,dd.current=null,n===null||n.return===null){he=1,Da=t,re=null;break}t:{var a=e,c=n.return,f=n,p=t;if(t=Te,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,w=f,T=w.tag;if(!(w.mode&1)&&(T===0||T===11||T===15)){var S=w.alternate;S?(w.updateQueue=S.updateQueue,w.memoizedState=S.memoizedState,w.lanes=S.lanes):(w.updateQueue=null,w.memoizedState=null)}var V=cm(c);if(V!==null){V.flags&=-257,hm(V,c,f,a,t),V.mode&1&&um(a,g,t),t=V,p=g;var U=t.updateQueue;if(U===null){var B=new Set;B.add(p),t.updateQueue=B}else U.add(p);break t}else{if(!(t&1)){um(a,g,t),vd();break t}p=Error(W(426))}}else if(Ft&&f.mode&1){var K=cm(c);if(K!==null){!(K.flags&65536)&&(K.flags|=256),hm(K,c,f,a,t),Xf(Bo(p,f));break t}}a=p=Bo(p,f),he!==4&&(he=2),fa===null?fa=[a]:fa.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=ov(a,p,t);im(a,N);break t;case 1:f=p;var C=a.type,M=a.stateNode;if(!(a.flags&128)&&(typeof C.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(qi===null||!qi.has(M)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=sv(a,f,t);im(a,j);break t}}a=a.return}while(a!==null)}Iv(n)}catch(Q){t=Q,re===n&&n!==null&&(re=n=n.return);continue}break}while(1)}function Pv(){var e=Ou.current;return Ou.current=Du,e===null?Du:e}function vd(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Nr&268435455)&&!(oc&268435455)||zi(ge,Te)}function bu(e,t){var n=Ct;Ct|=2;var r=Pv();(ge!==e||Te!==t)&&(li=null,Ir(e,t));do try{D1();break}catch(o){Tv(e,o)}while(1);if(td(),Ct=n,Ou.current=r,re!==null)throw Error(W(261));return ge=null,Te=0,he}function D1(){for(;re!==null;)Sv(re)}function O1(){for(;re!==null&&!sw();)Sv(re)}function Sv(e){var t=Av(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Iv(e):re=t,dd.current=null}function Iv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=x1(n,t),n!==null){n.flags&=32767,re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,re=null;return}}else if(n=A1(n,t,Xe),n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);he===0&&(he=5)}function yr(e,t,n){var r=Rt,o=dn.transition;try{dn.transition=null,Rt=1,V1(e,t,n,r)}finally{dn.transition=o,Rt=r}return null}function V1(e,t,n,r){do Lo();while(Fi!==null);if(Ct&6)throw Error(W(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(_w(e,a),e===ge&&(re=ge=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wl||(Wl=!0,xv(yu,function(){return Lo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=dn.transition,dn.transition=null;var c=Rt;Rt=1;var f=Ct;Ct|=4,dd.current=null,L1(e,n),yv(n,e),n1(Oh),Eu=!!Dh,Oh=Dh=null,e.current=n,R1(n),aw(),Ct=f,Rt=c,dn.transition=a}else e.current=n;if(Wl&&(Wl=!1,Fi=e,zu=o),a=e.pendingLanes,a===0&&(qi=null),cw(n.stateNode),Ke(e,Yt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vu)throw Vu=!1,e=ef,ef=null,e;return zu&1&&e.tag!==0&&Lo(),a=e.pendingLanes,a&1?e===nf?da++:(da=0,nf=e):da=0,or(),null}function Lo(){if(Fi!==null){var e=og(zu),t=dn.transition,n=Rt;try{if(dn.transition=null,Rt=16>e?16:e,Fi===null)var r=!1;else{if(e=Fi,Fi=null,zu=0,Ct&6)throw Error(W(331));var o=Ct;for(Ct|=4,tt=e.current;tt!==null;){var a=tt,c=a.child;if(tt.flags&16){var f=a.deletions;if(f!==null){for(var p=0;p<f.length;p++){var g=f[p];for(tt=g;tt!==null;){var w=tt;switch(w.tag){case 0:case 11:case 15:ha(8,w,a)}var T=w.child;if(T!==null)T.return=w,tt=T;else for(;tt!==null;){w=tt;var S=w.sibling,V=w.return;if(_v(w),w===g){tt=null;break}if(S!==null){S.return=V,tt=S;break}tt=V}}}var U=a.alternate;if(U!==null){var B=U.child;if(B!==null){U.child=null;do{var K=B.sibling;B.sibling=null,B=K}while(B!==null)}}tt=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,tt=c;else t:for(;tt!==null;){if(a=tt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ha(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,tt=N;break t}tt=a.return}}var C=e.current;for(tt=C;tt!==null;){c=tt;var M=c.child;if(c.subtreeFlags&2064&&M!==null)M.return=c,tt=M;else t:for(c=C;tt!==null;){if(f=tt,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:rc(9,f)}}catch(Q){Wt(f,f.return,Q)}if(f===c){tt=null;break t}var j=f.sibling;if(j!==null){j.return=f.return,tt=j;break t}tt=f.return}}if(Ct=o,or(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Qu,e)}catch{}r=!0}return r}finally{Rt=n,dn.transition=t}}return!1}function Sm(e,t,n){t=Bo(n,t),t=ov(e,t,1),e=Wi(e,t,1),t=Be(),e!==null&&(ja(e,1,t),Ke(e,t))}function Wt(e,t,n){if(e.tag===3)Sm(e,e,n);else for(;t!==null;){if(t.tag===3){Sm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){e=Bo(n,e),e=sv(t,e,1),t=Wi(t,e,1),e=Be(),t!==null&&(ja(t,1,e),Ke(t,e));break}}t=t.return}}function z1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(Te&n)===n&&(he===4||he===3&&(Te&130023424)===Te&&500>Yt()-md?Ir(e,0):pd|=n),Ke(e,t)}function Cv(e,t){t===0&&(e.mode&1?(t=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):t=1);var n=Be();e=mi(e,t),e!==null&&(ja(e,t,n),Ke(e,n))}function b1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cv(e,n)}function F1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),Cv(e,n)}var Av;Av=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,C1(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,Ft&&t.flags&1048576&&Rg(t,xu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;au(e,t),e=t.pendingProps;var o=Vo(t,Oe.current);ko(t,n),o=ld(null,t,r,e,o,n);var a=ud();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(a=!0,Cu(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,id(t),o.updater=ic,t.stateNode=o,o._reactInternals=t,$h(t,r,e,n),t=qh(null,t,r,!0,a,n)):(t.tag=0,Ft&&a&&Qf(t),be(null,t,o,n),t=t.child),t;case 16:r=t.elementType;t:{switch(au(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=U1(r),e=Pn(r,e),o){case 0:t=Wh(null,t,r,e,n);break t;case 1:t=pm(null,t,r,e,n);break t;case 11:t=fm(null,t,r,e,n);break t;case 14:t=dm(null,t,r,Pn(r.type,e),n);break t}throw Error(W(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),Wh(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),pm(e,t,r,o,n);case 3:t:{if(cv(t),e===null)throw Error(W(387));r=t.pendingProps,a=t.memoizedState,o=a.element,zg(e,t),Ru(t,r,null,n);var c=t.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Bo(Error(W(423)),t),t=mm(e,t,r,n,o);break t}else if(r!==o){o=Bo(Error(W(424)),t),t=mm(e,t,r,n,o);break t}else for(Je=Zi(t.stateNode.containerInfo.firstChild),tn=t,Ft=!0,Cn=null,n=Og(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===o){t=_i(e,t,n);break t}be(e,t,r,n)}t=t.child}return t;case 5:return bg(t),e===null&&Uh(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,c=o.children,Vh(r,o)?c=null:a!==null&&Vh(r,a)&&(t.flags|=32),uv(e,t),be(e,t,c,n),t.child;case 6:return e===null&&Uh(t),null;case 13:return hv(e,t,n);case 4:return rd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bo(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),fm(e,t,r,o,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,c=o.value,Dt(ku,r._currentValue),r._currentValue=c,a!==null)if(kn(a.value,c)){if(a.children===o.children&&!We.current){t=_i(e,t,n);break t}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){c=a.child;for(var p=f.firstContext;p!==null;){if(p.context===r){if(a.tag===1){p=fi(-1,n&-n),p.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var w=g.pending;w===null?p.next=p:(p.next=w.next,w.next=p),g.pending=p}}a.lanes|=n,p=a.alternate,p!==null&&(p.lanes|=n),jh(a.return,n,t),f.lanes|=n;break}p=p.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(W(341));c.lanes|=n,f=c.alternate,f!==null&&(f.lanes|=n),jh(c,n,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}be(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ko(t,n),o=pn(o),r=r(o),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,o=Pn(r,t.pendingProps),o=Pn(r.type,o),dm(e,t,r,o,n);case 15:return av(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),au(e,t),t.tag=1,qe(r)?(e=!0,Cu(t)):e=!1,ko(t,n),rv(t,r,o),$h(t,r,o,n),qh(null,t,r,!0,e,n);case 19:return fv(e,t,n);case 22:return lv(e,t,n)}throw Error(W(156,t.tag))};function xv(e,t){return eg(e,t)}function B1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,r){return new B1(e,t,n,r)}function yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U1(e){if(typeof e=="function")return yd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bf)return 11;if(e===Ff)return 14}return 2}function Gi(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cu(e,t,n,r,o,a){var c=2;if(r=e,typeof e=="function")yd(e)&&(c=1);else if(typeof e=="string")c=5;else t:switch(e){case po:return Cr(n.children,o,a,t);case zf:c=8,o|=8;break;case ph:return e=fn(12,n,t,o|2),e.elementType=ph,e.lanes=a,e;case mh:return e=fn(13,n,t,o),e.elementType=mh,e.lanes=a,e;case _h:return e=fn(19,n,t,o),e.elementType=_h,e.lanes=a,e;case b_:return sc(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V_:c=10;break t;case z_:c=9;break t;case bf:c=11;break t;case Ff:c=14;break t;case Di:c=16,r=null;break t}throw Error(W(130,e==null?e:typeof e,""))}return t=fn(c,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function Cr(e,t,n,r){return e=fn(7,e,r,t),e.lanes=n,e}function sc(e,t,n,r){return e=fn(22,e,r,t),e.elementType=b_,e.lanes=n,e.stateNode={isHidden:!1},e}function eh(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function nh(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j1(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function wd(e,t,n,r,o,a,c,f,p){return e=new j1(e,t,n,f,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=fn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},id(a),e}function H1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kv(e){if(!e)return Ji;e=e._reactInternals;t:{if(Fr(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(qe(n))return kg(e,n,t)}return t}function Lv(e,t,n,r,o,a,c,f,p){return e=wd(n,r,!0,e,o,a,c,f,p),e.context=kv(null),n=e.current,r=Be(),o=Ki(n),a=fi(r,o),a.callback=t??null,Wi(n,a,o),e.current.lanes=o,ja(e,o,r),Ke(e,r),e}function ac(e,t,n,r){var o=t.current,a=Be(),c=Ki(o);return n=kv(n),t.context===null?t.context=n:t.pendingContext=n,t=fi(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wi(o,t,c),e!==null&&(xn(e,o,c,a),ru(e,o,c)),c}function Fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ed(e,t){Im(e,t),(e=e.alternate)&&Im(e,t)}function $1(){return null}var Rv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Td(e){this._internalRoot=e}lc.prototype.render=Td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));ac(e,t,null,null)};lc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){ac(null,e,null,null)}),t[pi]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var t=lg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vi.length&&t!==0&&t<Vi[n].priority;n++);Vi.splice(n,0,e),n===0&&cg(e)}};function Pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cm(){}function Z1(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var g=Fu(c);a.call(g)}}var c=Lv(t,r,e,0,null,!1,!1,"",Cm);return e._reactRootContainer=c,e[pi]=c.current,Ca(e.nodeType===8?e.parentNode:e),Dr(),c}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var f=r;r=function(){var g=Fu(p);f.call(g)}}var p=wd(e,0,!1,null,null,!1,!1,"",Cm);return e._reactRootContainer=p,e[pi]=p.current,Ca(e.nodeType===8?e.parentNode:e),Dr(function(){ac(t,p,n,r)}),p}function cc(e,t,n,r,o){var a=n._reactRootContainer;if(a){var c=a;if(typeof o=="function"){var f=o;o=function(){var p=Fu(c);f.call(p)}}ac(t,c,e,o)}else c=Z1(n,t,e,o,r);return Fu(c)}sg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ta(t.pendingLanes);n!==0&&(jf(t,n|1),Ke(t,Yt()),!(Ct&6)&&(Uo=Yt()+500,or()))}break;case 13:Dr(function(){var r=mi(e,1);if(r!==null){var o=Be();xn(r,e,1,o)}}),Ed(e,1)}};Hf=function(e){if(e.tag===13){var t=mi(e,134217728);if(t!==null){var n=Be();xn(t,e,134217728,n)}Ed(e,134217728)}};ag=function(e){if(e.tag===13){var t=Ki(e),n=mi(e,t);if(n!==null){var r=Be();xn(n,e,t,r)}Ed(e,t)}};lg=function(){return Rt};ug=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}};Ch=function(e,t,n){switch(t){case"input":if(yh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=tc(r);if(!o)throw Error(W(90));B_(r),yh(r,o)}}}break;case"textarea":j_(e,n);break;case"select":t=n.value,t!=null&&Io(e,!!n.multiple,t,!1)}};G_=_d;Q_=Dr;var W1={usingClientEntryPoint:!1,Events:[$a,vo,tc,q_,K_,_d]},Qs={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q1={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=J_(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Qu=ql.inject(q1),Un=ql}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W1;nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pd(t))throw Error(W(200));return H1(e,t,null,n)};nn.createRoot=function(e,t){if(!Pd(e))throw Error(W(299));var n=!1,r="",o=Rv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=wd(e,1,!1,null,null,n,!1,r,o),e[pi]=t.current,Ca(e.nodeType===8?e.parentNode:e),new Td(t)};nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=J_(t),e=e===null?null:e.stateNode,e};nn.flushSync=function(e){return Dr(e)};nn.hydrate=function(e,t,n){if(!uc(t))throw Error(W(200));return cc(null,e,t,!0,n)};nn.hydrateRoot=function(e,t,n){if(!Pd(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",c=Rv;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=Lv(t,null,e,1,n??null,o,!1,a,c),e[pi]=t.current,Ca(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new lc(t)};nn.render=function(e,t,n){if(!uc(t))throw Error(W(200));return cc(null,e,t,!1,n)};nn.unmountComponentAtNode=function(e){if(!uc(e))throw Error(W(40));return e._reactRootContainer?(Dr(function(){cc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0):!1};nn.unstable_batchedUpdates=_d;nn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!uc(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return cc(e,t,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function Mv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mv)}catch(e){console.error(e)}}Mv(),M_.exports=nn;var Nv=M_.exports,Am=Nv;fh.createRoot=Am.createRoot,fh.hydrateRoot=Am.hydrateRoot;function Dv(e,t){const n=xt.useRef(t);xt.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const K1=1;function G1(e){return Object.freeze({__version:K1,map:e})}function Q1(e,t){return Object.freeze({...e,...t})}const Ov=xt.createContext(null),Vv=Ov.Provider;function zv(){const e=xt.useContext(Ov);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Y1(e){function t(n,r){const{instance:o,context:a}=e(n).current;return xt.useImperativeHandle(r,()=>o),n.children==null?null:mu.createElement(Vv,{value:a},n.children)}return xt.forwardRef(t)}function X1(e){function t(n,r){const[o,a]=xt.useState(!1),{instance:c}=e(n,a).current;xt.useImperativeHandle(r,()=>c),xt.useEffect(function(){o&&c.update()},[c,o,n.children]);const f=c._contentNode;return f?Nv.createPortal(n.children,f):null}return xt.forwardRef(t)}function J1(e){function t(n,r){const{instance:o}=e(n).current;return xt.useImperativeHandle(r,()=>o),null}return xt.forwardRef(t)}function bv(e,t){const n=xt.useRef();xt.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Sd(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function tE(e,t){return function(r,o){const a=zv(),c=e(Sd(r,a),a);return Dv(a.map,r.attribution),bv(c.current,r.eventHandlers),t(c.current,a,r,o),c}}var sf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(E0,function(n){var r="1.9.4";function o(i){var s,u,h,m;for(u=1,h=arguments.length;u<h;u++){m=arguments[u];for(s in m)i[s]=m[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function c(i,s){var u=Array.prototype.slice;if(i.bind)return i.bind.apply(i,u.call(arguments,1));var h=u.call(arguments,2);return function(){return i.apply(s,h.length?h.concat(u.call(arguments)):arguments)}}var f=0;function p(i){return"_leaflet_id"in i||(i._leaflet_id=++f),i._leaflet_id}function g(i,s,u){var h,m,v,A;return A=function(){h=!1,m&&(v.apply(u,m),m=!1)},v=function(){h?m=arguments:(i.apply(u,arguments),setTimeout(A,s),h=!0)},v}function w(i,s,u){var h=s[1],m=s[0],v=h-m;return i===h&&u?i:((i-m)%v+v)%v+m}function T(){return!1}function S(i,s){if(s===!1)return i;var u=Math.pow(10,s===void 0?6:s);return Math.round(i*u)/u}function V(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function U(i){return V(i).split(/\s+/)}function B(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var u in s)i.options[u]=s[u];return i.options}function K(i,s,u){var h=[];for(var m in i)h.push(encodeURIComponent(u?m.toUpperCase():m)+"="+encodeURIComponent(i[m]));return(!s||s.indexOf("?")===-1?"?":"&")+h.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function C(i,s){return i.replace(N,function(u,h){var m=s[h];if(m===void 0)throw new Error("No value provided for variable "+u);return typeof m=="function"&&(m=m(s)),m})}var M=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function j(i,s){for(var u=0;u<i.length;u++)if(i[u]===s)return u;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var I=0;function E(i){var s=+new Date,u=Math.max(0,16-(s-I));return I=s+u,window.setTimeout(i,u)}var P=window.requestAnimationFrame||Y("RequestAnimationFrame")||E,k=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function R(i,s,u){if(u&&P===E)i.call(s);else return P.call(window,c(i,s))}function D(i){i&&k.call(window,i)}var x={__proto__:null,extend:o,create:a,bind:c,get lastId(){return f},stamp:p,throttle:g,wrapNum:w,falseFn:T,formatNum:S,trim:V,splitWords:U,setOptions:B,getParamString:K,template:C,isArray:M,indexOf:j,emptyImageUrl:Q,requestFn:P,cancelFn:k,requestAnimFrame:R,cancelAnimFrame:D};function Zt(){}Zt.extend=function(i){var s=function(){B(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,h=a(u);h.constructor=s,s.prototype=h;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(s[m]=this[m]);return i.statics&&o(s,i.statics),i.includes&&(Wn(i.includes),o.apply(null,[h].concat(i.includes))),o(h,i),delete h.statics,delete h.includes,h.options&&(h.options=u.options?a(u.options):{},o(h.options,i.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,A=h._initHooks.length;v<A;v++)h._initHooks[v].call(this)}},s},Zt.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},Zt.mergeOptions=function(i){return o(this.prototype.options,i),this},Zt.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),u=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Wn(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=M(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(i,s,u){if(typeof i=="object")for(var h in i)this._on(h,i[h],s);else{i=U(i);for(var m=0,v=i.length;m<v;m++)this._on(i[m],s,u)}return this},off:function(i,s,u){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var h in i)this._off(h,i[h],s);else{i=U(i);for(var m=arguments.length===1,v=0,A=i.length;v<A;v++)m?this._off(i[v]):this._off(i[v],s,u)}return this},_on:function(i,s,u,h){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,u)===!1){u===this&&(u=void 0);var m={fn:s,ctx:u};h&&(m.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(m)}},_off:function(i,s,u){var h,m,v;if(this._events&&(h=this._events[i],!!h)){if(arguments.length===1){if(this._firingCount)for(m=0,v=h.length;m<v;m++)h[m].fn=T;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var A=this._listens(i,s,u);if(A!==!1){var z=h[A];this._firingCount&&(z.fn=T,this._events[i]=h=h.slice()),h.splice(A,1)}}},fire:function(i,s,u){if(!this.listens(i,u))return this;var h=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var m=this._events[i];if(m){this._firingCount=this._firingCount+1||1;for(var v=0,A=m.length;v<A;v++){var z=m[v],b=z.fn;z.once&&this.off(i,b,z.ctx),b.call(z.ctx||this,h)}this._firingCount--}}return u&&this._propagateEvent(h),this},listens:function(i,s,u,h){typeof i!="string"&&console.warn('"string" type argument expected');var m=s;typeof s!="function"&&(h=!!s,m=void 0,u=void 0);var v=this._events&&this._events[i];if(v&&v.length&&this._listens(i,m,u)!==!1)return!0;if(h){for(var A in this._eventParents)if(this._eventParents[A].listens(i,s,u,h))return!0}return!1},_listens:function(i,s,u){if(!this._events)return!1;var h=this._events[i]||[];if(!s)return!!h.length;u===this&&(u=void 0);for(var m=0,v=h.length;m<v;m++)if(h[m].fn===s&&h[m].ctx===u)return m;return!1},once:function(i,s,u){if(typeof i=="object")for(var h in i)this._on(h,i[h],s,!0);else{i=U(i);for(var m=0,v=i.length;m<v;m++)this._on(i[m],s,u,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[p(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[p(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var Ve=Zt.extend(oe);function H(i,s,u){this.x=u?Math.round(i):i,this.y=u?Math.round(s):s}var ot=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(i){return this.clone()._add(q(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(q(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new H(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new H(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ot(this.x),this.y=ot(this.y),this},distanceTo:function(i){i=q(i);var s=i.x-this.x,u=i.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(i){return i=q(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=q(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function q(i,s,u){return i instanceof H?i:M(i)?new H(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new H(i.x,i.y):new H(i,s,u)}function at(i,s){if(i)for(var u=s?[i,s]:i,h=0,m=u.length;h<m;h++)this.extend(u[h])}at.prototype={extend:function(i){var s,u;if(!i)return this;if(i instanceof H||typeof i[0]=="number"||"x"in i)s=u=q(i);else if(i=ft(i),s=i.min,u=i.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(i){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,u;return typeof i[0]=="number"||i instanceof H?i=q(i):i=ft(i),i instanceof at?(s=i.min,u=i.max):s=u=i,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(i){i=ft(i);var s=this.min,u=this.max,h=i.min,m=i.max,v=m.x>=s.x&&h.x<=u.x,A=m.y>=s.y&&h.y<=u.y;return v&&A},overlaps:function(i){i=ft(i);var s=this.min,u=this.max,h=i.min,m=i.max,v=m.x>s.x&&h.x<u.x,A=m.y>s.y&&h.y<u.y;return v&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,u=this.max,h=Math.abs(s.x-u.x)*i,m=Math.abs(s.y-u.y)*i;return ft(q(s.x-h,s.y-m),q(u.x+h,u.y+m))},equals:function(i){return i?(i=ft(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ft(i,s){return!i||i instanceof at?i:new at(i,s)}function yt(i,s){if(i)for(var u=s?[i,s]:i,h=0,m=u.length;h<m;h++)this.extend(u[h])}yt.prototype={extend:function(i){var s=this._southWest,u=this._northEast,h,m;if(i instanceof mt)h=i,m=i;else if(i instanceof yt){if(h=i._southWest,m=i._northEast,!h||!m)return this}else return i?this.extend(ut(i)||kt(i)):this;return!s&&!u?(this._southWest=new mt(h.lat,h.lng),this._northEast=new mt(m.lat,m.lng)):(s.lat=Math.min(h.lat,s.lat),s.lng=Math.min(h.lng,s.lng),u.lat=Math.max(m.lat,u.lat),u.lng=Math.max(m.lng,u.lng)),this},pad:function(i){var s=this._southWest,u=this._northEast,h=Math.abs(s.lat-u.lat)*i,m=Math.abs(s.lng-u.lng)*i;return new yt(new mt(s.lat-h,s.lng-m),new mt(u.lat+h,u.lng+m))},getCenter:function(){return new mt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new mt(this.getNorth(),this.getWest())},getSouthEast:function(){return new mt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof mt||"lat"in i?i=ut(i):i=kt(i);var s=this._southWest,u=this._northEast,h,m;return i instanceof yt?(h=i.getSouthWest(),m=i.getNorthEast()):h=m=i,h.lat>=s.lat&&m.lat<=u.lat&&h.lng>=s.lng&&m.lng<=u.lng},intersects:function(i){i=kt(i);var s=this._southWest,u=this._northEast,h=i.getSouthWest(),m=i.getNorthEast(),v=m.lat>=s.lat&&h.lat<=u.lat,A=m.lng>=s.lng&&h.lng<=u.lng;return v&&A},overlaps:function(i){i=kt(i);var s=this._southWest,u=this._northEast,h=i.getSouthWest(),m=i.getNorthEast(),v=m.lat>s.lat&&h.lat<u.lat,A=m.lng>s.lng&&h.lng<u.lng;return v&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=kt(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function kt(i,s){return i instanceof yt?i:new yt(i,s)}function mt(i,s,u){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,u!==void 0&&(this.alt=+u)}mt.prototype={equals:function(i,s){if(!i)return!1;i=ut(i);var u=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return u<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+S(this.lat,i)+", "+S(this.lng,i)+")"},distanceTo:function(i){return Ln.distance(this,ut(i))},wrap:function(){return Ln.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,u=s/Math.cos(Math.PI/180*this.lat);return kt([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new mt(this.lat,this.lng,this.alt)}};function ut(i,s,u){return i instanceof mt?i:M(i)&&typeof i[0]!="object"?i.length===3?new mt(i[0],i[1],i[2]):i.length===2?new mt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new mt(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new mt(i,s,u)}var Jt={latLngToPoint:function(i,s){var u=this.projection.project(i),h=this.scale(s);return this.transformation._transform(u,h)},pointToLatLng:function(i,s){var u=this.scale(s),h=this.transformation.untransform(i,u);return this.projection.unproject(h)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(i),h=this.transformation.transform(s.min,u),m=this.transformation.transform(s.max,u);return new at(h,m)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?w(i.lng,this.wrapLng,!0):i.lng,u=this.wrapLat?w(i.lat,this.wrapLat,!0):i.lat,h=i.alt;return new mt(u,s,h)},wrapLatLngBounds:function(i){var s=i.getCenter(),u=this.wrapLatLng(s),h=s.lat-u.lat,m=s.lng-u.lng;if(h===0&&m===0)return i;var v=i.getSouthWest(),A=i.getNorthEast(),z=new mt(v.lat-h,v.lng-m),b=new mt(A.lat-h,A.lng-m);return new yt(z,b)}},Ln=o({},Jt,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var u=Math.PI/180,h=i.lat*u,m=s.lat*u,v=Math.sin((s.lat-i.lat)*u/2),A=Math.sin((s.lng-i.lng)*u/2),z=v*v+Math.cos(h)*Math.cos(m)*A*A,b=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*b}}),Qa=6378137,wi={R:Qa,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,u=this.MAX_LATITUDE,h=Math.max(Math.min(u,i.lat),-u),m=Math.sin(h*s);return new H(this.R*i.lng*s,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(i){var s=180/Math.PI;return new mt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=Qa*Math.PI;return new at([-i,-i],[i,i])}()};function Ei(i,s,u,h){if(M(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=u,this._d=h}Ei.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new H((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function qn(i,s,u,h){return new Ei(i,s,u,h)}var sr=o({},Ln,{code:"EPSG:3857",projection:wi,transformation:function(){var i=.5/(Math.PI*wi.R);return qn(i,.5,-i,.5)}()}),ns=o({},sr,{code:"EPSG:900913"});function Br(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function is(i,s){var u="",h,m,v,A,z,b;for(h=0,v=i.length;h<v;h++){for(z=i[h],m=0,A=z.length;m<A;m++)b=z[m],u+=(m?"L":"M")+b.x+" "+b.y;u+=s?nt.svg?"z":"x":""}return u||"M0 0"}var Ur=document.documentElement.style,jr="ActiveXObject"in window,Ya=jr&&!document.addEventListener,rs="msLaunchUri"in navigator&&!("documentMode"in document),ar=Ce("webkit"),os=Ce("android"),Xa=Ce("android 2")||Ce("android 3"),ss=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),as=os&&Ce("Google")&&ss<537&&!("AudioNode"in window),lr=!!window.opera,se=!rs&&Ce("chrome"),fe=Ce("gecko")&&!ar&&!lr&&!jr,Hr=!se&&Ce("safari"),ls=Ce("phantom"),us="OTransition"in Ur,Tc=navigator.platform.indexOf("Win")===0,Ti=jr&&"transition"in Ur,$r="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xa,cs="MozPerspective"in Ur,hs=!window.L_DISABLE_3D&&(Ti||$r||cs)&&!us&&!ls,ur=typeof orientation<"u"||Ce("mobile"),Pc=ur&&ar,fs=ur&&$r,ds=!window.PointerEvent&&window.MSPointerEvent,ps=!!(window.PointerEvent||ds),Pi="ontouchstart"in window||!!window.TouchEvent,ms=!window.L_NO_TOUCH&&(Pi||ps),_s=ur&&lr,Kn=ur&&fe,Ja=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zr=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",T,s),window.removeEventListener("testPassiveEventSupport",T,s)}catch{}return i}(),tl=function(){return!!document.createElement("canvas").getContext}(),Gn=!!(document.createElementNS&&Br("svg").createSVGRect),el=!!Gn&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ve=!Gn&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),nl=navigator.platform.indexOf("Mac")===0,cr=navigator.platform.indexOf("Linux")===0;function Ce(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var nt={ie:jr,ielt9:Ya,edge:rs,webkit:ar,android:os,android23:Xa,androidStock:as,opera:lr,chrome:se,gecko:fe,safari:Hr,phantom:ls,opera12:us,win:Tc,ie3d:Ti,webkit3d:$r,gecko3d:cs,any3d:hs,mobile:ur,mobileWebkit:Pc,mobileWebkit3d:fs,msPointer:ds,pointer:ps,touch:ms,touchNative:Pi,mobileOpera:_s,mobileGecko:Kn,retina:Ja,passiveEvents:Zr,canvas:tl,svg:Gn,vml:ve,inlineSvg:el,mac:nl,linux:cr},il=nt.msPointer?"MSPointerDown":"pointerdown",Qn=nt.msPointer?"MSPointerMove":"pointermove",rl=nt.msPointer?"MSPointerUp":"pointerup",ol=nt.msPointer?"MSPointerCancel":"pointercancel",Si={touchstart:il,touchmove:Qn,touchend:rl,touchcancel:ol},gs={touchstart:Sc,touchmove:fr,touchend:fr,touchcancel:fr},Rn={},hr=!1;function Mn(i,s,u){return s==="touchstart"&&ll(),gs[s]?(u=gs[s].bind(this,u),i.addEventListener(Si[s],u,!1),u):(console.warn("wrong event specified:",s),T)}function sl(i,s,u){if(!Si[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(Si[s],u,!1)}function al(i){Rn[i.pointerId]=i}function vs(i){Rn[i.pointerId]&&(Rn[i.pointerId]=i)}function Wr(i){delete Rn[i.pointerId]}function ll(){hr||(document.addEventListener(il,al,!0),document.addEventListener(Qn,vs,!0),document.addEventListener(rl,Wr,!0),document.addEventListener(ol,Wr,!0),hr=!0)}function fr(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in Rn)s.touches.push(Rn[u]);s.changedTouches=[s],i(s)}}function Sc(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ee(s),fr(i,s)}function qr(i){var s={},u,h;for(h in i)u=i[h],s[h]=u&&u.bind?u.bind(i):u;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var ul=200;function ys(i,s){i.addEventListener("dblclick",s);var u=0,h;function m(v){if(v.detail!==1){h=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var A=xi(v);if(!(A.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!A.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var z=Date.now();z-u<=ul?(h++,h===2&&s(qr(v))):h=1,u=z}}}return i.addEventListener("click",m),{dblclick:s,simDblclick:m}}function dr(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var _n=ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yn=ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),cl=Yn==="webkitTransition"||Yn==="OTransition"?Yn+"End":"transitionend";function ws(i){return typeof i=="string"?document.getElementById(i):i}function Ii(i,s){var u=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(i,null);u=h?h[s]:null}return u==="auto"?null:u}function wt(i,s,u){var h=document.createElement(i);return h.className=s||"",u&&u.appendChild(h),h}function Nt(i){var s=i.parentNode;s&&s.removeChild(i)}function Ci(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Xn(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function Jn(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function Es(i,s){if(i.classList!==void 0)return i.classList.contains(s);var u=Gr(i);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function dt(i,s){if(i.classList!==void 0)for(var u=U(s),h=0,m=u.length;h<m;h++)i.classList.add(u[h]);else if(!Es(i,s)){var v=Gr(i);Kr(i,(v?v+" ":"")+s)}}function bt(i,s){i.classList!==void 0?i.classList.remove(s):Kr(i,V((" "+Gr(i)+" ").replace(" "+s+" "," ")))}function Kr(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function Gr(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function te(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&gn(i,s)}function gn(i,s){var u=!1,h="DXImageTransform.Microsoft.Alpha";try{u=i.filters.item(h)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):i.style.filter+=" progid:"+h+"(opacity="+s+")"}function ti(i){for(var s=document.documentElement.style,u=0;u<i.length;u++)if(i[u]in s)return i[u];return!1}function on(i,s,u){var h=s||new H(0,0);i.style[_n]=(nt.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(u?" scale("+u+")":"")}function Bt(i,s){i._leaflet_pos=s,nt.any3d?on(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Pt(i){return i._leaflet_pos||new H(0,0)}var Nn,vn,ei;if("onselectstart"in document)Nn=function(){lt(window,"selectstart",ee)},vn=function(){Mt(window,"selectstart",ee)};else{var pr=ti(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nn=function(){if(pr){var i=document.documentElement.style;ei=i[pr],i[pr]="none"}},vn=function(){pr&&(document.documentElement.style[pr]=ei,ei=void 0)}}function Qr(){lt(window,"dragstart",ee)}function Ts(){Mt(window,"dragstart",ee)}var Yr,Ps;function Ss(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Dn(),Yr=i,Ps=i.style.outlineStyle,i.style.outlineStyle="none",lt(window,"keydown",Dn))}function Dn(){Yr&&(Yr.style.outlineStyle=Ps,Yr=void 0,Ps=void 0,Mt(window,"keydown",Dn))}function yn(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Xr(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var hl={__proto__:null,TRANSFORM:_n,TRANSITION:Yn,TRANSITION_END:cl,get:ws,getStyle:Ii,create:wt,remove:Nt,empty:Ci,toFront:Xn,toBack:Jn,hasClass:Es,addClass:dt,removeClass:bt,setClass:Kr,getClass:Gr,setOpacity:te,testProp:ti,setTransform:on,setPosition:Bt,getPosition:Pt,get disableTextSelection(){return Nn},get enableTextSelection(){return vn},disableImageDrag:Qr,enableImageDrag:Ts,preventOutline:Ss,restoreOutline:Dn,getSizedParentNode:yn,getScale:Xr};function lt(i,s,u,h){if(s&&typeof s=="object")for(var m in s)sn(i,m,s[m],u);else{s=U(s);for(var v=0,A=s.length;v<A;v++)sn(i,s[v],u,h)}return this}var ye="_leaflet_events";function Mt(i,s,u,h){if(arguments.length===1)fl(i),delete i[ye];else if(s&&typeof s=="object")for(var m in s)Cs(i,m,s[m],u);else if(s=U(s),arguments.length===2)fl(i,function(z){return j(s,z)!==-1});else for(var v=0,A=s.length;v<A;v++)Cs(i,s[v],u,h);return this}function fl(i,s){for(var u in i[ye]){var h=u.split(/\d/)[0];(!s||s(h))&&Cs(i,h,null,null,u)}}var Is={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sn(i,s,u,h){var m=s+p(u)+(h?"_"+p(h):"");if(i[ye]&&i[ye][m])return this;var v=function(z){return u.call(h||i,z||window.event)},A=v;!nt.touchNative&&nt.pointer&&s.indexOf("touch")===0?v=Mn(i,s,v):nt.touch&&s==="dblclick"?v=ys(i,v):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Is[s]||s,v,nt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(v=function(z){z=z||window.event,ks(i,z)&&A(z)},i.addEventListener(Is[s],v,!1)):i.addEventListener(s,A,!1):i.attachEvent("on"+s,v),i[ye]=i[ye]||{},i[ye][m]=v}function Cs(i,s,u,h,m){m=m||s+p(u)+(h?"_"+p(h):"");var v=i[ye]&&i[ye][m];if(!v)return this;!nt.touchNative&&nt.pointer&&s.indexOf("touch")===0?sl(i,s,v):nt.touch&&s==="dblclick"?dr(i,v):"removeEventListener"in i?i.removeEventListener(Is[s]||s,v,!1):i.detachEvent("on"+s,v),i[ye][m]=null}function ni(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Ai(i){return sn(i,"wheel",ni),this}function On(i){return lt(i,"mousedown touchstart dblclick contextmenu",ni),i._leaflet_disable_click=!0,this}function ee(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Qe(i){return ee(i),ni(i),this}function xi(i){if(i.composedPath)return i.composedPath();for(var s=[],u=i.target;u;)s.push(u),u=u.parentNode;return s}function As(i,s){if(!s)return new H(i.clientX,i.clientY);var u=Xr(s),h=u.boundingClientRect;return new H((i.clientX-h.left)/u.x-s.clientLeft,(i.clientY-h.top)/u.y-s.clientTop)}var xs=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ot(i){return nt.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/xs:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ks(i,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==i;)u=u.parentNode}catch{return!1}return u!==i}var Ic={__proto__:null,on:lt,off:Mt,stopPropagation:ni,disableScrollPropagation:Ai,disableClickPropagation:On,preventDefault:ee,stop:Qe,getPropagationPath:xi,getMousePosition:As,getWheelDelta:Ot,isExternalTarget:ks,addListener:lt,removeListener:Mt},Ls=Ve.extend({run:function(i,s,u,h){this.stop(),this._el=i,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Pt(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var u=this._startPos.add(this._offset.multiplyBy(i));s&&u._round(),Bt(this._el,u),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),gt=Ve.extend({options:{crs:sr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=B(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ut(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yn&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),lt(this._proxy,cl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(ut(i),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=o({animate:u.animate},u.zoom),u.pan=o({animate:u.animate,duration:u.duration},u.pan));var h=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,u.zoom):this._tryAnimatedPan(i,u.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,u){var h=this.getZoomScale(s),m=this.getSize().divideBy(2),v=i instanceof H?i:this.latLngToContainerPoint(i),A=v.subtract(m).multiplyBy(1-1/h),z=this.containerPointToLatLng(m.add(A));return this.setView(z,s,{zoom:u})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():kt(i);var u=q(s.paddingTopLeft||s.padding||[0,0]),h=q(s.paddingBottomRight||s.padding||[0,0]),m=this.getBoundsZoom(i,!1,u.add(h));if(m=typeof s.maxZoom=="number"?Math.min(s.maxZoom,m):m,m===1/0)return{center:i.getCenter(),zoom:m};var v=h.subtract(u).divideBy(2),A=this.project(i.getSouthWest(),m),z=this.project(i.getNorthEast(),m),b=this.unproject(A.add(z).divideBy(2).add(v),m);return{center:b,zoom:m}},fitBounds:function(i,s){if(i=kt(i),!i.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(i,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=q(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ls,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){dt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,u){if(u=u||{},u.animate===!1||!nt.any3d)return this.setView(i,s,u);this._stop();var h=this.project(this.getCenter()),m=this.project(i),v=this.getSize(),A=this._zoom;i=ut(i),s=s===void 0?A:s;var z=Math.max(v.x,v.y),b=z*this.getZoomScale(A,s),$=m.distanceTo(h)||1,J=1.42,rt=J*J;function _t(ne){var Ll=ne?-1:1,g0=ne?b:z,v0=b*b-z*z+Ll*rt*rt*$*$,y0=2*g0*rt*$,Lc=v0/y0,vp=Math.sqrt(Lc*Lc+1)-Lc,w0=vp<1e-9?-18:Math.log(vp);return w0}function ze(ne){return(Math.exp(ne)-Math.exp(-ne))/2}function pe(ne){return(Math.exp(ne)+Math.exp(-ne))/2}function un(ne){return ze(ne)/pe(ne)}var He=_t(0);function ao(ne){return z*(pe(He)/pe(He+J*ne))}function d0(ne){return z*(pe(He)*un(He+J*ne)-ze(He))/rt}function p0(ne){return 1-Math.pow(1-ne,1.5)}var m0=Date.now(),_p=(_t(1)-He)/J,_0=u.duration?1e3*u.duration:1e3*_p*.8;function gp(){var ne=(Date.now()-m0)/_0,Ll=p0(ne)*_p;ne<=1?(this._flyToFrame=R(gp,this),this._move(this.unproject(h.add(m.subtract(h).multiplyBy(d0(Ll)/$)),A),this.getScaleZoom(z/ao(Ll),A),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),gp.call(this),this},flyToBounds:function(i,s){var u=this._getBoundsCenterZoom(i,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(i){return i=kt(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var u=this.getCenter(),h=this._limitCenter(u,this._zoom,kt(i));return u.equals(h)||this.panTo(h,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var u=q(s.paddingTopLeft||s.padding||[0,0]),h=q(s.paddingBottomRight||s.padding||[0,0]),m=this.project(this.getCenter()),v=this.project(i),A=this.getPixelBounds(),z=ft([A.min.add(u),A.max.subtract(h)]),b=z.getSize();if(!z.contains(v)){this._enforcingBounds=!0;var $=v.subtract(z.getCenter()),J=z.extend(v).getSize().subtract(b);m.x+=$.x<0?-J.x:J.x,m.y+=$.y<0?-J.y:J.y,this.panTo(this.unproject(m),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),h=s.divideBy(2).round(),m=u.divideBy(2).round(),v=h.subtract(m);return!v.x&&!v.y?this:(i.animate&&i.pan?this.panBy(v):(i.pan&&this._rawPanBy(v),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=c(this._handleGeolocationResponse,this),u=c(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,i):navigator.geolocation.getCurrentPosition(s,u,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,u=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,u=i.coords.longitude,h=new mt(s,u),m=h.toBounds(i.coords.accuracy*2),v=this._locateOptions;if(v.setView){var A=this.getBoundsZoom(m);this.setView(h,v.maxZoom?Math.min(A,v.maxZoom):A)}var z={latlng:h,bounds:m,timestamp:i.timestamp};for(var b in i.coords)typeof i.coords[b]=="number"&&(z[b]=i.coords[b]);this.fire("locationfound",z)}},addHandler:function(i,s){if(!s)return this;var u=this[i]=new s(this);return this._handlers.push(u),this.options[i]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Nt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var u="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),h=wt("div",u,s||this._mapPane);return i&&(this._panes[i]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),u=this.unproject(i.getTopRight());return new yt(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,u){i=kt(i),u=q(u||[0,0]);var h=this.getZoom()||0,m=this.getMinZoom(),v=this.getMaxZoom(),A=i.getNorthWest(),z=i.getSouthEast(),b=this.getSize().subtract(u),$=ft(this.project(z,h),this.project(A,h)).getSize(),J=nt.any3d?this.options.zoomSnap:1,rt=b.x/$.x,_t=b.y/$.y,ze=s?Math.max(rt,_t):Math.min(rt,_t);return h=this.getScaleZoom(ze,h),J&&(h=Math.round(h/(J/100))*(J/100),h=s?Math.ceil(h/J)*J:Math.floor(h/J)*J),Math.max(m,Math.min(v,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var u=this._getTopLeftPoint(i,s);return new at(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(i)/u.scale(s)},getScaleZoom:function(i,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var h=u.zoom(i*u.scale(s));return isNaN(h)?1/0:h},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ut(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(q(i),s)},layerPointToLatLng:function(i){var s=q(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(ut(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(ut(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(kt(i))},distance:function(i,s){return this.options.crs.distance(ut(i),ut(s))},containerPointToLayerPoint:function(i){return q(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return q(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(q(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ut(i)))},mouseEventToContainerPoint:function(i){return As(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=ws(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");lt(s,"scroll",this._onScroll,this),this._containerId=p(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,dt(i,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ii(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Bt(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(i.markerPane,"leaflet-zoom-hide"),dt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,u){Bt(this._mapPane,new H(0,0));var h=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var m=this._zoom!==s;this._moveStart(m,u)._move(i,s)._moveEnd(m),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,u,h){s===void 0&&(s=this._zoom);var m=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),h?u&&u.pinch&&this.fire("zoom",u):((m||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Bt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[p(this._container)]=this;var s=i?Mt:lt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var u=[],h,m=s==="mouseout"||s==="mouseover",v=i.target||i.srcElement,A=!1;v;){if(h=this._targets[p(v)],h&&(s==="click"||s==="preclick")&&this._draggableMoved(h)){A=!0;break}if(h&&h.listens(s,!0)&&(m&&!ks(v,i)||(u.push(h),m))||v===this._container)break;v=v.parentNode}return!u.length&&!A&&!m&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var u=i.type;u==="mousedown"&&Ss(s),this._fireDOMEvent(i,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,u){if(i.type==="click"){var h=o({},i);h.type="preclick",this._fireDOMEvent(h,h.type,u)}var m=this._findEventTargets(i,s);if(u){for(var v=[],A=0;A<u.length;A++)u[A].listens(s,!0)&&v.push(u[A]);m=v.concat(m)}if(m.length){s==="contextmenu"&&ee(i);var z=m[0],b={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var $=z.getLatLng&&(!z._radius||z._radius<=10);b.containerPoint=$?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(i),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=$?z.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(A=0;A<m.length;A++)if(m[A].fire(s,b,!0),b.originalEvent._stopped||m[A].options.bubblingMouseEvents===!1&&j(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Pt(this._mapPane)||new H(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var u=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var u=this.getSize()._divideBy(2);return this.project(i,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,u){var h=this._getNewPixelOrigin(u,s);return this.project(i,s)._subtract(h)},_latLngBoundsToNewLayerBounds:function(i,s,u){var h=this._getNewPixelOrigin(u,s);return ft([this.project(i.getSouthWest(),s)._subtract(h),this.project(i.getNorthWest(),s)._subtract(h),this.project(i.getSouthEast(),s)._subtract(h),this.project(i.getNorthEast(),s)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,u){if(!u)return i;var h=this.project(i,s),m=this.getSize().divideBy(2),v=new at(h.subtract(m),h.add(m)),A=this._getBoundsOffset(v,u,s);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?i:this.unproject(h.add(A),s)},_limitOffset:function(i,s){if(!s)return i;var u=this.getPixelBounds(),h=new at(u.min.add(i),u.max.add(i));return i.add(this._getBoundsOffset(h,s))},_getBoundsOffset:function(i,s,u){var h=ft(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),m=h.min.subtract(i.min),v=h.max.subtract(i.max),A=this._rebound(m.x,-v.x),z=this._rebound(m.y,-v.y);return new H(A,z)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),u=this.getMaxZoom(),h=nt.any3d?this.options.zoomSnap:1;return h&&(i=Math.round(i/h)*h),Math.max(s,Math.min(u,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var u=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var i=this._proxy=wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var u=_n,h=this._proxy.style[u];on(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),h===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();on(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(s),m=this._getCenterOffset(i)._divideBy(1-1/h);return u.animate!==!0&&!this.getSize().contains(m)?!1:(R(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,u,h){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function dl(i,s){return new gt(i,s)}var Ae=Zt.extend({options:{position:"topright"},initialize:function(i){B(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),u=this.getPosition(),h=i._controlCorners[u];return dt(s,"leaflet-control"),u.indexOf("bottom")!==-1?h.insertBefore(s,h.firstChild):h.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ki=function(i){return new Ae(i)};gt.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",u=this._controlContainer=wt("div",s+"control-container",this._container);function h(m,v){var A=s+m+" "+s+v;i[m+v]=wt("div",A,u)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Nt(this._controlCorners[i]);Nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=Ae.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,u,h){return u<h?-1:h<u?1:0}},initialize:function(i,s,u){B(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in i)this._addLayer(i[h],h);for(h in s)this._addLayer(s[h],h,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Ae.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(p(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=wt("div",i),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),On(s),Ai(s);var h=this._section=wt("section",i+"-list");u&&(this._map.on("click",this.collapse,this),lt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=wt("a",i+"-toggle",s);m.href="#",m.title="Layers",m.setAttribute("role","button"),lt(m,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ee(v),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=wt("div",i+"-base",h),this._separator=wt("div",i+"-separator",h),this._overlaysList=wt("div",i+"-overlays",h),s.appendChild(h)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&p(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,u){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(c(function(h,m){return this.options.sortFunction(h.layer,m.layer,h.name,m.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ci(this._baseLayersList),Ci(this._overlaysList),this._layerControlInputs=[];var i,s,u,h,m=0;for(u=0;u<this._layers.length;u++)h=this._layers[u],this._addItem(h),s=s||h.overlay,i=i||!h.overlay,m+=h.overlay?0:1;return this.options.hideSingleBase&&(i=i&&m>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(p(i.target)),u=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(i,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=u,h.firstChild},_addItem:function(i){var s=document.createElement("label"),u=this._map.hasLayer(i.layer),h;i.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=u):h=this._createRadioElement("leaflet-base-layers_"+p(this),u),this._layerControlInputs.push(h),h.layerId=p(i.layer),lt(h,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+i.name;var v=document.createElement("span");s.appendChild(v),v.appendChild(h),v.appendChild(m);var A=i.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,u,h=[],m=[];this._handlingClick=!0;for(var v=i.length-1;v>=0;v--)s=i[v],u=this._getLayer(s.layerId).layer,s.checked?h.push(u):s.checked||m.push(u);for(v=0;v<m.length;v++)this._map.hasLayer(m[v])&&this._map.removeLayer(m[v]);for(v=0;v<h.length;v++)this._map.hasLayer(h[v])||this._map.addLayer(h[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,u,h=this._map.getZoom(),m=i.length-1;m>=0;m--)s=i[m],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&h<u.options.minZoom||u.options.maxZoom!==void 0&&h>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,lt(i,"click",ee),this.expand();var s=this;setTimeout(function(){Mt(i,"click",ee),s._preventClick=!1})}}),pl=function(i,s,u){return new an(i,s,u)},Rs=Ae.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",u=wt("div",s+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,u,h,m){var v=wt("a",u,h);return v.innerHTML=i,v.href="#",v.title=s,v.setAttribute("role","button"),v.setAttribute("aria-label",s),On(v),lt(v,"click",Qe),lt(v,"click",m,this),lt(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";bt(this._zoomInButton,s),bt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(dt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(dt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});gt.mergeOptions({zoomControl:!0}),gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rs,this.addControl(this.zoomControl))});var mr=function(i){return new Rs(i)},Ms=Ae.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",u=wt("div",s),h=this.options;return this._addScales(h,s+"-line",u),i.on(h.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),u},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,u){i.metric&&(this._mScale=wt("div",s,u)),i.imperial&&(this._iScale=wt("div",s,u))},_update:function(){var i=this._map,s=i.getSize().y/2,u=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/i)},_updateImperial:function(i){var s=i*3.2808399,u,h,m;s>5280?(u=s/5280,h=this._getRoundNum(u),this._updateScale(this._iScale,h+" mi",h/u)):(m=this._getRoundNum(s),this._updateScale(this._iScale,m+" ft",m/s))},_updateScale:function(i,s,u){i.style.width=Math.round(this.options.maxWidth*u)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),u=i/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),Ns=function(i){return new Ms(i)},Jr='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',to=Ae.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?Jr+" ":"")+"Leaflet</a>"},initialize:function(i){B(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=wt("div","leaflet-control-attribution"),On(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),i.length&&u.push(i.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});gt.mergeOptions({attributionControl:!0}),gt.addInitHook(function(){this.options.attributionControl&&new to().addTo(this)});var eo=function(i){return new to(i)};Ae.Layers=an,Ae.Zoom=Rs,Ae.Scale=Ms,Ae.Attribution=to,ki.layers=pl,ki.zoom=mr,ki.scale=Ns,ki.attribution=eo;var ln=Zt.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ln.addTo=function(i,s){return i.addHandler(s,this),this};var ml={Events:oe},Li=nt.touch?"touchstart mousedown":"mousedown",wn=Ve.extend({options:{clickTolerance:3},initialize:function(i,s,u,h){B(this,h),this._element=i,this._dragStartTarget=s||i,this._preventOutline=u},enable:function(){this._enabled||(lt(this._dragStartTarget,Li,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(!0),Mt(this._dragStartTarget,Li,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Es(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){wn._dragging===this&&this.finishDrag();return}if(!(wn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(wn._dragging=this,this._preventOutline&&Ss(this._element),Qr(),Nn(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,u=yn(this._element);this._startPoint=new H(s.clientX,s.clientY),this._startPos=Pt(this._element),this._parentScale=Xr(u);var h=i.type==="mousedown";lt(document,h?"mousemove":"touchmove",this._onMove,this),lt(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,u=new H(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ee(i),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Bt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Mt(document,"mousemove touchmove",this._onMove,this),Mt(document,"mouseup touchend touchcancel",this._onUp,this),Ts(),vn();var s=this._moved&&this._moving;this._moving=!1,wn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Ds(i,s,u){var h,m=[1,4,2,8],v,A,z,b,$,J,rt,_t;for(v=0,J=i.length;v<J;v++)i[v]._code=Gt(i[v],s);for(z=0;z<4;z++){for(rt=m[z],h=[],v=0,J=i.length,A=J-1;v<J;A=v++)b=i[v],$=i[A],b._code&rt?$._code&rt||(_t=ri($,b,rt,s,u),_t._code=Gt(_t,s),h.push(_t)):($._code&rt&&(_t=ri($,b,rt,s,u),_t._code=Gt(_t,s),h.push(_t)),h.push(b));i=h}return i}function no(i,s){var u,h,m,v,A,z,b,$,J;if(!i||i.length===0)throw new Error("latlngs not passed");ae(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var rt=ut([0,0]),_t=kt(i),ze=_t.getNorthWest().distanceTo(_t.getSouthWest())*_t.getNorthEast().distanceTo(_t.getNorthWest());ze<1700&&(rt=_r(i));var pe=i.length,un=[];for(u=0;u<pe;u++){var He=ut(i[u]);un.push(s.project(ut([He.lat-rt.lat,He.lng-rt.lng])))}for(z=b=$=0,u=0,h=pe-1;u<pe;h=u++)m=un[u],v=un[h],A=m.y*v.x-v.y*m.x,b+=(m.x+v.x)*A,$+=(m.y+v.y)*A,z+=A*3;z===0?J=un[0]:J=[b/z,$/z];var ao=s.unproject(q(J));return ut([ao.lat+rt.lat,ao.lng+rt.lng])}function _r(i){for(var s=0,u=0,h=0,m=0;m<i.length;m++){var v=ut(i[m]);s+=v.lat,u+=v.lng,h++}return ut([s/h,u/h])}var _l={__proto__:null,clipPolygon:Ds,polygonCenter:no,centroid:_r};function gr(i,s){if(!s||!i.length)return i.slice();var u=s*s;return i=vl(i,u),i=ii(i,u),i}function Os(i,s,u){return Math.sqrt(Ri(i,s,u,!0))}function gl(i,s,u){return Ri(i,s,u)}function ii(i,s){var u=i.length,h=typeof Uint8Array!=void 0+""?Uint8Array:Array,m=new h(u);m[0]=m[u-1]=1,io(i,m,s,0,u-1);var v,A=[];for(v=0;v<u;v++)m[v]&&A.push(i[v]);return A}function io(i,s,u,h,m){var v=0,A,z,b;for(z=h+1;z<=m-1;z++)b=Ri(i[z],i[h],i[m],!0),b>v&&(A=z,v=b);v>u&&(s[A]=1,io(i,s,u,h,A),io(i,s,u,A,m))}function vl(i,s){for(var u=[i[0]],h=1,m=0,v=i.length;h<v;h++)yl(i[h],i[m])>s&&(u.push(i[h]),m=h);return m<v-1&&u.push(i[v-1]),u}var Vs;function zs(i,s,u,h,m){var v=h?Vs:Gt(i,u),A=Gt(s,u),z,b,$;for(Vs=A;;){if(!(v|A))return[i,s];if(v&A)return!1;z=v||A,b=ri(i,s,z,u,m),$=Gt(b,u),z===v?(i=b,v=$):(s=b,A=$)}}function ri(i,s,u,h,m){var v=s.x-i.x,A=s.y-i.y,z=h.min,b=h.max,$,J;return u&8?($=i.x+v*(b.y-i.y)/A,J=b.y):u&4?($=i.x+v*(z.y-i.y)/A,J=z.y):u&2?($=b.x,J=i.y+A*(b.x-i.x)/v):u&1&&($=z.x,J=i.y+A*(z.x-i.x)/v),new H($,J,m)}function Gt(i,s){var u=0;return i.x<s.min.x?u|=1:i.x>s.max.x&&(u|=2),i.y<s.min.y?u|=4:i.y>s.max.y&&(u|=8),u}function yl(i,s){var u=s.x-i.x,h=s.y-i.y;return u*u+h*h}function Ri(i,s,u,h){var m=s.x,v=s.y,A=u.x-m,z=u.y-v,b=A*A+z*z,$;return b>0&&($=((i.x-m)*A+(i.y-v)*z)/b,$>1?(m=u.x,v=u.y):$>0&&(m+=A*$,v+=z*$)),A=i.x-m,z=i.y-v,h?A*A+z*z:new H(m,v)}function ae(i){return!M(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function l(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ae(i)}function d(i,s){var u,h,m,v,A,z,b,$;if(!i||i.length===0)throw new Error("latlngs not passed");ae(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var J=ut([0,0]),rt=kt(i),_t=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());_t<1700&&(J=_r(i));var ze=i.length,pe=[];for(u=0;u<ze;u++){var un=ut(i[u]);pe.push(s.project(ut([un.lat-J.lat,un.lng-J.lng])))}for(u=0,h=0;u<ze-1;u++)h+=pe[u].distanceTo(pe[u+1])/2;if(h===0)$=pe[0];else for(u=0,v=0;u<ze-1;u++)if(A=pe[u],z=pe[u+1],m=A.distanceTo(z),v+=m,v>h){b=(v-h)/m,$=[z.x-b*(z.x-A.x),z.y-b*(z.y-A.y)];break}var He=s.unproject(q($));return ut([He.lat+J.lat,He.lng+J.lng])}var _={__proto__:null,simplify:gr,pointToSegmentDistance:Os,closestPointOnSegment:gl,clipSegment:zs,_getEdgeIntersection:ri,_getBitCode:Gt,_sqClosestPointOnSegment:Ri,isFlat:ae,_flat:l,polylineCenter:d},y={project:function(i){return new H(i.lng,i.lat)},unproject:function(i){return new mt(i.y,i.x)},bounds:new at([-180,-90],[180,90])},O={R:6378137,R_MINOR:6356752314245179e-9,bounds:new at([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,u=this.R,h=i.lat*s,m=this.R_MINOR/u,v=Math.sqrt(1-m*m),A=v*Math.sin(h),z=Math.tan(Math.PI/4-h/2)/Math.pow((1-A)/(1+A),v/2);return h=-u*Math.log(Math.max(z,1e-10)),new H(i.lng*s*u,h)},unproject:function(i){for(var s=180/Math.PI,u=this.R,h=this.R_MINOR/u,m=Math.sqrt(1-h*h),v=Math.exp(-i.y/u),A=Math.PI/2-2*Math.atan(v),z=0,b=.1,$;z<15&&Math.abs(b)>1e-7;z++)$=m*Math.sin(A),$=Math.pow((1-$)/(1+$),m/2),b=Math.PI/2-2*Math.atan(v*$)-A,A+=b;return new mt(A*s,i.x*s/u)}},F={__proto__:null,LonLat:y,Mercator:O,SphericalMercator:wi},G=o({},Ln,{code:"EPSG:3395",projection:O,transformation:function(){var i=.5/(Math.PI*O.R);return qn(i,.5,-i,.5)}()}),Lt=o({},Ln,{code:"EPSG:4326",projection:y,transformation:qn(1/180,1,-1/180,.5)}),le=o({},Jt,{projection:y,transformation:qn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var u=s.lng-i.lng,h=s.lat-i.lat;return Math.sqrt(u*u+h*h)},infinite:!0});Jt.Earth=Ln,Jt.EPSG3395=G,Jt.EPSG3857=sr,Jt.EPSG900913=ns,Jt.EPSG4326=Lt,Jt.Simple=le;var ct=Ve.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[p(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[p(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});gt.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=p(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=p(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return p(i)in this._layers},eachLayer:function(i,s){for(var u in this._layers)i.call(s,this._layers[u]);return this},_addLayers:function(i){i=i?M(i)?i:[i]:[];for(var s=0,u=i.length;s<u;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[p(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=p(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,u=this._getZoomSpan();for(var h in this._zoomBoundLayers){var m=this._zoomBoundLayers[h].options;i=m.minZoom===void 0?i:Math.min(i,m.minZoom),s=m.maxZoom===void 0?s:Math.max(s,m.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ut=ct.extend({initialize:function(i,s){B(this,s),this._layers={};var u,h;if(i)for(u=0,h=i.length;u<h;u++)this.addLayer(i[u])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),u,h;for(u in this._layers)h=this._layers[u],h[i]&&h[i].apply(h,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var u in this._layers)i.call(s,this._layers[u]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return p(i)}}),de=function(i,s){return new Ut(i,s)},xe=Ut.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ut.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ut.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new yt;for(var s in this._layers){var u=this._layers[s];i.extend(u.getBounds?u.getBounds():u.getLatLng())}return i}}),Ye=function(i,s){return new xe(i,s)},En=Zt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){B(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var u=this._getIconUrl(i);if(!u){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(h,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(i,s){var u=this.options,h=u[s+"Size"];typeof h=="number"&&(h=[h,h]);var m=q(h),v=q(s==="shadow"&&u.shadowAnchor||u.iconAnchor||m&&m.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(u.className||""),v&&(i.style.marginLeft=-v.x+"px",i.style.marginTop=-v.y+"px"),m&&(i.style.width=m.x+"px",i.style.height=m.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return nt.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function bs(i){return new En(i)}var Fs=En.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Fs.imagePath!="string"&&(Fs.imagePath=this._detectIconPath()),(this.options.imagePath||Fs.imagePath)+En.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(u,h,m){var v=h.exec(u);return v&&v[m]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=wt("div","leaflet-default-icon-path",document.body),s=Ii(i,"background-image")||Ii(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Yd=ln.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new wn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,u=s._map,h=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,v=Pt(s._icon),A=u.getPixelBounds(),z=u.getPixelOrigin(),b=ft(A.min._subtract(z).add(m),A.max._subtract(z).subtract(m));if(!b.contains(v)){var $=q((Math.max(b.max.x,v.x)-b.max.x)/(A.max.x-b.max.x)-(Math.min(b.min.x,v.x)-b.min.x)/(A.min.x-b.min.x),(Math.max(b.max.y,v.y)-b.max.y)/(A.max.y-b.max.y)-(Math.min(b.min.y,v.y)-b.min.y)/(A.min.y-b.min.y)).multiplyBy(h);u.panBy($,{animate:!1}),this._draggable._newPos._add($),this._draggable._startPos._add($),Bt(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=R(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,u=s._shadow,h=Pt(s._icon),m=s._map.layerPointToLatLng(h);u&&Bt(u,h),s._latlng=m,i.latlng=m,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),wl=ct.extend({options:{icon:new Fs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){B(this,s),this._latlng=ut(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=ut(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=i.icon.createIcon(this._icon),h=!1;u!==this._icon&&(this._icon&&this._removeIcon(),h=!0,i.title&&(u.title=i.title),u.tagName==="IMG"&&(u.alt=i.alt||"")),dt(u,s),i.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(u,"focus",this._panOnFocus,this);var m=i.icon.createShadow(this._shadow),v=!1;m!==this._shadow&&(this._removeShadow(),v=!0),m&&(dt(m,s),m.alt=""),this._shadow=m,i.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&v&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(this._icon,"focus",this._panOnFocus,this),Nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Nt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Bt(this._icon,i),this._shadow&&Bt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yd)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yd(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&te(this._icon,i),this._shadow&&te(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,u=s.iconSize?q(s.iconSize):q(0,0),h=s.iconAnchor?q(s.iconAnchor):q(0,0);i.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:u.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gy(i,s){return new wl(i,s)}var Mi=ct.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return B(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),El=Mi.extend({options:{fill:!0,radius:10},initialize:function(i,s){B(this,s),this._latlng=ut(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=ut(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return Mi.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,u=this._clickTolerance(),h=[i+u,s+u];this._pxBounds=new at(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qy(i,s){return new El(i,s)}var Cc=El.extend({initialize:function(i,s,u){if(typeof s=="number"&&(s=o({},u,{radius:s})),B(this,s),this._latlng=ut(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new yt(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Mi.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,u=this._map,h=u.options.crs;if(h.distance===Ln.distance){var m=Math.PI/180,v=this._mRadius/Ln.R/m,A=u.project([s+v,i]),z=u.project([s-v,i]),b=A.add(z).divideBy(2),$=u.unproject(b).lat,J=Math.acos((Math.cos(v*m)-Math.sin(s*m)*Math.sin($*m))/(Math.cos(s*m)*Math.cos($*m)))/m;(isNaN(J)||J===0)&&(J=v/Math.cos(Math.PI/180*s)),this._point=b.subtract(u.getPixelOrigin()),this._radius=isNaN(J)?0:b.x-u.project([$,i-J]).x,this._radiusY=b.y-A.y}else{var rt=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(rt).x}this._updateBounds()}});function Yy(i,s,u){return new Cc(i,s,u)}var oi=Mi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){B(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,u=null,h=Ri,m,v,A=0,z=this._parts.length;A<z;A++)for(var b=this._parts[A],$=1,J=b.length;$<J;$++){m=b[$-1],v=b[$];var rt=h(i,m,v,!0);rt<s&&(s=rt,u=h(i,m,v))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return d(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=ut(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new yt,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return ae(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],u=ae(i),h=0,m=i.length;h<m;h++)u?(s[h]=ut(i[h]),this._bounds.extend(s[h])):s[h]=this._convertLatLngs(i[h]);return s},_project:function(){var i=new at;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new H(i,i);this._rawPxBounds&&(this._pxBounds=new at([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,u){var h=i[0]instanceof mt,m=i.length,v,A;if(h){for(A=[],v=0;v<m;v++)A[v]=this._map.latLngToLayerPoint(i[v]),u.extend(A[v]);s.push(A)}else for(v=0;v<m;v++)this._projectLatlngs(i[v],s,u)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,h,m,v,A,z,b;for(u=0,m=0,v=this._rings.length;u<v;u++)for(b=this._rings[u],h=0,A=b.length;h<A-1;h++)z=zs(b[h],b[h+1],i,h,!0),z&&(s[m]=s[m]||[],s[m].push(z[0]),(z[1]!==b[h+1]||h===A-2)&&(s[m].push(z[1]),m++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,u=0,h=i.length;u<h;u++)i[u]=gr(i[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var u,h,m,v,A,z,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(u=0,v=this._parts.length;u<v;u++)for(z=this._parts[u],h=0,A=z.length,m=A-1;h<A;m=h++)if(!(!s&&h===0)&&Os(i,z[m],z[h])<=b)return!0;return!1}});function Xy(i,s){return new oi(i,s)}oi._flat=l;var ro=oi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return no(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=oi.prototype._convertLatLngs.call(this,i),u=s.length;return u>=2&&s[0]instanceof mt&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(i){oi.prototype._setLatLngs.call(this,i),ae(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ae(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,u=new H(s,s);if(i=new at(i.min.subtract(u),i.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,m=this._rings.length,v;h<m;h++)v=Ds(this._rings[h],i,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,u,h,m,v,A,z,b,$;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(v=0,b=this._parts.length;v<b;v++)for(u=this._parts[v],A=0,$=u.length,z=$-1;A<$;z=A++)h=u[A],m=u[z],h.y>i.y!=m.y>i.y&&i.x<(m.x-h.x)*(i.y-h.y)/(m.y-h.y)+h.x&&(s=!s);return s||oi.prototype._containsPoint.call(this,i,!0)}});function Jy(i,s){return new ro(i,s)}var si=xe.extend({initialize:function(i,s){B(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=M(i)?i:i.features,u,h,m;if(s){for(u=0,h=s.length;u<h;u++)m=s[u],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var v=this.options;if(v.filter&&!v.filter(i))return this;var A=Tl(i,v);return A?(A.feature=Il(i),A.defaultOptions=A.options,this.resetStyle(A),v.onEachFeature&&v.onEachFeature(i,A),this.addLayer(A)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function Tl(i,s){var u=i.type==="Feature"?i.geometry:i,h=u?u.coordinates:null,m=[],v=s&&s.pointToLayer,A=s&&s.coordsToLatLng||Ac,z,b,$,J;if(!h&&!u)return null;switch(u.type){case"Point":return z=A(h),Xd(v,i,z,s);case"MultiPoint":for($=0,J=h.length;$<J;$++)z=A(h[$]),m.push(Xd(v,i,z,s));return new xe(m);case"LineString":case"MultiLineString":return b=Pl(h,u.type==="LineString"?0:1,A),new oi(b,s);case"Polygon":case"MultiPolygon":return b=Pl(h,u.type==="Polygon"?1:2,A),new ro(b,s);case"GeometryCollection":for($=0,J=u.geometries.length;$<J;$++){var rt=Tl({geometry:u.geometries[$],type:"Feature",properties:i.properties},s);rt&&m.push(rt)}return new xe(m);case"FeatureCollection":for($=0,J=u.features.length;$<J;$++){var _t=Tl(u.features[$],s);_t&&m.push(_t)}return new xe(m);default:throw new Error("Invalid GeoJSON object.")}}function Xd(i,s,u,h){return i?i(s,u):new wl(u,h&&h.markersInheritOptions&&h)}function Ac(i){return new mt(i[1],i[0],i[2])}function Pl(i,s,u){for(var h=[],m=0,v=i.length,A;m<v;m++)A=s?Pl(i[m],s-1,u):(u||Ac)(i[m]),h.push(A);return h}function xc(i,s){return i=ut(i),i.alt!==void 0?[S(i.lng,s),S(i.lat,s),S(i.alt,s)]:[S(i.lng,s),S(i.lat,s)]}function Sl(i,s,u,h){for(var m=[],v=0,A=i.length;v<A;v++)m.push(s?Sl(i[v],ae(i[v])?0:s-1,u,h):xc(i[v],h));return!s&&u&&m.length>0&&m.push(m[0].slice()),m}function oo(i,s){return i.feature?o({},i.feature,{geometry:s}):Il(s)}function Il(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var kc={toGeoJSON:function(i){return oo(this,{type:"Point",coordinates:xc(this.getLatLng(),i)})}};wl.include(kc),Cc.include(kc),El.include(kc),oi.include({toGeoJSON:function(i){var s=!ae(this._latlngs),u=Sl(this._latlngs,s?1:0,!1,i);return oo(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),ro.include({toGeoJSON:function(i){var s=!ae(this._latlngs),u=s&&!ae(this._latlngs[0]),h=Sl(this._latlngs,u?2:s?1:0,!0,i);return s||(h=[h]),oo(this,{type:(u?"Multi":"")+"Polygon",coordinates:h})}}),Ut.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(i).geometry.coordinates)}),oo(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var u=s==="GeometryCollection",h=[];return this.eachLayer(function(m){if(m.toGeoJSON){var v=m.toGeoJSON(i);if(u)h.push(v.geometry);else{var A=Il(v);A.type==="FeatureCollection"?h.push.apply(h,A.features):h.push(A)}}}),u?oo(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function Jd(i,s){return new si(i,s)}var t0=Jd,Cl=ct.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,u){this._url=i,this._bounds=kt(s),B(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Xn(this._image),this},bringToBack:function(){return this._map&&Jn(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=kt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:wt("img");if(dt(s,"leaflet-image-layer"),this._zoomAnimated&&dt(s,"leaflet-zoom-animated"),this.options.className&&dt(s,this.options.className),s.onselectstart=T,s.onmousemove=T,s.onload=c(this.fire,this,"load"),s.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;on(this._image,u,s)},_reset:function(){var i=this._image,s=new at(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();Bt(i,s.min),i.style.width=u.x+"px",i.style.height=u.y+"px"},_updateOpacity:function(){te(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),e0=function(i,s,u){return new Cl(i,s,u)},tp=Cl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:wt("video");if(dt(s,"leaflet-image-layer"),this._zoomAnimated&&dt(s,"leaflet-zoom-animated"),this.options.className&&dt(s,this.options.className),s.onselectstart=T,s.onmousemove=T,s.onloadeddata=c(this.fire,this,"load"),i){for(var u=s.getElementsByTagName("source"),h=[],m=0;m<u.length;m++)h.push(u[m].src);this._url=u.length>0?h:[s.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var A=wt("source");A.src=this._url[v],s.appendChild(A)}}});function n0(i,s,u){return new tp(i,s,u)}var ep=Cl.extend({_initImage:function(){var i=this._image=this._url;dt(i,"leaflet-image-layer"),this._zoomAnimated&&dt(i,"leaflet-zoom-animated"),this.options.className&&dt(i,this.options.className),i.onselectstart=T,i.onmousemove=T}});function i0(i,s,u){return new ep(i,s,u)}var Vn=ct.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof mt||M(i))?(this._latlng=ut(i),B(this,s)):(B(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&te(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&te(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(te(this._container,0),this._removeTimeout=setTimeout(c(Nt,void 0,this._container),200)):Nt(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=ut(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xn(this._container),this},bringToBack:function(){return this._map&&Jn(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof xe){s=null;var u=this._source._layers;for(var h in u)if(u[h]._map){s=u[h];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=q(this.options.offset),u=this._getAnchor();this._zoomAnimated?Bt(this._container,i.add(u)):s=s.add(i).add(u);var h=this._containerBottom=-s.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=h+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});gt.include({_initOverlay:function(i,s,u,h){var m=s;return m instanceof i||(m=new i(h).setContent(s)),u&&m.setLatLng(u),m}}),ct.include({_initOverlay:function(i,s,u,h){var m=u;return m instanceof i?(B(m,h),m._source=this):(m=s&&!h?s:new i(h,this),m.setContent(u)),m}});var Al=Vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Vn.prototype.openOn.call(this,i)},onAdd:function(i){Vn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mi||this._source.on("preclick",ni))},onRemove:function(i){Vn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mi||this._source.off("preclick",ni))},getEvents:function(){var i=Vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=wt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=wt("div",i+"-content-wrapper",s);if(this._contentNode=wt("div",i+"-content",u),On(s),Ai(this._contentNode),lt(s,"contextmenu",ni),this._tipContainer=wt("div",i+"-tip-container",s),this._tip=wt("div",i+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=wt("a",i+"-close-button",s);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',lt(h,"click",function(m){ee(m),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var u=i.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var h=i.offsetHeight,m=this.options.maxHeight,v="leaflet-popup-scrolled";m&&h>m?(s.height=m+"px",dt(i,v)):bt(i,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),u=this._getAnchor();Bt(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(Ii(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,h=this._containerWidth,m=new H(this._containerLeft,-u-this._containerBottom);m._add(Pt(this._container));var v=i.layerPointToContainerPoint(m),A=q(this.options.autoPanPadding),z=q(this.options.autoPanPaddingTopLeft||A),b=q(this.options.autoPanPaddingBottomRight||A),$=i.getSize(),J=0,rt=0;v.x+h+b.x>$.x&&(J=v.x+h-$.x+b.x),v.x-J-z.x<0&&(J=v.x-z.x),v.y+u+b.y>$.y&&(rt=v.y+u-$.y+b.y),v.y-rt-z.y<0&&(rt=v.y-z.y),(J||rt)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([J,rt]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),r0=function(i,s){return new Al(i,s)};gt.mergeOptions({closePopupOnClick:!0}),gt.include({openPopup:function(i,s,u){return this._initOverlay(Al,i,s,u).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),ct.include({bindPopup:function(i,s){return this._popup=this._initOverlay(Al,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof xe||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Qe(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof Mi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var xl=Vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Vn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Vn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Vn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=wt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,u,h=this._map,m=this._container,v=h.latLngToContainerPoint(h.getCenter()),A=h.layerPointToContainerPoint(i),z=this.options.direction,b=m.offsetWidth,$=m.offsetHeight,J=q(this.options.offset),rt=this._getAnchor();z==="top"?(s=b/2,u=$):z==="bottom"?(s=b/2,u=0):z==="center"?(s=b/2,u=$/2):z==="right"?(s=0,u=$/2):z==="left"?(s=b,u=$/2):A.x<v.x?(z="right",s=0,u=$/2):(z="left",s=b+(J.x+rt.x)*2,u=$/2),i=i.subtract(q(s,u,!0)).add(J).add(rt),bt(m,"leaflet-tooltip-right"),bt(m,"leaflet-tooltip-left"),bt(m,"leaflet-tooltip-top"),bt(m,"leaflet-tooltip-bottom"),dt(m,"leaflet-tooltip-"+z),Bt(m,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&te(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),o0=function(i,s){return new xl(i,s)};gt.include({openTooltip:function(i,s,u){return this._initOverlay(xl,i,s,u).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),ct.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xl,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof xe||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(lt(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),lt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,u,h;this._tooltip.options.sticky&&i.originalEvent&&(u=this._map.mouseEventToContainerPoint(i.originalEvent),h=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(s)}});var np=En.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Ci(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var h=q(u.bgPos);s.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function s0(i){return new np(i)}En.Default=Fs;var Bs=ct.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){B(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Nt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Jn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof H?i:new H(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,u=-i(-1/0,1/0),h=0,m=s.length,v;h<m;h++)v=s[h].style.zIndex,s[h]!==this._container&&v&&(u=i(u,+v));isFinite(u)&&(this.options.zIndex=u+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){te(this._container,this.options.opacity);var i=+new Date,s=!1,u=!1;for(var h in this._tiles){var m=this._tiles[h];if(!(!m.current||!m.loaded)){var v=Math.min(1,(i-m.loaded)/200);te(m.el,v),v<1?s=!0:(m.active?u=!0:this._onOpaqueTile(m),m.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(D(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===i?(this._levels[u].el.style.zIndex=s-Math.abs(i-u),this._onUpdateLevel(u)):(Nt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var h=this._levels[i],m=this._map;return h||(h=this._levels[i]={},h.el=wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=s,h.origin=m.project(m.unproject(m.getPixelOrigin()),i).round(),h.zoom=i,this._setZoomTransform(h,m.getCenter(),m.getZoom()),T(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var i,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var h=s.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Nt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,u,h){var m=Math.floor(i/2),v=Math.floor(s/2),A=u-1,z=new H(+m,+v);z.z=+A;var b=this._tileCoordsToKey(z),$=this._tiles[b];return $&&$.active?($.retain=!0,!0):($&&$.loaded&&($.retain=!0),A>h?this._retainParent(m,v,A,h):!1)},_retainChildren:function(i,s,u,h){for(var m=2*i;m<2*i+2;m++)for(var v=2*s;v<2*s+2;v++){var A=new H(m,v);A.z=u+1;var z=this._tileCoordsToKey(A),b=this._tiles[z];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);u+1<h&&this._retainChildren(m,v,u+1,h)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,u,h){var m=Math.round(s);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var v=this.options.updateWhenZooming&&m!==this._tileZoom;(!h||v)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(i),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],i,s)},_setZoomTransform:function(i,s,u){var h=this._map.getZoomScale(u,i.zoom),m=i.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(s,u)).round();nt.any3d?on(i.el,m,h):Bt(i.el,m)},_resetGrid:function(){var i=this._map,s=i.options.crs,u=this._tileSize=this.getTileSize(),h=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],h).x/u.x),Math.ceil(i.project([0,s.wrapLng[1]],h).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],h).y/u.x),Math.ceil(i.project([s.wrapLat[1],0],h).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),h=s.getZoomScale(u,this._tileZoom),m=s.project(i,this._tileZoom).floor(),v=s.getSize().divideBy(h*2);return new at(m.subtract(v),m.add(v))},_update:function(i){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(i),m=this._pxBoundsToTileRange(h),v=m.getCenter(),A=[],z=this.options.keepBuffer,b=new at(m.getBottomLeft().subtract([z,-z]),m.getTopRight().add([z,-z]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var $ in this._tiles){var J=this._tiles[$].coords;(J.z!==this._tileZoom||!b.contains(new H(J.x,J.y)))&&(this._tiles[$].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(i,u);return}for(var rt=m.min.y;rt<=m.max.y;rt++)for(var _t=m.min.x;_t<=m.max.x;_t++){var ze=new H(_t,rt);if(ze.z=this._tileZoom,!!this._isValidTile(ze)){var pe=this._tiles[this._tileCoordsToKey(ze)];pe?pe.current=!0:A.push(ze)}}if(A.sort(function(He,ao){return He.distanceTo(v)-ao.distanceTo(v)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var un=document.createDocumentFragment();for(_t=0;_t<A.length;_t++)this._addTile(A[_t],un);this._level.el.appendChild(un)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(i.x<u.min.x||i.x>u.max.x)||!s.wrapLat&&(i.y<u.min.y||i.y>u.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(i);return kt(this.options.bounds).overlaps(h)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,u=this.getTileSize(),h=i.scaleBy(u),m=h.add(u),v=s.unproject(h,i.z),A=s.unproject(m,i.z);return[v,A]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),u=new yt(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),u=new H(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(i){var s=this._tiles[i];s&&(Nt(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){dt(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=T,i.onmousemove=T,nt.ielt9&&this.options.opacity<1&&te(i,this.options.opacity)},_addTile:function(i,s){var u=this._getTilePos(i),h=this._tileCoordsToKey(i),m=this.createTile(this._wrapCoords(i),c(this._tileReady,this,i));this._initTile(m),this.createTile.length<2&&R(c(this._tileReady,this,i,null,m)),Bt(m,u),this._tiles[h]={el:m,coords:i,current:!0},s.appendChild(m),this.fire("tileloadstart",{tile:m,coords:i})},_tileReady:function(i,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:i});var h=this._tileCoordsToKey(i);u=this._tiles[h],u&&(u.loaded=+new Date,this._map._fadeAnimated?(te(u.el,0),D(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(dt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new H(this._wrapX?w(i.x,this._wrapX):i.x,this._wrapY?w(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new at(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function a0(i){return new Bs(i)}var so=Bs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=B(this,s),s.detectRetina&&nt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var u=document.createElement("img");return lt(u,"load",c(this._tileOnLoad,this,s,u)),lt(u,"error",c(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(i),u},getTileUrl:function(i){var s={r:nt.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=u),s["-y"]=u}return C(this._url,o(s,this.options))},_tileOnLoad:function(i,s){nt.ielt9?setTimeout(c(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,u){var h=this.options.errorTileUrl;h&&s.getAttribute("src")!==h&&(s.src=h),i(u,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,h=this.options.zoomOffset;return u&&(i=s-i),i+h},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=T,s.onerror=T,!s.complete)){s.src=Q;var u=this._tiles[i].coords;Nt(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",Q),Bs.prototype._removeTile.call(this,i)},_tileReady:function(i,s,u){if(!(!this._map||u&&u.getAttribute("src")===Q))return Bs.prototype._tileReady.call(this,i,s,u)}});function ip(i,s){return new so(i,s)}var rp=so.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var u=o({},this.defaultWmsParams);for(var h in s)h in this.options||(u[h]=s[h]);s=B(this,s);var m=s.detectRetina&&nt.retina?2:1,v=this.getTileSize();u.width=v.x*m,u.height=v.y*m,this.wmsParams=u},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,so.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),u=this._crs,h=ft(u.project(s[0]),u.project(s[1])),m=h.min,v=h.max,A=(this._wmsVersion>=1.3&&this._crs===Lt?[m.y,m.x,v.y,v.x]:[m.x,m.y,v.x,v.y]).join(","),z=so.prototype.getTileUrl.call(this,i);return z+K(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function l0(i,s){return new rp(i,s)}so.WMS=rp,ip.wms=l0;var ai=ct.extend({options:{padding:.1},initialize:function(i){B(this,i),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var u=this._map.getZoomScale(s,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,s),v=h.multiplyBy(-u).add(m).subtract(this._map._getNewPixelOrigin(i,s));nt.any3d?on(this._container,v,u):Bt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new at(u,u.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),op=ai.extend({options:{tolerance:0},getEvents:function(){var i=ai.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");lt(i,"mousemove",this._onMouseMove,this),lt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),lt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,Nt(this._container),Mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var i=this._bounds,s=this._container,u=i.getSize(),h=nt.retina?2:1;Bt(s,i.min),s.width=h*u.x,s.height=h*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[p(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,u=s.next,h=s.prev;u?u.prev=h:this._drawLast=h,h?h.next=u:this._drawFirst=u,delete i._order,delete this._layers[p(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),u=[],h,m;for(m=0;m<s.length;m++){if(h=Number(s[m]),isNaN(h))return;u.push(h)}i.options._dashArray=u}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new at,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)i=h.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var u,h,m,v,A=i._parts,z=A.length,b=this._ctx;if(z){for(b.beginPath(),u=0;u<z;u++){for(h=0,m=A[u].length;h<m;h++)v=A[u][h],b[h?"lineTo":"moveTo"](v.x,v.y);s&&b.closePath()}this._fillStroke(b,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,u=this._ctx,h=Math.max(Math.round(i._radius),1),m=(Math.max(Math.round(i._radiusY),1)||h)/h;m!==1&&(u.save(),u.scale(1,m)),u.beginPath(),u.arc(s.x,s.y/m,h,0,Math.PI*2,!1),m!==1&&u.restore(),this._fillStroke(u,i)}},_fillStroke:function(i,s){var u=s.options;u.fill&&(i.globalAlpha=u.fillOpacity,i.fillStyle=u.fillColor||u.color,i.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=u.opacity,i.lineWidth=u.weight,i.strokeStyle=u.color,i.lineCap=u.lineCap,i.lineJoin=u.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),u,h,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(h=u);this._fireEvent(h?[h]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(bt(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var u,h,m=this._drawFirst;m;m=m.next)u=m.layer,u.options.interactive&&u._containsPoint(s)&&(h=u);h!==this._hoveredLayer&&(this._handleMouseOut(i),h&&(dt(this._container,"leaflet-interactive"),this._fireEvent([h],i,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,u){this._map._fireDOMEvent(s,u||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var u=s.next,h=s.prev;if(u)u.prev=h;else return;h?h.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var u=s.next,h=s.prev;if(h)h.next=u;else return;u?u.prev=h:h&&(this._drawLast=h),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function sp(i){return nt.canvas?new op(i):null}var Us=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),u0={_initContainer:function(){this._container=wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=Us("shape");dt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=Us("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[p(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;Nt(s),i.removeInteractiveTarget(s),delete this._layers[p(i)]},_updateStyle:function(i){var s=i._stroke,u=i._fill,h=i.options,m=i._container;m.stroked=!!h.stroke,m.filled=!!h.fill,h.stroke?(s||(s=i._stroke=Us("stroke")),m.appendChild(s),s.weight=h.weight+"px",s.color=h.color,s.opacity=h.opacity,h.dashArray?s.dashStyle=M(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=h.lineCap.replace("butt","flat"),s.joinstyle=h.lineJoin):s&&(m.removeChild(s),i._stroke=null),h.fill?(u||(u=i._fill=Us("fill")),m.appendChild(u),u.color=h.fillColor||h.color,u.opacity=h.fillOpacity):u&&(m.removeChild(u),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),u=Math.round(i._radius),h=Math.round(i._radiusY||u);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+h+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){Xn(i._container)},_bringToBack:function(i){Jn(i._container)}},kl=nt.vml?Us:Br,js=ai.extend({_initContainer:function(){this._container=kl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=kl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Nt(this._container),Mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var i=this._bounds,s=i.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),Bt(u,i.min),u.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=kl("path");i.options.className&&dt(s,i.options.className),i.options.interactive&&dt(s,"leaflet-interactive"),this._updateStyle(i),this._layers[p(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Nt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[p(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,u=i.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,is(i._parts,s))},_updateCircle:function(i){var s=i._point,u=Math.max(Math.round(i._radius),1),h=Math.max(Math.round(i._radiusY),1)||u,m="a"+u+","+h+" 0 1,0 ",v=i._empty()?"M0 0":"M"+(s.x-u)+","+s.y+m+u*2+",0 "+m+-u*2+",0 ";this._setPath(i,v)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){Xn(i._path)},_bringToBack:function(i){Jn(i._path)}});nt.vml&&js.include(u0);function ap(i){return nt.svg||nt.vml?new js(i):null}gt.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&sp(i)||ap(i)}});var lp=ro.extend({initialize:function(i,s){ro.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=kt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function c0(i,s){return new lp(i,s)}js.create=kl,js.pointsToPath=is,si.geometryToLayer=Tl,si.coordsToLatLng=Ac,si.coordsToLatLngs=Pl,si.latLngToCoords=xc,si.latLngsToCoords=Sl,si.getFeature=oo,si.asFeature=Il,gt.mergeOptions({boxZoom:!0});var up=ln.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nn(),Qr(),this._startPoint=this._map.mouseEventToContainerPoint(i),lt(document,{contextmenu:Qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=wt("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new at(this._point,this._startPoint),u=s.getSize();Bt(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Nt(this._box),bt(this._container,"leaflet-crosshair")),vn(),Ts(),Mt(document,{contextmenu:Qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var s=new yt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gt.addInitHook("addHandler","boxZoom",up),gt.mergeOptions({doubleClickZoom:!0});var cp=ln.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,u=s.getZoom(),h=s.options.zoomDelta,m=i.originalEvent.shiftKey?u-h:u+h;s.options.doubleClickZoom==="center"?s.setZoom(m):s.setZoomAround(i.containerPoint,m)}});gt.addInitHook("addHandler","doubleClickZoom",cp),gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var hp=ln.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new wn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=kt(this._map.options.maxBounds);this._offsetLimit=ft(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),u=this._initialWorldOffset,h=this._draggable._newPos.x,m=(h-s+u)%i+s-u,v=(h+s+u)%i-s-u,A=Math.abs(m+u)<Math.abs(v+u)?m:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(i){var s=this._map,u=s.options,h=!u.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),h)s.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,A=u.easeLinearity,z=m.multiplyBy(A/v),b=z.distanceTo([0,0]),$=Math.min(u.inertiaMaxSpeed,b),J=z.multiplyBy($/b),rt=$/(u.inertiaDeceleration*A),_t=J.multiplyBy(-rt/2).round();!_t.x&&!_t.y?s.fire("moveend"):(_t=s._limitOffset(_t,s.options.maxBounds),R(function(){s.panBy(_t,{duration:rt,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});gt.addInitHook("addHandler","dragging",hp),gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fp=ln.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),lt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,u=i.scrollTop||s.scrollTop,h=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(h,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},u=this.keyCodes,h,m;for(h=0,m=u.left.length;h<m;h++)s[u.left[h]]=[-1*i,0];for(h=0,m=u.right.length;h<m;h++)s[u.right[h]]=[i,0];for(h=0,m=u.down.length;h<m;h++)s[u.down[h]]=[0,i];for(h=0,m=u.up.length;h<m;h++)s[u.up[h]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},u=this.keyCodes,h,m;for(h=0,m=u.zoomIn.length;h<m;h++)s[u.zoomIn[h]]=i;for(h=0,m=u.zoomOut.length;h<m;h++)s[u.zoomOut[h]]=-i},_addHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,u=this._map,h;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(h=this._panKeys[s],i.shiftKey&&(h=q(h).multiplyBy(3)),u.options.maxBounds&&(h=u._limitOffset(q(h),u.options.maxBounds)),u.options.worldCopyJump){var m=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(h)));u.panTo(m)}else u.panBy(h)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Qe(i)}}});gt.addInitHook("addHandler","keyboard",fp),gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dp=ln.extend({addHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=Ot(i),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var h=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),h),Qe(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),u=this._map.options.zoomSnap||0;i._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,v=u?Math.ceil(m/u)*u:m,A=i._limitZoom(s+(this._delta>0?v:-v))-s;this._delta=0,this._startTime=null,A&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+A):i.setZoomAround(this._lastMousePos,s+A))}});gt.addInitHook("addHandler","scrollWheelZoom",dp);var h0=600;gt.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var pp=ln.extend({addHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new H(s.clientX,s.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(lt(document,"touchend",ee),lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),h0),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Mt(document,"touchend",ee),Mt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new H(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var u=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});gt.addInitHook("addHandler","tapHold",pp),gt.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var mp=ln.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(i.touches[0]),h=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(h)._divideBy(2))),this._startDist=u.distanceTo(h),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),ee(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(i.touches[0]),h=s.mouseEventToContainerPoint(i.touches[1]),m=u.distanceTo(h)/this._startDist;if(this._zoom=s.getScaleZoom(m,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&m<1||this._zoom>s.getMaxZoom()&&m>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var v=u._add(h)._divideBy(2)._subtract(this._centerPoint);if(m===1&&v.x===0&&v.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var A=c(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(A,this,!0),ee(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gt.addInitHook("addHandler","touchZoom",mp),gt.BoxZoom=up,gt.DoubleClickZoom=cp,gt.Drag=hp,gt.Keyboard=fp,gt.ScrollWheelZoom=dp,gt.TapHold=pp,gt.TouchZoom=mp,n.Bounds=at,n.Browser=nt,n.CRS=Jt,n.Canvas=op,n.Circle=Cc,n.CircleMarker=El,n.Class=Zt,n.Control=Ae,n.DivIcon=np,n.DivOverlay=Vn,n.DomEvent=Ic,n.DomUtil=hl,n.Draggable=wn,n.Evented=Ve,n.FeatureGroup=xe,n.GeoJSON=si,n.GridLayer=Bs,n.Handler=ln,n.Icon=En,n.ImageOverlay=Cl,n.LatLng=mt,n.LatLngBounds=yt,n.Layer=ct,n.LayerGroup=Ut,n.LineUtil=_,n.Map=gt,n.Marker=wl,n.Mixin=ml,n.Path=Mi,n.Point=H,n.PolyUtil=_l,n.Polygon=ro,n.Polyline=oi,n.Popup=Al,n.PosAnimation=Ls,n.Projection=F,n.Rectangle=lp,n.Renderer=ai,n.SVG=js,n.SVGOverlay=ep,n.TileLayer=so,n.Tooltip=xl,n.Transformation=Ei,n.Util=x,n.VideoOverlay=tp,n.bind=c,n.bounds=ft,n.canvas=sp,n.circle=Yy,n.circleMarker=Qy,n.control=ki,n.divIcon=s0,n.extend=o,n.featureGroup=Ye,n.geoJSON=Jd,n.geoJson=t0,n.gridLayer=a0,n.icon=bs,n.imageOverlay=e0,n.latLng=ut,n.latLngBounds=kt,n.layerGroup=de,n.map=dl,n.marker=Gy,n.point=q,n.polygon=Jy,n.polyline=Xy,n.popup=r0,n.rectangle=c0,n.setOptions=B,n.stamp=p,n.svg=ap,n.svgOverlay=i0,n.tileLayer=ip,n.tooltip=o0,n.transformation=qn,n.version=r,n.videoOverlay=n0;var f0=window.L;n.noConflict=function(){return window.L=f0,this},window.L=n})})(sf,sf.exports);var hc=sf.exports;function Id(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Cd(e,t){return t==null?function(r,o){const a=xt.useRef();return a.current||(a.current=e(r,o)),a}:function(r,o){const a=xt.useRef();a.current||(a.current=e(r,o));const c=xt.useRef(r),{instance:f}=a.current;return xt.useEffect(function(){c.current!==r&&(t(f,r,c.current),c.current=r)},[f,r,o]),a}}function eE(e,t){xt.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Fv(e){return function(n){const r=zv(),o=e(Sd(n,r),r);return Dv(r.map,n.attribution),bv(o.current,n.eventHandlers),eE(o.current,r),o}}function nE(e,t){const n=Cd(e,t),r=Fv(n);return Y1(r)}function iE(e,t){const n=Cd(e),r=tE(n,t);return X1(r)}function rE(e,t){const n=Cd(e,t),r=Fv(n);return J1(r)}function oE(e,t,n){const{opacity:r,zIndex:o}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function af(){return af=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(this,arguments)}function sE({bounds:e,boundsOptions:t,center:n,children:r,className:o,id:a,placeholder:c,style:f,whenReady:p,zoom:g,...w},T){const[S]=xt.useState({className:o,id:a,style:f}),[V,U]=xt.useState(null);xt.useImperativeHandle(T,()=>(V==null?void 0:V.map)??null,[V]);const B=xt.useCallback(N=>{if(N!==null&&V===null){const C=new hc.Map(N,w);n!=null&&g!=null?C.setView(n,g):e!=null&&C.fitBounds(e,t),p!=null&&C.whenReady(p),U(G1(C))}},[]);xt.useEffect(()=>()=>{V==null||V.map.remove()},[V]);const K=V?mu.createElement(Vv,{value:V},r):c??null;return mu.createElement("div",af({},S,{ref:B}),K)}const aE=xt.forwardRef(sE),lE=nE(function({position:t,...n},r){const o=new hc.Marker(t,n);return Id(o,Q1(r,{overlayContainer:o}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),uE=iE(function(t,n){const r=new hc.Popup(t,n.overlayContainer);return Id(r,n)},function(t,n,{position:r},o){xt.useEffect(function(){const{instance:c}=t;function f(g){g.popup===c&&(c.update(),o(!0))}function p(g){g.popup===c&&o(!1)}return n.map.on({popupopen:f,popupclose:p}),n.overlayContainer==null?(r!=null&&c.setLatLng(r),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){var w;n.map.off({popupopen:f,popupclose:p}),(w=n.overlayContainer)==null||w.unbindPopup(),n.map.removeLayer(c)}},[t,n,o,r])}),cE=rE(function({url:t,...n},r){const o=new hc.TileLayer(t,Sd(n,r));return Id(o,r)},function(t,n,r){oE(t,n,r);const{url:o}=n;o!=null&&o!==r.url&&t.setUrl(o)});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},hE=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=e[n++];t[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=e[n++],c=e[n++],f=e[n++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const a=e[n++],c=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return t.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const a=e[o],c=o+1<e.length,f=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,w=a>>2,T=(a&3)<<4|f>>4;let S=(f&15)<<2|g>>6,V=g&63;p||(V=64,c||(S=64)),r.push(n[w],n[T],n[S],n[V])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):hE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const a=n[e.charAt(o++)],f=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const T=o<e.length?n[e.charAt(o)]:64;if(++o,a==null||f==null||g==null||T==null)throw new fE;const S=a<<2|f>>4;if(r.push(S),g!==64){const V=f<<4&240|g>>2;if(r.push(V),T!==64){const U=g<<6&192|T;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class fE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dE=function(e){const t=Bv(e);return Uv.encodeByteArray(t,!0)},Bu=function(e){return dE(e).replace(/\./g,"")},pE=function(e){try{return Uv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=()=>mE().__FIREBASE_DEFAULTS__,gE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pE(e[1]);return t&&JSON.parse(t)},Ad=()=>{try{return _E()||gE()||vE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},yE=e=>{var t,n;return(n=(t=Ad())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},wE=e=>{const t=yE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},jv=()=>{var e;return(e=Ad())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),f="";return[Bu(JSON.stringify(n)),Bu(JSON.stringify(c)),f].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SE(){var e;const t=(e=Ad())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IE(){return!SE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CE(){try{return typeof indexedDB=="object"}catch{return!1}}function AE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;t(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="FirebaseError";class Yo extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=xE,Object.setPrototypeOf(this,Yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hv.prototype.create)}}class Hv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,a=this.errors[t],c=a?kE(a,r):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Yo(o,f,r)}}function kE(e,t){return e.replace(LE,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const LE=/\{\$([^}]+)}/g;function lf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const a=e[o],c=t[o];if(xm(a)&&xm(c)){if(!lf(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function xm(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e){return e&&e._delegate?e._delegate:e}class Oa{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new EE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DE(t))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(t=wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wr){return this.instances.has(t)}getOptions(t=wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&c.resolve(o)}return o}onInit(t,n){var r;const o=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(t),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&t(c,o),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=wr){return this.component?this.component.multipleInstances?t:wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NE(e){return e===wr?void 0:e}function DE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ME(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(St||(St={}));const VE={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},zE=St.INFO,bE={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},FE=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=bE[t];if(o)console[o](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $v{constructor(t){this.name=t,this._logLevel=zE,this._logHandler=FE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in St))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?VE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...t),this._logHandler(this,St.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...t),this._logHandler(this,St.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,St.INFO,...t),this._logHandler(this,St.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,St.WARN,...t),this._logHandler(this,St.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...t),this._logHandler(this,St.ERROR,...t)}}const BE=(e,t)=>t.some(n=>e instanceof n);let km,Lm;function UE(){return km||(km=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jE(){return Lm||(Lm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zv=new WeakMap,uf=new WeakMap,Wv=new WeakMap,ih=new WeakMap,xd=new WeakMap;function HE(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",a),e.removeEventListener("error",c)},a=()=>{n(Qi(e.result)),o()},c=()=>{r(e.error),o()};e.addEventListener("success",a),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Zv.set(n,e)}).catch(()=>{}),xd.set(t,e),t}function $E(e){if(uf.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",c),e.removeEventListener("abort",c)},a=()=>{n(),o()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",a),e.addEventListener("error",c),e.addEventListener("abort",c)});uf.set(e,t)}let cf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return uf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Wv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ZE(e){cf=e(cf)}function WE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(rh(this),t,...n);return Wv.set(r,t.sort?t.sort():[t]),Qi(r)}:jE().includes(e)?function(...t){return e.apply(rh(this),t),Qi(Zv.get(this))}:function(...t){return Qi(e.apply(rh(this),t))}}function qE(e){return typeof e=="function"?WE(e):(e instanceof IDBTransaction&&$E(e),BE(e,UE())?new Proxy(e,cf):e)}function Qi(e){if(e instanceof IDBRequest)return HE(e);if(ih.has(e))return ih.get(e);const t=qE(e);return t!==e&&(ih.set(e,t),xd.set(t,e)),t}const rh=e=>xd.get(e);function KE(e,t,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(e,t),f=Qi(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Qi(c.result),p.oldVersion,p.newVersion,Qi(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const GE=["get","getKey","getAll","getAllKeys","count"],QE=["put","add","delete","clear"],oh=new Map;function Rm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(oh.get(t))return oh.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=QE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||GE.includes(n)))return;const a=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),o&&p.done]))[0]};return oh.set(t,a),a}ZE(e=>({...e,get:(t,n,r)=>Rm(t,n)||e.get(t,n,r),has:(t,n)=>!!Rm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hf="@firebase/app",Mm="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new $v("@firebase/app"),JE="@firebase/app-compat",tT="@firebase/analytics-compat",eT="@firebase/analytics",nT="@firebase/app-check-compat",iT="@firebase/app-check",rT="@firebase/auth",oT="@firebase/auth-compat",sT="@firebase/database",aT="@firebase/data-connect",lT="@firebase/database-compat",uT="@firebase/functions",cT="@firebase/functions-compat",hT="@firebase/installations",fT="@firebase/installations-compat",dT="@firebase/messaging",pT="@firebase/messaging-compat",mT="@firebase/performance",_T="@firebase/performance-compat",gT="@firebase/remote-config",vT="@firebase/remote-config-compat",yT="@firebase/storage",wT="@firebase/storage-compat",ET="@firebase/firestore",TT="@firebase/vertexai-preview",PT="@firebase/firestore-compat",ST="firebase",IT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]",CT={[hf]:"fire-core",[JE]:"fire-core-compat",[eT]:"fire-analytics",[tT]:"fire-analytics-compat",[iT]:"fire-app-check",[nT]:"fire-app-check-compat",[rT]:"fire-auth",[oT]:"fire-auth-compat",[sT]:"fire-rtdb",[aT]:"fire-data-connect",[lT]:"fire-rtdb-compat",[uT]:"fire-fn",[cT]:"fire-fn-compat",[hT]:"fire-iid",[fT]:"fire-iid-compat",[dT]:"fire-fcm",[pT]:"fire-fcm-compat",[mT]:"fire-perf",[_T]:"fire-perf-compat",[gT]:"fire-rc",[vT]:"fire-rc-compat",[yT]:"fire-gcs",[wT]:"fire-gcs-compat",[ET]:"fire-fst",[PT]:"fire-fst-compat",[TT]:"fire-vertex","fire-js":"fire-js",[ST]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map,AT=new Map,df=new Map;function Nm(e,t){try{e.container.addComponent(t)}catch(n){gi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ju(e){const t=e.name;if(df.has(t))return gi.debug(`There were multiple attempts to register component ${t}.`),!1;df.set(t,e);for(const n of Uu.values())Nm(n,e);for(const n of AT.values())Nm(n,e);return!0}function xT(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Hv("app","Firebase",kT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=IT;function qv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:ff,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Yi.create("bad-app-name",{appName:String(o)});if(n||(n=jv()),!n)throw Yi.create("no-options");const a=Uu.get(o);if(a){if(lf(n,a.options)&&lf(r,a.config))return a;throw Yi.create("duplicate-app",{appName:o})}const c=new OE(o);for(const p of df.values())c.addComponent(p);const f=new LT(n,r,c);return Uu.set(o,f),f}function MT(e=ff){const t=Uu.get(e);if(!t&&e===ff&&jv())return qv();if(!t)throw Yi.create("no-app",{appName:e});return t}function Ro(e,t,n){var r;let o=(r=CT[e])!==null&&r!==void 0?r:e;n&&(o+=`-${n}`);const a=o.match(/\s|\//),c=t.match(/\s|\//);if(a||c){const f=[`Unable to register library "${o}" with version "${t}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gi.warn(f.join(" "));return}ju(new Oa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebase-heartbeat-database",DT=1,Va="firebase-heartbeat-store";let sh=null;function Kv(){return sh||(sh=KE(NT,DT,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Va)}catch(n){console.warn(n)}}}}).catch(e=>{throw Yi.create("idb-open",{originalErrorMessage:e.message})})),sh}async function OT(e){try{const n=(await Kv()).transaction(Va),r=await n.objectStore(Va).get(Gv(e));return await n.done,r}catch(t){if(t instanceof Yo)gi.warn(t.message);else{const n=Yi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gi.warn(n.message)}}}async function Dm(e,t){try{const r=(await Kv()).transaction(Va,"readwrite");await r.objectStore(Va).put(t,Gv(e)),await r.done}catch(n){if(n instanceof Yo)gi.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function Gv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=1024,zT=30*24*60*60*1e3;class bT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Om();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=zT}),this._storage.overwrite(this._heartbeatsCache))}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Om(),{heartbeatsToSend:r,unsentEntries:o}=FT(this._heartbeatsCache.heartbeats),a=Bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return gi.warn(n),""}}}function Om(){return new Date().toISOString().substring(0,10)}function FT(e,t=VT){const n=[];let r=e.slice();for(const o of e){const a=n.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Vm(n)>t){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CE()?AE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Vm(e){return Bu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e){ju(new Oa("platform-logger",t=>new YE(t),"PRIVATE")),ju(new Oa("heartbeat",t=>new bT(t),"PRIVATE")),Ro(hf,Mm,e),Ro(hf,Mm,"esm2017"),Ro("fire-js","")}UT("");var zm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,Qv;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,E){function P(){}P.prototype=E.prototype,I.D=E.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(k,R,D){for(var x=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)x[Zt-2]=arguments[Zt];return E.prototype[R].apply(k,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,E,P){P||(P=0);var k=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)k[R]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(R=0;16>R;++R)k[R]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=I.g[0],P=I.g[1],R=I.g[2];var D=I.g[3],x=E+(D^P&(R^D))+k[0]+3614090360&4294967295;E=P+(x<<7&4294967295|x>>>25),x=D+(R^E&(P^R))+k[1]+3905402710&4294967295,D=E+(x<<12&4294967295|x>>>20),x=R+(P^D&(E^P))+k[2]+606105819&4294967295,R=D+(x<<17&4294967295|x>>>15),x=P+(E^R&(D^E))+k[3]+3250441966&4294967295,P=R+(x<<22&4294967295|x>>>10),x=E+(D^P&(R^D))+k[4]+4118548399&4294967295,E=P+(x<<7&4294967295|x>>>25),x=D+(R^E&(P^R))+k[5]+1200080426&4294967295,D=E+(x<<12&4294967295|x>>>20),x=R+(P^D&(E^P))+k[6]+2821735955&4294967295,R=D+(x<<17&4294967295|x>>>15),x=P+(E^R&(D^E))+k[7]+4249261313&4294967295,P=R+(x<<22&4294967295|x>>>10),x=E+(D^P&(R^D))+k[8]+1770035416&4294967295,E=P+(x<<7&4294967295|x>>>25),x=D+(R^E&(P^R))+k[9]+2336552879&4294967295,D=E+(x<<12&4294967295|x>>>20),x=R+(P^D&(E^P))+k[10]+4294925233&4294967295,R=D+(x<<17&4294967295|x>>>15),x=P+(E^R&(D^E))+k[11]+2304563134&4294967295,P=R+(x<<22&4294967295|x>>>10),x=E+(D^P&(R^D))+k[12]+1804603682&4294967295,E=P+(x<<7&4294967295|x>>>25),x=D+(R^E&(P^R))+k[13]+4254626195&4294967295,D=E+(x<<12&4294967295|x>>>20),x=R+(P^D&(E^P))+k[14]+2792965006&4294967295,R=D+(x<<17&4294967295|x>>>15),x=P+(E^R&(D^E))+k[15]+1236535329&4294967295,P=R+(x<<22&4294967295|x>>>10),x=E+(R^D&(P^R))+k[1]+4129170786&4294967295,E=P+(x<<5&4294967295|x>>>27),x=D+(P^R&(E^P))+k[6]+3225465664&4294967295,D=E+(x<<9&4294967295|x>>>23),x=R+(E^P&(D^E))+k[11]+643717713&4294967295,R=D+(x<<14&4294967295|x>>>18),x=P+(D^E&(R^D))+k[0]+3921069994&4294967295,P=R+(x<<20&4294967295|x>>>12),x=E+(R^D&(P^R))+k[5]+3593408605&4294967295,E=P+(x<<5&4294967295|x>>>27),x=D+(P^R&(E^P))+k[10]+38016083&4294967295,D=E+(x<<9&4294967295|x>>>23),x=R+(E^P&(D^E))+k[15]+3634488961&4294967295,R=D+(x<<14&4294967295|x>>>18),x=P+(D^E&(R^D))+k[4]+3889429448&4294967295,P=R+(x<<20&4294967295|x>>>12),x=E+(R^D&(P^R))+k[9]+568446438&4294967295,E=P+(x<<5&4294967295|x>>>27),x=D+(P^R&(E^P))+k[14]+3275163606&4294967295,D=E+(x<<9&4294967295|x>>>23),x=R+(E^P&(D^E))+k[3]+4107603335&4294967295,R=D+(x<<14&4294967295|x>>>18),x=P+(D^E&(R^D))+k[8]+1163531501&4294967295,P=R+(x<<20&4294967295|x>>>12),x=E+(R^D&(P^R))+k[13]+2850285829&4294967295,E=P+(x<<5&4294967295|x>>>27),x=D+(P^R&(E^P))+k[2]+4243563512&4294967295,D=E+(x<<9&4294967295|x>>>23),x=R+(E^P&(D^E))+k[7]+1735328473&4294967295,R=D+(x<<14&4294967295|x>>>18),x=P+(D^E&(R^D))+k[12]+2368359562&4294967295,P=R+(x<<20&4294967295|x>>>12),x=E+(P^R^D)+k[5]+4294588738&4294967295,E=P+(x<<4&4294967295|x>>>28),x=D+(E^P^R)+k[8]+2272392833&4294967295,D=E+(x<<11&4294967295|x>>>21),x=R+(D^E^P)+k[11]+1839030562&4294967295,R=D+(x<<16&4294967295|x>>>16),x=P+(R^D^E)+k[14]+4259657740&4294967295,P=R+(x<<23&4294967295|x>>>9),x=E+(P^R^D)+k[1]+2763975236&4294967295,E=P+(x<<4&4294967295|x>>>28),x=D+(E^P^R)+k[4]+1272893353&4294967295,D=E+(x<<11&4294967295|x>>>21),x=R+(D^E^P)+k[7]+4139469664&4294967295,R=D+(x<<16&4294967295|x>>>16),x=P+(R^D^E)+k[10]+3200236656&4294967295,P=R+(x<<23&4294967295|x>>>9),x=E+(P^R^D)+k[13]+681279174&4294967295,E=P+(x<<4&4294967295|x>>>28),x=D+(E^P^R)+k[0]+3936430074&4294967295,D=E+(x<<11&4294967295|x>>>21),x=R+(D^E^P)+k[3]+3572445317&4294967295,R=D+(x<<16&4294967295|x>>>16),x=P+(R^D^E)+k[6]+76029189&4294967295,P=R+(x<<23&4294967295|x>>>9),x=E+(P^R^D)+k[9]+3654602809&4294967295,E=P+(x<<4&4294967295|x>>>28),x=D+(E^P^R)+k[12]+3873151461&4294967295,D=E+(x<<11&4294967295|x>>>21),x=R+(D^E^P)+k[15]+530742520&4294967295,R=D+(x<<16&4294967295|x>>>16),x=P+(R^D^E)+k[2]+3299628645&4294967295,P=R+(x<<23&4294967295|x>>>9),x=E+(R^(P|~D))+k[0]+4096336452&4294967295,E=P+(x<<6&4294967295|x>>>26),x=D+(P^(E|~R))+k[7]+1126891415&4294967295,D=E+(x<<10&4294967295|x>>>22),x=R+(E^(D|~P))+k[14]+2878612391&4294967295,R=D+(x<<15&4294967295|x>>>17),x=P+(D^(R|~E))+k[5]+4237533241&4294967295,P=R+(x<<21&4294967295|x>>>11),x=E+(R^(P|~D))+k[12]+1700485571&4294967295,E=P+(x<<6&4294967295|x>>>26),x=D+(P^(E|~R))+k[3]+2399980690&4294967295,D=E+(x<<10&4294967295|x>>>22),x=R+(E^(D|~P))+k[10]+4293915773&4294967295,R=D+(x<<15&4294967295|x>>>17),x=P+(D^(R|~E))+k[1]+2240044497&4294967295,P=R+(x<<21&4294967295|x>>>11),x=E+(R^(P|~D))+k[8]+1873313359&4294967295,E=P+(x<<6&4294967295|x>>>26),x=D+(P^(E|~R))+k[15]+4264355552&4294967295,D=E+(x<<10&4294967295|x>>>22),x=R+(E^(D|~P))+k[6]+2734768916&4294967295,R=D+(x<<15&4294967295|x>>>17),x=P+(D^(R|~E))+k[13]+1309151649&4294967295,P=R+(x<<21&4294967295|x>>>11),x=E+(R^(P|~D))+k[4]+4149444226&4294967295,E=P+(x<<6&4294967295|x>>>26),x=D+(P^(E|~R))+k[11]+3174756917&4294967295,D=E+(x<<10&4294967295|x>>>22),x=R+(E^(D|~P))+k[2]+718787259&4294967295,R=D+(x<<15&4294967295|x>>>17),x=P+(D^(R|~E))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var P=E-this.blockSize,k=this.B,R=this.h,D=0;D<E;){if(R==0)for(;D<=P;)o(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<E;)if(k[R++]=I.charCodeAt(D++),R==this.blockSize){o(this,k),R=0;break}}else for(;D<E;)if(k[R++]=I[D++],R==this.blockSize){o(this,k),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var P=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=P&255,P/=256;for(this.u(I),I=Array(16),E=P=0;4>E;++E)for(var k=0;32>k;k+=8)I[P++]=this.g[E]>>>k&255;return I};function a(I,E){var P=f;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=E(I)}function c(I,E){this.h=E;for(var P=[],k=!0,R=I.length-1;0<=R;R--){var D=I[R]|0;k&&D==E||(P[R]=D,k=!1)}this.g=P}var f={};function p(I){return-128<=I&&128>I?a(I,function(E){return new c([E|0],0>E?-1:0)}):new c([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(0>I)return K(g(-I));for(var E=[],P=1,k=0;I>=P;k++)E[k]=I/P|0,P*=4294967296;return new c(E,0)}function w(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return K(w(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(E,8)),k=T,R=0;R<I.length;R+=8){var D=Math.min(8,I.length-R),x=parseInt(I.substring(R,R+D),E);8>D?(D=g(Math.pow(E,D)),k=k.j(D).add(g(x))):(k=k.j(P),k=k.add(g(x)))}return k}var T=p(0),S=p(1),V=p(16777216);e=c.prototype,e.m=function(){if(B(this))return-K(this).m();for(var I=0,E=1,P=0;P<this.g.length;P++){var k=this.i(P);I+=(0<=k?k:4294967296+k)*E,E*=4294967296}return I},e.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(B(this))return"-"+K(this).toString(I);for(var E=g(Math.pow(I,6)),P=this,k="";;){var R=j(P,E).g;P=N(P,R.j(E));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=R,U(P))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},e.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function B(I){return I.h==-1}e.l=function(I){return I=N(this,I),B(I)?-1:U(I)?0:1};function K(I){for(var E=I.g.length,P=[],k=0;k<E;k++)P[k]=~I.g[k];return new c(P,~I.h).add(S)}e.abs=function(){return B(this)?K(this):this},e.add=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],k=0,R=0;R<=E;R++){var D=k+(this.i(R)&65535)+(I.i(R)&65535),x=(D>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);k=x>>>16,D&=65535,x&=65535,P[R]=x<<16|D}return new c(P,P[P.length-1]&-2147483648?-1:0)};function N(I,E){return I.add(K(E))}e.j=function(I){if(U(this)||U(I))return T;if(B(this))return B(I)?K(this).j(K(I)):K(K(this).j(I));if(B(I))return K(this.j(K(I)));if(0>this.l(V)&&0>I.l(V))return g(this.m()*I.m());for(var E=this.g.length+I.g.length,P=[],k=0;k<2*E;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<I.g.length;R++){var D=this.i(k)>>>16,x=this.i(k)&65535,Zt=I.i(R)>>>16,Wn=I.i(R)&65535;P[2*k+2*R]+=x*Wn,C(P,2*k+2*R),P[2*k+2*R+1]+=D*Wn,C(P,2*k+2*R+1),P[2*k+2*R+1]+=x*Zt,C(P,2*k+2*R+1),P[2*k+2*R+2]+=D*Zt,C(P,2*k+2*R+2)}for(k=0;k<E;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=E;k<2*E;k++)P[k]=0;return new c(P,0)};function C(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function M(I,E){this.g=I,this.h=E}function j(I,E){if(U(E))throw Error("division by zero");if(U(I))return new M(T,T);if(B(I))return E=j(K(I),E),new M(K(E.g),K(E.h));if(B(E))return E=j(I,K(E)),new M(K(E.g),E.h);if(30<I.g.length){if(B(I)||B(E))throw Error("slowDivide_ only works with positive integers.");for(var P=S,k=E;0>=k.l(I);)P=Q(P),k=Q(k);var R=Y(P,1),D=Y(k,1);for(k=Y(k,2),P=Y(P,2);!U(k);){var x=D.add(k);0>=x.l(I)&&(R=R.add(P),D=x),k=Y(k,1),P=Y(P,1)}return E=N(I,R.j(E)),new M(R,E)}for(R=T;0<=I.l(E);){for(P=Math.max(1,Math.floor(I.m()/E.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=g(P),x=D.j(E);B(x)||0<x.l(I);)P-=k,D=g(P),x=D.j(E);U(D)&&(D=S),R=R.add(D),I=N(I,x)}return new M(R,I)}e.A=function(I){return j(this,I).h},e.and=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],k=0;k<E;k++)P[k]=this.i(k)&I.i(k);return new c(P,this.h&I.h)},e.or=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],k=0;k<E;k++)P[k]=this.i(k)|I.i(k);return new c(P,this.h|I.h)},e.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),P=[],k=0;k<E;k++)P[k]=this.i(k)^I.i(k);return new c(P,this.h^I.h)};function Q(I){for(var E=I.g.length+1,P=[],k=0;k<E;k++)P[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(P,I.h)}function Y(I,E){var P=E>>5;E%=32;for(var k=I.g.length-P,R=[],D=0;D<k;D++)R[D]=0<E?I.i(D+P)>>>E|I.i(D+P+1)<<32-E:I.i(D+P);return new c(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Qv=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=w,Ar=c}).apply(typeof zm<"u"?zm:typeof self<"u"?self:typeof window<"u"?window:{});var Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yv,na,Xv,hu,pf,Jv,ty,ey;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,_){return l==Array.prototype||l==Object.prototype||(l[d]=_.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kl=="object"&&Kl];for(var d=0;d<l.length;++d){var _=l[d];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(l,d){if(d)t:{var _=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var O=l[y];if(!(O in _))break t;_=_[O]}l=l[l.length-1],y=_[l],d=d(y),d!=y&&d!=null&&t(_,l,{configurable:!0,writable:!0,value:d})}}function a(l,d){l instanceof String&&(l+="");var _=0,y=!1,O={next:function(){if(!y&&_<l.length){var F=_++;return{value:d(F,l[F]),done:!1}}return y=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}o("Array.prototype.values",function(l){return l||function(){return a(this,function(d,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function g(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,_){return l.call.apply(l.bind,arguments)}function T(l,d,_){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,y),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function S(l,d,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function V(l,d){var _=Array.prototype.slice.call(arguments,1);return function(){var y=_.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function U(l,d){function _(){}_.prototype=d.prototype,l.aa=d.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(y,O,F){for(var G=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)G[Lt-2]=arguments[Lt];return d.prototype[O].apply(y,G)}}function B(l){const d=l.length;if(0<d){const _=Array(d);for(let y=0;y<d;y++)_[y]=l[y];return _}return[]}function K(l,d){for(let _=1;_<arguments.length;_++){const y=arguments[_];if(p(y)){const O=l.length||0,F=y.length||0;l.length=O+F;for(let G=0;G<F;G++)l[O+G]=y[G]}else l.push(y)}}class N{constructor(d,_){this.i=d,this.j=_,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function C(l){return/^[\s\xa0]*$/.test(l)}function M(){var l=f.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var Q=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function Y(l,d,_){for(const y in l)d.call(_,l[y],y,l)}function I(l,d){for(const _ in l)d.call(void 0,l[_],_,l)}function E(l){const d={};for(const _ in l)d[_]=l[_];return d}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let _,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(_ in y)l[_]=y[_];for(let F=0;F<P.length;F++)_=P[F],Object.prototype.hasOwnProperty.call(y,_)&&(l[_]=y[_])}}function R(l){var d=1;l=l.split(":");const _=[];for(;0<d&&l.length;)_.push(l.shift()),d--;return l.length&&_.push(l.join(":")),_}function D(l){f.setTimeout(()=>{throw l},0)}function x(){var l=ot;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Zt{constructor(){this.h=this.g=null}add(d,_){const y=Wn.get();y.set(d,_),this.h?this.h.next=y:this.g=y,this.h=y}}var Wn=new N(()=>new oe,l=>l.reset());class oe{constructor(){this.next=this.g=this.h=null}set(d,_){this.h=d,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,H=!1,ot=new Zt,q=()=>{const l=f.Promise.resolve(void 0);Ve=()=>{l.then(at)}};var at=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(_){D(_)}var d=Wn;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}H=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var kt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};f.addEventListener("test",_,d),f.removeEventListener("test",_,d)}catch{}return l}();function mt(l,d){if(yt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Q){t:{try{j(d.nodeName);var O=!0;break t}catch{}O=!1}O||(d=null)}}else _=="mouseover"?d=l.fromElement:_=="mouseout"&&(d=l.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ut[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&mt.aa.h.call(this)}}U(mt,yt);var ut={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),Ln=0;function Qa(l,d,_,y,O){this.listener=l,this.proxy=null,this.src=d,this.type=_,this.capture=!!y,this.ha=O,this.key=++Ln,this.da=this.fa=!1}function wi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ei(l){this.src=l,this.g={},this.h=0}Ei.prototype.add=function(l,d,_,y,O){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var G=sr(l,d,y,O);return-1<G?(d=l[G],_||(d.fa=!1)):(d=new Qa(d,this.src,F,!!y,O),d.fa=_,l.push(d)),d};function qn(l,d){var _=d.type;if(_ in l.g){var y=l.g[_],O=Array.prototype.indexOf.call(y,d,void 0),F;(F=0<=O)&&Array.prototype.splice.call(y,O,1),F&&(wi(d),l.g[_].length==0&&(delete l.g[_],l.h--))}}function sr(l,d,_,y){for(var O=0;O<l.length;++O){var F=l[O];if(!F.da&&F.listener==d&&F.capture==!!_&&F.ha==y)return O}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),Br={};function is(l,d,_,y,O){if(y&&y.once)return Ya(l,d,_,y,O);if(Array.isArray(d)){for(var F=0;F<d.length;F++)is(l,d[F],_,y,O);return null}return _=lr(_),l&&l[Jt]?l.K(d,_,g(y)?!!y.capture:!!y,O):Ur(l,d,_,!1,y,O)}function Ur(l,d,_,y,O,F){if(!d)throw Error("Invalid event type");var G=g(O)?!!O.capture:!!O,Lt=ss(l);if(Lt||(l[ns]=Lt=new Ei(l)),_=Lt.add(d,_,y,G,F),_.proxy)return _;if(y=jr(),_.proxy=y,y.src=l,y.listener=_,l.addEventListener)kt||(O=G),O===void 0&&(O=!1),l.addEventListener(d.toString(),y,O);else if(l.attachEvent)l.attachEvent(os(d.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jr(){function l(_){return d.call(l.src,l.listener,_)}const d=Xa;return l}function Ya(l,d,_,y,O){if(Array.isArray(d)){for(var F=0;F<d.length;F++)Ya(l,d[F],_,y,O);return null}return _=lr(_),l&&l[Jt]?l.L(d,_,g(y)?!!y.capture:!!y,O):Ur(l,d,_,!0,y,O)}function rs(l,d,_,y,O){if(Array.isArray(d))for(var F=0;F<d.length;F++)rs(l,d[F],_,y,O);else y=g(y)?!!y.capture:!!y,_=lr(_),l&&l[Jt]?(l=l.i,d=String(d).toString(),d in l.g&&(F=l.g[d],_=sr(F,_,y,O),-1<_&&(wi(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete l.g[d],l.h--)))):l&&(l=ss(l))&&(d=l.g[d.toString()],l=-1,d&&(l=sr(d,_,y,O)),(_=-1<l?d[l]:null)&&ar(_))}function ar(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Jt])qn(d.i,l);else{var _=l.type,y=l.proxy;d.removeEventListener?d.removeEventListener(_,y,l.capture):d.detachEvent?d.detachEvent(os(_),y):d.addListener&&d.removeListener&&d.removeListener(y),(_=ss(d))?(qn(_,l),_.h==0&&(_.src=null,d[ns]=null)):wi(l)}}}function os(l){return l in Br?Br[l]:Br[l]="on"+l}function Xa(l,d){if(l.da)l=!0;else{d=new mt(d,this);var _=l.listener,y=l.ha||l.src;l.fa&&ar(l),l=_.call(y,d)}return l}function ss(l){return l=l[ns],l instanceof Ei?l:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function lr(l){return typeof l=="function"?l:(l[as]||(l[as]=function(d){return l.handleEvent(d)}),l[as])}function se(){ft.call(this),this.i=new Ei(this),this.M=this,this.F=null}U(se,ft),se.prototype[Jt]=!0,se.prototype.removeEventListener=function(l,d,_,y){rs(this,l,d,_,y)};function fe(l,d){var _,y=l.F;if(y)for(_=[];y;y=y.F)_.push(y);if(l=l.M,y=d.type||d,typeof d=="string")d=new yt(d,l);else if(d instanceof yt)d.target=d.target||l;else{var O=d;d=new yt(y,l),k(d,O)}if(O=!0,_)for(var F=_.length-1;0<=F;F--){var G=d.g=_[F];O=Hr(G,y,!0,d)&&O}if(G=d.g=l,O=Hr(G,y,!0,d)&&O,O=Hr(G,y,!1,d)&&O,_)for(F=0;F<_.length;F++)G=d.g=_[F],O=Hr(G,y,!1,d)&&O}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var _=l.g[d],y=0;y<_.length;y++)wi(_[y]);delete l.g[d],l.h--}}this.F=null},se.prototype.K=function(l,d,_,y){return this.i.add(String(l),d,!1,_,y)},se.prototype.L=function(l,d,_,y){return this.i.add(String(l),d,!0,_,y)};function Hr(l,d,_,y){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,F=0;F<d.length;++F){var G=d[F];if(G&&!G.da&&G.capture==_){var Lt=G.listener,le=G.ha||G.src;G.fa&&qn(l.i,G),O=Lt.call(le,y)!==!1&&O}}return O&&!y.defaultPrevented}function ls(l,d,_){if(typeof l=="function")_&&(l=S(l,_));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:f.setTimeout(l,d||0)}function us(l){l.g=ls(()=>{l.g=null,l.i&&(l.i=!1,us(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Tc extends ft{constructor(d,_){super(),this.m=d,this.l=_,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:us(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(l){ft.call(this),this.h=l,this.g={}}U(Ti,ft);var $r=[];function cs(l){Y(l.g,function(d,_){this.g.hasOwnProperty(_)&&ar(d)},l),l.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),cs(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=f.JSON.stringify,ur=f.JSON.parse,Pc=class{stringify(l){return f.JSON.stringify(l,void 0)}parse(l){return f.JSON.parse(l,void 0)}};function fs(){}fs.prototype.h=null;function ds(l){return l.h||(l.h=l.i())}function ps(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ms(){yt.call(this,"d")}U(ms,yt);function _s(){yt.call(this,"c")}U(_s,yt);var Kn={},Ja=null;function Zr(){return Ja=Ja||new se}Kn.La="serverreachability";function tl(l){yt.call(this,Kn.La,l)}U(tl,yt);function Gn(l){const d=Zr();fe(d,new tl(d))}Kn.STAT_EVENT="statevent";function el(l,d){yt.call(this,Kn.STAT_EVENT,l),this.stat=d}U(el,yt);function ve(l){const d=Zr();fe(d,new el(d,l))}Kn.Ma="timingevent";function nl(l,d){yt.call(this,Kn.Ma,l),this.size=d}U(nl,yt);function cr(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){l()},d)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function nt(l,d,_,y,O,F){l.info(function(){if(l.g)if(F)for(var G="",Lt=F.split("&"),le=0;le<Lt.length;le++){var ct=Lt[le].split("=");if(1<ct.length){var Ut=ct[0];ct=ct[1];var de=Ut.split("_");G=2<=de.length&&de[1]=="type"?G+(Ut+"="+ct+"&"):G+(Ut+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+d+`
`+_+`
`+G})}function il(l,d,_,y,O,F,G){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+d+`
`+_+`
`+F+" "+G})}function Qn(l,d,_,y){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+ol(l,_)+(y?" "+y:"")})}function rl(l,d){l.info(function(){return"TIMEOUT: "+d})}Ce.prototype.info=function(){};function ol(l,d){if(!l.g)return d;if(!d)return null;try{var _=JSON.parse(d);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var y=_[l];if(!(2>y.length)){var O=y[1];if(Array.isArray(O)&&!(1>O.length)){var F=O[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<O.length;G++)O[G]=""}}}}return hs(_)}catch{return d}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rn;function hr(){}U(hr,fs),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},Rn=new hr;function Mn(l,d,_,y){this.j=l,this.i=d,this.l=_,this.R=y||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sl}function sl(){this.i=null,this.g="",this.h=!1}var al={},vs={};function Wr(l,d,_){l.L=1,l.v=Nn(gn(d)),l.m=_,l.P=!0,ll(l,null)}function ll(l,d){l.F=Date.now(),qr(l),l.A=gn(l.v);var _=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),lt(_.i,"t",y),l.C=0,_=l.j.J,l.h=new sl,l.g=Vs(l.j,_?d:null,!l.m),0<l.O&&(l.M=new Tc(S(l.Y,l,l.g),l.O)),d=l.U,_=l.g,y=l.ca;var O="readystatechange";Array.isArray(O)||(O&&($r[0]=O.toString()),O=$r);for(var F=0;F<O.length;F++){var G=is(_,O[F],y||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Gn(),nt(l.i,l.u,l.A,l.l,l.R,l.m)}Mn.prototype.ca=function(l){l=l.target;const d=this.M;d&&an(l)==3?d.j():this.Y(l)},Mn.prototype.Y=function(l){try{if(l==this.g)t:{const de=an(this.g);var d=this.g.Ba();const xe=this.g.Z();if(!(3>de)&&(de!=3||this.g&&(this.h.h||this.g.oa()||pl(this.g)))){this.J||de!=4||d==7||(d==8||0>=xe?Gn(3):Gn(2)),ys(this);var _=this.g.Z();this.X=_;e:if(fr(this)){var y=pl(this.g);l="";var O=y.length,F=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),dr(this);var G="";break e}this.h.i=new f.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(y[d],{stream:!(F&&d==O-1)});y.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=_==200,il(this.i,this.u,this.A,this.l,this.R,de,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,le=this.g;if((Lt=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Lt)){var ct=Lt;break e}}ct=null}if(_=ct)Qn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yn(this,_);else{this.o=!1,this.s=3,ve(12),_n(this),dr(this);break t}}if(this.P){_=!0;let Ye;for(;!this.J&&this.C<G.length;)if(Ye=Sc(this,G),Ye==vs){de==4&&(this.s=4,ve(14),_=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==al){this.s=4,ve(15),Qn(this.i,this.l,G,"[Invalid Chunk]"),_=!1;break}else Qn(this.i,this.l,Ye,null),Yn(this,Ye);if(fr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||G.length!=0||this.h.h||(this.s=1,ve(16),_=!1),this.o=this.o&&_,!_)Qn(this.i,this.l,G,"[Invalid Chunked Response]"),_n(this),dr(this);else if(0<G.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),_r(Ut),Ut.M=!0,ve(11))}}else Qn(this.i,this.l,G,null),Yn(this,G);de==4&&_n(this),this.o&&!this.J&&(de==4?Os(this.j,this):(this.o=!1,qr(this)))}else Rs(this.g),_==400&&0<G.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),_n(this),dr(this)}}}catch{}finally{}};function fr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Sc(l,d){var _=l.C,y=d.indexOf(`
`,_);return y==-1?vs:(_=Number(d.substring(_,y)),isNaN(_)?al:(y+=1,y+_>d.length?vs:(d=d.slice(y,y+_),l.C=y+_,d)))}Mn.prototype.cancel=function(){this.J=!0,_n(this)};function qr(l){l.S=Date.now()+l.I,ul(l,l.I)}function ul(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=cr(S(l.ba,l),d)}function ys(l){l.B&&(f.clearTimeout(l.B),l.B=null)}Mn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(rl(this.i,this.A),this.L!=2&&(Gn(),ve(17)),_n(this),this.s=2,dr(this)):ul(this,this.S-l)};function dr(l){l.j.G==0||l.J||Os(l.j,l)}function _n(l){ys(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,cs(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Yn(l,d){try{var _=l.j;if(_.G!=0&&(_.g==l||Nt(_.h,l))){if(!l.K&&Nt(_.h,l)&&_.G==3){try{var y=_.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)gr(_),Jr(_);else break t;no(_),ve(18)}}else _.za=O[1],0<_.za-_.T&&37500>O[2]&&_.F&&_.v==0&&!_.C&&(_.C=cr(S(_.Za,_),6e3));if(1>=wt(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ii(_,11)}else if((l.K||_.g==l)&&gr(_),!C(d))for(O=_.Da.g.parse(d),d=0;d<O.length;d++){let ct=O[d];if(_.T=ct[0],ct=ct[1],_.G==2)if(ct[0]=="c"){_.K=ct[1],_.ia=ct[2];const Ut=ct[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const de=ct[4];de!=null&&(_.Aa=de,_.j.info("SVER="+_.Aa));const xe=ct[5];xe!=null&&typeof xe=="number"&&0<xe&&(y=1.5*xe,_.L=y,_.j.info("backChannelRequestTimeoutMs_="+y)),y=_;const Ye=l.g;if(Ye){const En=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(En){var F=y.h;F.g||En.indexOf("spdy")==-1&&En.indexOf("quic")==-1&&En.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ci(F,F.h),F.h=null))}if(y.D){const bs=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;bs&&(y.ya=bs,Pt(y.I,y.D,bs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),y=_;var G=l;if(y.qa=vl(y,y.J?y.ia:null,y.W),G.K){Xn(y.h,G);var Lt=G,le=y.L;le&&(Lt.I=le),Lt.B&&(ys(Lt),qr(Lt)),y.g=G}else Ds(y);0<_.i.length&&eo(_)}else ct[0]!="stop"&&ct[0]!="close"||ii(_,7);else _.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ii(_,7):Ns(_):ct[0]!="noop"&&_.l&&_.l.ta(ct),_.v=0)}}Gn(4)}catch{}}var cl=class{constructor(l,d){this.g=l,this.map=d}};function ws(l){this.l=l||10,f.PerformanceNavigationTiming?(l=f.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ii(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function wt(l){return l.h?1:l.g?l.g.size:0}function Nt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Ci(l,d){l.g?l.g.add(d):l.h=d}function Xn(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ws.prototype.cancel=function(){if(this.i=Jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Jn(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const _ of l.g.values())d=d.concat(_.D);return d}return B(l.i)}function Es(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(p(l)){for(var d=[],_=l.length,y=0;y<_;y++)d.push(l[y]);return d}d=[],_=0;for(y in l)d[_++]=l[y];return d}function dt(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(p(l)||typeof l=="string"){var d=[];l=l.length;for(var _=0;_<l;_++)d.push(_);return d}d=[],_=0;for(const y in l)d[_++]=y;return d}}}function bt(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(p(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var _=dt(l),y=Es(l),O=y.length,F=0;F<O;F++)d.call(void 0,y[F],_&&_[F],l)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(l,d){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var y=l[_].indexOf("="),O=null;if(0<=y){var F=l[_].substring(0,y);O=l[_].substring(y+1)}else F=l[_];d(F,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function te(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof te){this.h=l.h,ti(this,l.j),this.o=l.o,this.g=l.g,on(this,l.s),this.l=l.l;var d=l.i,_=new Dn;_.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),Bt(this,_),this.m=l.m}else l&&(d=String(l).match(Kr))?(this.h=!1,ti(this,d[1]||"",!0),this.o=vn(d[2]||""),this.g=vn(d[3]||"",!0),on(this,d[4]),this.l=vn(d[5]||"",!0),Bt(this,d[6]||"",!0),this.m=vn(d[7]||"")):(this.h=!1,this.i=new Dn(null,this.h))}te.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ei(d,Qr,!0),":");var _=this.g;return(_||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ei(d,Qr,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(ei(_,_.charAt(0)=="/"?Yr:Ts,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",ei(_,Ss)),l.join("")};function gn(l){return new te(l)}function ti(l,d,_){l.j=_?vn(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function on(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Bt(l,d,_){d instanceof Dn?(l.i=d,Mt(l.i,l.h)):(_||(d=ei(d,Ps)),l.i=new Dn(d,l.h))}function Pt(l,d,_){l.i.set(d,_)}function Nn(l){return Pt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function vn(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ei(l,d,_){return typeof l=="string"?(l=encodeURI(l).replace(d,pr),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function pr(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Qr=/[#\/\?@]/g,Ts=/[#\?:]/g,Yr=/[#\?]/g,Ps=/[#\?@]/g,Ss=/#/g;function Dn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function yn(l){l.g||(l.g=new Map,l.h=0,l.i&&Gr(l.i,function(d,_){l.add(decodeURIComponent(d.replace(/\+/g," ")),_)}))}e=Dn.prototype,e.add=function(l,d){yn(this),this.i=null,l=ye(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(d),this.h+=1,this};function Xr(l,d){yn(l),d=ye(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function hl(l,d){return yn(l),d=ye(l,d),l.g.has(d)}e.forEach=function(l,d){yn(this),this.g.forEach(function(_,y){_.forEach(function(O){l.call(d,O,y,this)},this)},this)},e.na=function(){yn(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),_=[];for(let y=0;y<d.length;y++){const O=l[y];for(let F=0;F<O.length;F++)_.push(d[y])}return _},e.V=function(l){yn(this);let d=[];if(typeof l=="string")hl(this,l)&&(d=d.concat(this.g.get(ye(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)d=d.concat(l[_])}return d},e.set=function(l,d){return yn(this),this.i=null,l=ye(this,l),hl(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},e.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function lt(l,d,_){Xr(l,d),0<_.length&&(l.i=null,l.g.set(ye(l,d),B(_)),l.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var _=0;_<d.length;_++){var y=d[_];const F=encodeURIComponent(String(y)),G=this.V(y);for(y=0;y<G.length;y++){var O=F;G[y]!==""&&(O+="="+encodeURIComponent(String(G[y]))),l.push(O)}}return this.i=l.join("&")};function ye(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mt(l,d){d&&!l.j&&(yn(l),l.i=null,l.g.forEach(function(_,y){var O=y.toLowerCase();y!=O&&(Xr(this,y),lt(this,O,_))},l)),l.j=d}function fl(l,d){const _=new Ce;if(f.Image){const y=new Image;y.onload=V(sn,_,"TestLoadImage: loaded",!0,d,y),y.onerror=V(sn,_,"TestLoadImage: error",!1,d,y),y.onabort=V(sn,_,"TestLoadImage: abort",!1,d,y),y.ontimeout=V(sn,_,"TestLoadImage: timeout",!1,d,y),f.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else d(!1)}function Is(l,d){const _=new Ce,y=new AbortController,O=setTimeout(()=>{y.abort(),sn(_,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:y.signal}).then(F=>{clearTimeout(O),F.ok?sn(_,"TestPingServer: ok",!0,d):sn(_,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),sn(_,"TestPingServer: error",!1,d)})}function sn(l,d,_,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(_)}catch{}}function Cs(){this.g=new Pc}function ni(l,d,_){const y=_||"";try{bt(l,function(O,F){let G=O;g(O)&&(G=hs(O)),d.push(y+F+"="+encodeURIComponent(G))})}catch(O){throw d.push(y+"type="+encodeURIComponent("_badmap")),O}}function Ai(l){this.l=l.Ub||null,this.j=l.eb||!1}U(Ai,fs),Ai.prototype.g=function(){return new On(this.l,this.j)},Ai.prototype.i=function(l){return function(){return l}}({});function On(l,d){se.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(On,se),e=On.prototype,e.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,xi(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||f).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qe(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ee(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ee(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Qe(this):xi(this),this.readyState==3&&ee(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Qe(this))},e.Qa=function(l){this.g&&(this.response=l,Qe(this))},e.ga=function(){this.g&&Qe(this)};function Qe(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xi(l)}e.setRequestHeader=function(l,d){this.u.append(l,d)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var _=d.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=d.next();return l.join(`\r
`)};function xi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(On.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function As(l){let d="";return Y(l,function(_,y){d+=y,d+=":",d+=_,d+=`\r
`}),d}function xs(l,d,_){t:{for(y in _){var y=!1;break t}y=!0}y||(_=As(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):Pt(l,d,_))}function Ot(l){se.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ot,se);var ks=/^https?$/i,Ic=["POST","PUT"];e=Ot.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,d,_,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rn.g(),this.v=this.o?ds(this.o):ds(Rn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(F){Ls(this,F);return}if(l=_||"",_=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)_.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const F of y.keys())_.set(F,y.get(F));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),O=f.FormData&&l instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ic,d,void 0))||y||O||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of _)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ki(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Ls(this,F)}};function Ls(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,gt(l),Ae(l)}function gt(l){l.A||(l.A=!0,fe(l,"complete"),fe(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,fe(this,"complete"),fe(this,"abort"),Ae(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ae(this,!0)),Ot.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?dl(this):this.bb())},e.bb=function(){dl(this)};function dl(l){if(l.h&&typeof c<"u"&&(!l.v[1]||an(l)!=4||l.Z()!=2)){if(l.u&&an(l)==4)ls(l.Ea,0,l);else if(fe(l,"readystatechange"),an(l)==4){l.h=!1;try{const G=l.Z();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var _;if(!(_=d)){var y;if(y=G===0){var O=String(l.D).match(Kr)[1]||null;!O&&f.self&&f.self.location&&(O=f.self.location.protocol.slice(0,-1)),y=!ks.test(O?O.toLowerCase():"")}_=y}if(_)fe(l,"complete"),fe(l,"success");else{l.m=6;try{var F=2<an(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",gt(l)}}finally{Ae(l)}}}}function Ae(l,d){if(l.g){ki(l);const _=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||fe(l,"ready");try{_.onreadystatechange=y}catch{}}}function ki(l){l.I&&(f.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function an(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),ur(d)}};function pl(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Rs(l){const d={};l=(l.g&&2<=an(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(C(l[y]))continue;var _=R(l[y]);const O=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=d[O]||[];d[O]=F,F.push(_)}I(d,function(y){return y.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mr(l,d,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||d}function Ms(l){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mr("baseRetryDelayMs",5e3,l),this.cb=mr("retryDelaySeedMs",1e4,l),this.Wa=mr("forwardChannelMaxRetries",2,l),this.wa=mr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(l&&l.concurrentRequestLimit),this.Da=new Cs,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ms.prototype,e.la=8,e.G=1,e.connect=function(l,d,_,y){ve(0),this.W=l,this.H=d||{},_&&y!==void 0&&(this.H.OSID=_,this.H.OAID=y),this.F=this.X,this.I=vl(this,null,this.W),eo(this)};function Ns(l){if(to(l),l.G==3){var d=l.U++,_=gn(l.I);if(Pt(_,"SID",l.K),Pt(_,"RID",d),Pt(_,"TYPE","terminate"),Li(l,_),d=new Mn(l,l.j,d),d.L=2,d.v=Nn(gn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(d.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=d.v,_=!0),_||(d.g=Vs(d.j,null),d.g.ea(d.v)),d.F=Date.now(),qr(d)}io(l)}function Jr(l){l.g&&(_r(l),l.g.cancel(),l.g=null)}function to(l){Jr(l),l.u&&(f.clearTimeout(l.u),l.u=null),gr(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&f.clearTimeout(l.s),l.s=null)}function eo(l){if(!Ii(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ve||q(),H||(Ve(),H=!0),ot.add(d,l),l.B=0}}function ln(l,d){return wt(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=cr(S(l.Ga,l,d),gl(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Mn(this,this.j,l);let F=this.o;if(this.S&&(F?(F=E(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(O.H=F,F=null),this.P)t:{for(var d=0,_=0;_<this.i.length;_++){e:{var y=this.i[_];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break e}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=_;break t}if(d===4096||_===this.i.length-1){d=_+1;break t}}d=1e3}else d=1e3;d=wn(this,O,d),_=gn(this.I),Pt(_,"RID",l),Pt(_,"CVER",22),this.D&&Pt(_,"X-HTTP-Session-Id",this.D),Li(this,_),F&&(this.O?d="headers="+encodeURIComponent(String(As(F)))+"&"+d:this.m&&xs(_,this.m,F)),Ci(this.h,O),this.Ua&&Pt(_,"TYPE","init"),this.P?(Pt(_,"$req",d),Pt(_,"SID","null"),O.T=!0,Wr(O,_,null)):Wr(O,_,d),this.G=2}}else this.G==3&&(l?ml(this,l):this.i.length==0||Ii(this.h)||ml(this))};function ml(l,d){var _;d?_=d.l:_=l.U++;const y=gn(l.I);Pt(y,"SID",l.K),Pt(y,"RID",_),Pt(y,"AID",l.T),Li(l,y),l.m&&l.o&&xs(y,l.m,l.o),_=new Mn(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),d&&(l.i=d.D.concat(l.i)),d=wn(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ci(l.h,_),Wr(_,y,d)}function Li(l,d){l.H&&Y(l.H,function(_,y){Pt(d,y,_)}),l.l&&bt({},function(_,y){Pt(d,y,_)})}function wn(l,d,_){_=Math.min(l.i.length,_);var y=l.l?S(l.l.Na,l.l,l):null;t:{var O=l.i;let F=-1;for(;;){const G=["count="+_];F==-1?0<_?(F=O[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Lt=!0;for(let le=0;le<_;le++){let ct=O[le].g;const Ut=O[le].map;if(ct-=F,0>ct)F=Math.max(0,O[le].g-100),Lt=!1;else try{ni(Ut,G,"req"+ct+"_")}catch{y&&y(Ut)}}if(Lt){y=G.join("&");break t}}}return l=l.i.splice(0,_),d.D=l,y}function Ds(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ve||q(),H||(Ve(),H=!0),ot.add(d,l),l.v=0}}function no(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=cr(S(l.Fa,l),gl(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,_l(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=cr(S(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),Jr(this),_l(this))};function _r(l){l.A!=null&&(f.clearTimeout(l.A),l.A=null)}function _l(l){l.g=new Mn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=gn(l.qa);Pt(d,"RID","rpc"),Pt(d,"SID",l.K),Pt(d,"AID",l.T),Pt(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Pt(d,"TO",l.ja),Pt(d,"TYPE","xmlhttp"),Li(l,d),l.m&&l.o&&xs(d,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Nn(gn(d)),_.m=null,_.P=!0,ll(_,l)}e.Za=function(){this.C!=null&&(this.C=null,Jr(this),no(this),ve(19))};function gr(l){l.C!=null&&(f.clearTimeout(l.C),l.C=null)}function Os(l,d){var _=null;if(l.g==d){gr(l),_r(l),l.g=null;var y=2}else if(Nt(l.h,d))_=d.D,Xn(l.h,d),y=1;else return;if(l.G!=0){if(d.o)if(y==1){_=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;y=Zr(),fe(y,new nl(y,_)),eo(l)}else Ds(l);else if(O=d.s,O==3||O==0&&0<d.X||!(y==1&&ln(l,d)||y==2&&no(l)))switch(_&&0<_.length&&(d=l.h,d.i=d.i.concat(_)),O){case 1:ii(l,5);break;case 4:ii(l,10);break;case 3:ii(l,6);break;default:ii(l,2)}}}function gl(l,d){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*d}function ii(l,d){if(l.j.info("Error code "+d),d==2){var _=S(l.fb,l),y=l.Xa;const O=!y;y=new te(y||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ti(y,"https"),Nn(y),O?fl(y.toString(),_):Is(y.toString(),_)}else ve(2);l.G=0,l.l&&l.l.sa(d),io(l),to(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function io(l){if(l.G=0,l.ka=[],l.l){const d=Jn(l.h);(d.length!=0||l.i.length!=0)&&(K(l.ka,d),K(l.ka,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.ra()}}function vl(l,d,_){var y=_ instanceof te?gn(_):new te(_);if(y.g!="")d&&(y.g=d+"."+y.g),on(y,y.s);else{var O=f.location;y=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var F=new te(null);y&&ti(F,y),d&&(F.g=d),O&&on(F,O),_&&(F.l=_),y=F}return _=l.D,d=l.ya,_&&d&&Pt(y,_,d),Pt(y,"VER",l.la),Li(l,y),y}function Vs(l,d,_){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ot(new Ai({eb:_})):new Ot(l.pa),d.Ha(l.J),d}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function zs(){}e=zs.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ri(){}ri.prototype.g=function(l,d){return new Gt(l,d)};function Gt(l,d){se.call(this),this.g=new Ms(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!C(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!C(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new ae(this)}U(Gt,se),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Ns(this.g)},Gt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=hs(l),l=_);d.i.push(new cl(d.Ya++,l)),d.G==3&&eo(d)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Ns(this.g),delete this.g,Gt.aa.N.call(this)};function yl(l){ms.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){t:{for(const _ in d){l=_;break t}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}U(yl,ms);function Ri(){_s.call(this),this.status=1}U(Ri,_s);function ae(l){this.g=l}U(ae,zs),ae.prototype.ua=function(){fe(this.g,"a")},ae.prototype.ta=function(l){fe(this.g,new yl(l))},ae.prototype.sa=function(l){fe(this.g,new Ri)},ae.prototype.ra=function(){fe(this.g,"b")},ri.prototype.createWebChannel=ri.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,ey=function(){return new ri},ty=function(){return Zr()},Jv=Kn,pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,hu=Si,gs.COMPLETE="complete",Xv=gs,ps.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",se.prototype.listen=se.prototype.K,na=ps,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Yv=Ot}).apply(typeof Kl<"u"?Kl:typeof self<"u"?self:typeof window<"u"?window:{});const bm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new $v("@firebase/firestore");function Ys(){return Or.logLevel}function et(e,...t){if(Or.logLevel<=St.DEBUG){const n=t.map(kd);Or.debug(`Firestore (${Xo}): ${e}`,...n)}}function vi(e,...t){if(Or.logLevel<=St.ERROR){const n=t.map(kd);Or.error(`Firestore (${Xo}): ${e}`,...n)}}function jo(e,...t){if(Or.logLevel<=St.WARN){const n=t.map(kd);Or.warn(`Firestore (${Xo}): ${e}`,...n)}}function kd(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(e="Unexpected state"){const t=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: `+e;throw vi(t),new Error(t)}function Kt(e,t){e||pt()}function Tt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Yo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Me.UNAUTHENTICATED))}shutdown(){}}class HT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $T{constructor(t){this.t=t,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let a=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xr,t.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xr)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string"),new ny(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new Me(t)}}class ZT{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WT{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZT(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KT{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Kt(this.o===void 0);const r=a=>{a.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,et("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>r(a))};const o=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Kt(typeof n.token=="string"),this.R=n.token,new qT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=GT(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<n&&(r+=t.charAt(o[a]%t.length))}return r}}function At(e,t){return e<t?-1:e>t?1:0}function Ho(e,t,n){return e.length===t.length&&e.every((r,o)=>n(r,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ge.fromMillis(Date.now())}static fromDate(t){return Ge.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ht(t)}static min(){return new ht(new Ge(0,0))}static max(){return new ht(new Ge(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,n,r){n===void 0?n=0:n>t.length&&pt(),r===void 0?r=t.length-n:r>t.length-n&&pt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return za.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof za?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const a=t.get(o),c=n.get(o);if(a<c)return-1;if(a>c)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class qt extends za{construct(t,n,r){return new qt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new it(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new qt(n)}static emptyPath(){return new qt([])}}const YT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends za{construct(t,n,r){return new Fe(t,n,r)}static isValidIdentifier(t){return YT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Fe(["__name__"])}static fromServerFormat(t){const n=[];let r="",o=0;const a=()=>{if(r.length===0)throw new it(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<t.length;){const f=t[o];if(f==="\\"){if(o+1===t.length)throw new it(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new it(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(r+=f,o++):(a(),o++)}if(a(),c)throw new it(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(n)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.path=t}static fromPath(t){return new st(qt.fromString(t))}static fromName(t){return new st(qt.fromString(t).popFirst(5))}static empty(){return new st(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return qt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new st(new qt(t.slice()))}}function XT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=ht.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new tr(o,st.empty(),t)}function JT(e){return new tr(e.readTime,e.key,-1)}class tr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(ht.min(),st.empty(),-1)}static max(){return new tr(ht.max(),st.empty(),-1)}}function tP(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=st.comparator(e.documentKey,t.documentKey),n!==0?n:At(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(e){if(e.code!==X.FAILED_PRECONDITION||e.message!==eP)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,r)=>{n(t)})}static reject(t){return new Z((n,r)=>{r(t)})}static waitFor(t){return new Z((n,r)=>{let o=0,a=0,c=!1;t.forEach(f=>{++o,f.next(()=>{++a,c&&a===o&&n()},p=>r(p))}),c=!0,a===o&&n()})}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next(o=>o?Z.resolve(o):r());return n}static forEach(t,n){const r=[];return t.forEach((o,a)=>{r.push(n.call(this,o,a))}),this.waitFor(r)}static mapArray(t,n){return new Z((r,o)=>{const a=t.length,c=new Array(a);let f=0;for(let p=0;p<a;p++){const g=p;n(t[g]).next(w=>{c[g]=w,++f,f===a&&r(c)},w=>o(w))}})}static doWhile(t,n){return new Z((r,o)=>{const a=()=>{t()===!0?n().next(()=>{a()},o):r()};a()})}}function iP(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Rd.oe=-1;function fc(e){return e==null}function mf(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,n){this.comparator=t,this.root=n||Ee.EMPTY}insert(t,n){return new Xt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ee.BLACK,null,null))}remove(t){return new Xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ee.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gl(this.root,t,this.comparator,!0)}}class Gl{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&o&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ee{constructor(t,n,r,o,a){this.key=t,this.value=n,this.color=r??Ee.RED,this.left=o??Ee.EMPTY,this.right=a??Ee.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,a){return new Ee(t??this.key,n??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const a=r(t,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(t,n,r),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ee.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ee.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}Ee.EMPTY=null,Ee.RED=!0,Ee.BLACK=!1;Ee.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(t,n,r,o,a){return this}insert(t,n,r){return new Ee(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new Xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bm(this.data.getIterator())}getIteratorFrom(t){return new Bm(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class Bm{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Bi([])}unionWith(t){let n=new Pe(Fe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Bi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ho(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new iy("Invalid base64 string: "+a):a}}(t);return new Ie(n)}static fromUint8Array(t){const n=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(t);return new Ie(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ie.EMPTY_BYTE_STRING=new Ie("");const oP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(e){if(Kt(!!e),typeof e=="string"){let t=0;const n=oP.exec(e);if(Kt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qt(e.seconds),nanos:Qt(e.nanos)}}function Qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Vr(e){return typeof e=="string"?Ie.fromBase64String(e):Ie.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Nd(e){const t=e.mapValue.fields.__previous_value__;return Md(t)?Nd(t):t}function ba(e){const t=er(e.mapValue.fields.__local_write_time__.timestampValue);return new Ge(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t,n,r,o,a,c,f,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g}}class Fa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Fa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Md(e)?4:lP(e)?9007199254740991:aP(e)?10:11:pt()}function $n(e,t){if(e===t)return!0;const n=zr(e);if(n!==zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ba(e).isEqual(ba(t));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=er(o.timestampValue),f=er(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,a){return Vr(o.bytesValue).isEqual(Vr(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,a){return Qt(o.geoPointValue.latitude)===Qt(a.geoPointValue.latitude)&&Qt(o.geoPointValue.longitude)===Qt(a.geoPointValue.longitude)}(e,t);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Qt(o.integerValue)===Qt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Qt(o.doubleValue),f=Qt(a.doubleValue);return c===f?mf(c)===mf(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return Ho(e.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(Fm(c)!==Fm(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!$n(c[p],f[p])))return!1;return!0}(e,t);default:return pt()}}function Ba(e,t){return(e.values||[]).find(n=>$n(n,t))!==void 0}function $o(e,t){if(e===t)return 0;const n=zr(e),r=zr(t);if(n!==r)return At(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(e.booleanValue,t.booleanValue);case 2:return function(a,c){const f=Qt(a.integerValue||a.doubleValue),p=Qt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(e,t);case 3:return Um(e.timestampValue,t.timestampValue);case 4:return Um(ba(e),ba(t));case 5:return At(e.stringValue,t.stringValue);case 6:return function(a,c){const f=Vr(a),p=Vr(c);return f.compareTo(p)}(e.bytesValue,t.bytesValue);case 7:return function(a,c){const f=a.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const w=At(f[g],p[g]);if(w!==0)return w}return At(f.length,p.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,c){const f=At(Qt(a.latitude),Qt(c.latitude));return f!==0?f:At(Qt(a.longitude),Qt(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return jm(e.arrayValue,t.arrayValue);case 10:return function(a,c){var f,p,g,w;const T=a.fields||{},S=c.fields||{},V=(f=T.value)===null||f===void 0?void 0:f.arrayValue,U=(p=S.value)===null||p===void 0?void 0:p.arrayValue,B=At(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((w=U==null?void 0:U.values)===null||w===void 0?void 0:w.length)||0);return B!==0?B:jm(V,U)}(e.mapValue,t.mapValue);case 11:return function(a,c){if(a===Ql.mapValue&&c===Ql.mapValue)return 0;if(a===Ql.mapValue)return 1;if(c===Ql.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),g=c.fields||{},w=Object.keys(g);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=At(p[T],w[T]);if(S!==0)return S;const V=$o(f[p[T]],g[w[T]]);if(V!==0)return V}return At(p.length,w.length)}(e.mapValue,t.mapValue);default:throw pt()}}function Um(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return At(e,t);const n=er(e),r=er(t),o=At(n.seconds,r.seconds);return o!==0?o:At(n.nanos,r.nanos)}function jm(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const a=$o(n[o],r[o]);if(a)return a}return At(n.length,r.length)}function Zo(e){return _f(e)}function _f(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=er(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Vr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return st.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=_f(a);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${_f(n.fields[c])}`;return o+"}"}(e.mapValue):pt()}function gf(e){return!!e&&"integerValue"in e}function Dd(e){return!!e&&"arrayValue"in e}function Hm(e){return!!e&&"nullValue"in e}function $m(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ah(e){return!!e&&"mapValue"in e}function aP(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dc(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=pa(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function lP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ah(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pa(n)}setAll(t){let n=Fe.emptyPath(),r={},o=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=f.popLast()}c?r[f.lastSegment()]=pa(c):o.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,o)}delete(t){const n=this.field(t.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){dc(n,(o,a)=>t[o]=a);for(const o of r)delete t[o]}clone(){return new Bn(pa(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t,n,r,o,a,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(t){return new De(t,0,ht.min(),ht.min(),ht.min(),Bn.empty(),0)}static newFoundDocument(t,n,r,o){return new De(t,1,n,ht.min(),r,o,0)}static newNoDocument(t,n){return new De(t,2,n,ht.min(),ht.min(),Bn.empty(),0)}static newUnknownDocument(t,n){return new De(t,3,n,ht.min(),ht.min(),Bn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof De&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new De(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t,n){this.position=t,this.inclusive=n}}function Zm(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const a=t[o],c=e.position[o];if(a.field.isKeyField()?r=st.comparator(st.fromName(c.referenceValue),n.key):r=$o(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,n="asc"){this.field=t,this.dir=n}}function uP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{}class ce extends ry{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new hP(t,n,r):n==="array-contains"?new pP(t,r):n==="in"?new mP(t,r):n==="not-in"?new _P(t,r):n==="array-contains-any"?new gP(t,r):new ce(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new fP(t,r):new dP(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends ry{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Zn(t,n)}matches(t){return oy(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oy(e){return e.op==="and"}function sy(e){return cP(e)&&oy(e)}function cP(e){for(const t of e.filters)if(t instanceof Zn)return!1;return!0}function vf(e){if(e instanceof ce)return e.field.canonicalString()+e.op.toString()+Zo(e.value);if(sy(e))return e.filters.map(t=>vf(t)).join(",");{const t=e.filters.map(n=>vf(n)).join(",");return`${e.op}(${t})`}}function ay(e,t){return e instanceof ce?function(r,o){return o instanceof ce&&r.op===o.op&&r.field.isEqual(o.field)&&$n(r.value,o.value)}(e,t):e instanceof Zn?function(r,o){return o instanceof Zn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,c,f)=>a&&ay(c,o.filters[f]),!0):!1}(e,t):void pt()}function ly(e){return e instanceof ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`}(e):e instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(ly).join(" ,")+"}"}(e):"Filter"}class hP extends ce{constructor(t,n,r){super(t,n,r),this.key=st.fromName(r.referenceValue)}matches(t){const n=st.comparator(t.key,this.key);return this.matchesComparison(n)}}class fP extends ce{constructor(t,n){super(t,"in",n),this.keys=uy("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class dP extends ce{constructor(t,n){super(t,"not-in",n),this.keys=uy("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function uy(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>st.fromName(r.referenceValue))}class pP extends ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Dd(n)&&Ba(n.arrayValue,this.value)}}class mP extends ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}}class _P extends ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ba(this.value.arrayValue,n)}}class gP extends ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Dd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ba(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t,n=null,r=[],o=[],a=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.ue=null}}function qm(e,t=null,n=[],r=[],o=null,a=null,c=null){return new vP(e,t,n,r,o,a,c)}function Od(e){const t=Tt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>vf(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),fc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Zo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Zo(r)).join(",")),t.ue=n}return t.ue}function Vd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!uP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ay(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wm(e.startAt,t.startAt)&&Wm(e.endAt,t.endAt)}function yf(e){return st.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n=null,r=[],o=[],a=null,c="F",f=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yP(e,t,n,r,o,a,c,f){return new pc(e,t,n,r,o,a,c,f)}function cy(e){return new pc(e)}function Km(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function wP(e){return e.collectionGroup!==null}function ma(e){const t=Tt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),n.add(a.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Pe(Fe.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.ce.push(new $u(a,r))}),n.has(Fe.keyField().canonicalString())||t.ce.push(new $u(Fe.keyField(),r))}return t.ce}function Hn(e){const t=Tt(e);return t.le||(t.le=EP(t,ma(e))),t.le}function EP(e,t){if(e.limitType==="F")return qm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new $u(o.field,a)});const n=e.endAt?new Hu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hu(e.startAt.position,e.startAt.inclusive):null;return qm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function wf(e,t,n){return new pc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mc(e,t){return Vd(Hn(e),Hn(t))&&e.limitType===t.limitType}function hy(e){return`${Od(Hn(e))}|lt:${e.limitType}`}function uo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>ly(o)).join(", ")}]`),fc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Zo(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Zo(o)).join(",")),`Target(${r})`}(Hn(e))}; limitType=${e.limitType})`}function _c(e,t){return t.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):st.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(e,t)&&function(r,o){for(const a of ma(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(e,t)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(e,t)&&function(r,o){return!(r.startAt&&!function(c,f,p){const g=Zm(c,f,p);return c.inclusive?g<=0:g<0}(r.startAt,ma(r),o)||r.endAt&&!function(c,f,p){const g=Zm(c,f,p);return c.inclusive?g>=0:g>0}(r.endAt,ma(r),o))}(e,t)}function TP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fy(e){return(t,n)=>{let r=!1;for(const o of ma(e)){const a=PP(o,t,n);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function PP(e,t,n){const r=e.field.isKeyField()?st.comparator(t.key,n.key):function(a,c,f){const p=c.data.field(a),g=f.data.field(a);return p!==null&&g!==null?$o(p,g):pt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return void(o[a]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){dc(this.inner,(n,r)=>{for(const[o,a]of r)t(o,a)})}isEmpty(){return rP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Xt(st.comparator);function nr(){return SP}const dy=new Xt(st.comparator);function ia(...e){let t=dy;for(const n of e)t=t.insert(n.key,n);return t}function IP(e){let t=dy;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Sr(){return _a()}function py(){return _a()}function _a(){return new Jo(e=>e.toString(),(e,t)=>e.isEqual(t))}const CP=new Pe(st.comparator);function It(...e){let t=CP;for(const n of e)t=t.add(n);return t}const AP=new Pe(At);function xP(){return AP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(t)?"-0":t}}function LP(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this._=void 0}}function RP(e,t,n){return e instanceof Ef?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Md(a)&&(a=Nd(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(n,t):e instanceof Zu?my(e,t):e instanceof Wu?_y(e,t):function(o,a){const c=NP(o,a),f=Gm(c)+Gm(o.Pe);return gf(c)&&gf(o.Pe)?LP(f):kP(o.serializer,f)}(e,t)}function MP(e,t,n){return e instanceof Zu?my(e,t):e instanceof Wu?_y(e,t):n}function NP(e,t){return e instanceof Tf?function(r){return gf(r)||function(a){return!!a&&"doubleValue"in a}(r)}(t)?t:{integerValue:0}:null}class Ef extends gc{}class Zu extends gc{constructor(t){super(),this.elements=t}}function my(e,t){const n=gy(t);for(const r of e.elements)n.some(o=>$n(o,r))||n.push(r);return{arrayValue:{values:n}}}class Wu extends gc{constructor(t){super(),this.elements=t}}function _y(e,t){let n=gy(t);for(const r of e.elements)n=n.filter(o=>!$n(o,r));return{arrayValue:{values:n}}}class Tf extends gc{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Gm(e){return Qt(e.integerValue||e.doubleValue)}function gy(e){return Dd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function DP(e,t){return e.field.isEqual(t.field)&&function(r,o){return r instanceof Zu&&o instanceof Zu||r instanceof Wu&&o instanceof Wu?Ho(r.elements,o.elements,$n):r instanceof Tf&&o instanceof Tf?$n(r.Pe,o.Pe):r instanceof Ef&&o instanceof Ef}(e.transform,t.transform)}class kr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new kr}static exists(t){return new kr(void 0,t)}static updateTime(t){return new kr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class zd{}function vy(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new VP(e.key,kr.none()):new bd(e.key,e.data,kr.none());{const n=e.data,r=Bn.empty();let o=new Pe(Fe.comparator);for(let a of t.fields)if(!o.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new vc(e.key,r,new Bi(o.toArray()),kr.none())}}function OP(e,t,n){e instanceof bd?function(o,a,c){const f=o.value.clone(),p=Ym(o.fieldTransforms,a,c.transformResults);f.setAll(p),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof vc?function(o,a,c){if(!fu(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Ym(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(yy(o)),p.setAll(f),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(e,t,n):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function ga(e,t,n,r){return e instanceof bd?function(a,c,f,p){if(!fu(a.precondition,c))return f;const g=a.value.clone(),w=Xm(a.fieldTransforms,p,c);return g.setAll(w),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(e,t,n,r):e instanceof vc?function(a,c,f,p){if(!fu(a.precondition,c))return f;const g=Xm(a.fieldTransforms,p,c),w=c.data;return w.setAll(yy(a)),w.setAll(g),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(e,t,n,r):function(a,c,f){return fu(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function Qm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ho(r,o,(a,c)=>DP(a,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bd extends zd{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vc extends zd{constructor(t,n,r,o,a=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yy(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ym(e,t,n){const r=new Map;Kt(e.length===n.length);for(let o=0;o<n.length;o++){const a=e[o],c=a.transform,f=t.data.field(a.field);r.set(a.field,MP(c,f,n[o]))}return r}function Xm(e,t,n){const r=new Map;for(const o of e){const a=o.transform,c=n.data.field(o.field);r.set(o.field,RP(a,c,t))}return r}class VP extends zd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(t.key)&&OP(a,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ga(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ga(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=py();return this.mutations.forEach(o=>{const a=t.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=n.has(o.key)?null:f;const p=vy(c,f);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ht.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),It())}isEqual(t){return this.batchId===t.batchId&&Ho(this.mutations,t.mutations,(n,r)=>Qm(n,r))&&Ho(this.baseMutations,t.baseMutations,(n,r)=>Qm(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie,Et;function wy(e){if(e===void 0)return vi("GRPC error has no .code"),X.UNKNOWN;switch(e){case ie.OK:return X.OK;case ie.CANCELLED:return X.CANCELLED;case ie.UNKNOWN:return X.UNKNOWN;case ie.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ie.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ie.INTERNAL:return X.INTERNAL;case ie.UNAVAILABLE:return X.UNAVAILABLE;case ie.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ie.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ie.NOT_FOUND:return X.NOT_FOUND;case ie.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ie.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ie.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ie.ABORTED:return X.ABORTED;case ie.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ie.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ie.DATA_LOSS:return X.DATA_LOSS;default:return pt()}}(Et=ie||(ie={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new Ar([4294967295,4294967295],0);function Jm(e){const t=BP().encode(e),n=new Qv;return n.update(t),new Uint8Array(n.digest())}function t_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Ar([n,r],0),new Ar([o,a],0)]}class Fd{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ra(`Invalid padding: ${n}`);if(r<0)throw new ra(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ra(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ra(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Ar.fromNumber(this.Ie)}Ee(t,n,r){let o=t.add(n.multiply(Ar.fromNumber(r)));return o.compare(UP)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Jm(t),[r,o]=t_(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(r,o,a);if(!this.de(c))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),c=new Fd(a,o,n);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.Ie===0)return;const n=Jm(t),[r,o]=t_(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(r,o,a);this.Ae(c)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,n,r,o,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,qa.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new yc(ht.min(),o,new Xt(At),nr(),It())}}class qa{constructor(t,n,r,o,a){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new qa(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n,r,o){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=o}}class Ey{constructor(t,n){this.targetId=t,this.me=n}}class Ty{constructor(t,n,r=Ie.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class e_{constructor(){this.fe=0,this.ge=i_(),this.pe=Ie.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=It(),n=It(),r=It();return this.ge.forEach((o,a)=>{switch(a){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:pt()}}),new qa(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=i_()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jP{constructor(t){this.Le=t,this.Be=new Map,this.ke=nr(),this.qe=n_(),this.Qe=new Xt(At)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:pt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(t){const n=t.targetId,r=t.me.count,o=this.Je(n);if(o){const a=o.target;if(yf(a))if(r===0){const c=new st(a.path);this.Ue(n,c,De.newNoDocument(c,ht.min()))}else Kt(r===1);else{const c=this.Ye(n);if(c!==r){const f=this.Ze(t),p=f?this.Xe(f,t,c):1;if(p!==0){this.je(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=n;let c,f;try{c=Vr(r).toUint8Array()}catch(p){if(p instanceof iy)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Fd(c,o,a)}catch(p){return jo(p instanceof ra?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ie===0?null:f}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(a=>{const c=this.Le.tt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.mightContain(f)||(this.Ue(n,a,null),o++)}),o}rt(t){const n=new Map;this.Be.forEach((a,c)=>{const f=this.Je(c);if(f){if(a.current&&yf(f.target)){const p=new st(f.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,De.newNoDocument(p,t))}a.be&&(n.set(c,a.ve()),a.Ce())}});let r=It();this.qe.forEach((a,c)=>{let f=!0;c.forEachWhile(p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(t));const o=new yc(t,n,this.Qe,this.ke,r);return this.ke=nr(),this.qe=n_(),this.Qe=new Xt(At),o}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new e_,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Pe(At),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new e_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function n_(){return new Xt(st.comparator)}function i_(){return new Xt(st.comparator)}const HP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),$P=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ZP=(()=>({and:"AND",or:"OR"}))();class WP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pf(e,t){return e.useProto3Json||fc(t)?t:{value:t}}function qP(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KP(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mo(e){return Kt(!!e),ht.fromTimestamp(function(n){const r=er(n);return new Ge(r.seconds,r.nanos)}(e))}function GP(e,t){return Sf(e,t).canonicalString()}function Sf(e,t){const n=function(o){return new qt(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Py(e){const t=qt.fromString(e);return Kt(xy(t)),t}function lh(e,t){const n=Py(t);if(n.get(1)!==e.databaseId.projectId)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new it(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new st(Iy(n))}function Sy(e,t){return GP(e.databaseId,t)}function QP(e){const t=Py(e);return t.length===4?qt.emptyPath():Iy(t)}function r_(e){return new qt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Iy(e){return Kt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function YP(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:pt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],a=function(g,w){return g.useProto3Json?(Kt(w===void 0||typeof w=="string"),Ie.fromBase64String(w||"")):(Kt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Ie.fromUint8Array(w||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(g){const w=g.code===void 0?X.UNKNOWN:wy(g.code);return new it(w,g.message||"")}(c);n=new Ty(r,o,a,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=lh(e,r.document.name),a=Mo(r.document.updateTime),c=r.document.createTime?Mo(r.document.createTime):ht.min(),f=new Bn({mapValue:{fields:r.document.fields}}),p=De.newFoundDocument(o,a,c,f),g=r.targetIds||[],w=r.removedTargetIds||[];n=new du(g,w,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=lh(e,r.document),a=r.readTime?Mo(r.readTime):ht.min(),c=De.newNoDocument(o,a),f=r.removedTargetIds||[];n=new du([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=lh(e,r.document),a=r.removedTargetIds||[];n=new du([],a,o,null)}else{if(!("filter"in t))return pt();{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new FP(o,a),f=r.targetId;n=new Ey(f,c)}}return n}function XP(e,t){return{documents:[Sy(e,t.path)]}}function JP(e,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sy(e,o);const a=function(g){if(g.length!==0)return Ay(Zn.create(g,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const c=function(g){if(g.length!==0)return g.map(w=>function(S){return{field:co(S.field),direction:nS(S.dir)}}(w))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Pf(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{_t:n,parent:o}}function tS(e){let t=QP(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Kt(r===1);const w=n.from[0];w.allDescendants?o=w.collectionId:t=t.child(w.collectionId)}let a=[];n.where&&(a=function(T){const S=Cy(T);return S instanceof Zn&&sy(S)?S.getFilters():[S]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(S=>function(U){return new $u(ho(U.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(n.orderBy));let f=null;n.limit&&(f=function(T){let S;return S=typeof T=="object"?T.value:T,fc(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(T){const S=!!T.before,V=T.values||[];return new Hu(V,S)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const S=!T.before,V=T.values||[];return new Hu(V,S)}(n.endAt)),yP(t,o,c,a,f,"F",p,g)}function eS(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Cy(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ho(n.unaryFilter.field);return ce.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ho(n.unaryFilter.field);return ce.create(c,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(e):e.fieldFilter!==void 0?function(n){return ce.create(ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>Cy(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt()}}(n.compositeFilter.op))}(e):pt()}function nS(e){return HP[e]}function iS(e){return $P[e]}function rS(e){return ZP[e]}function co(e){return{fieldPath:e.canonicalString()}}function ho(e){return Fe.fromServerFormat(e.fieldPath)}function Ay(e){return e instanceof ce?function(n){if(n.op==="=="){if($m(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Hm(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($m(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Hm(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:iS(n.op),value:n.value}}}(e):e instanceof Zn?function(n){const r=n.getFilters().map(o=>Ay(o));return r.length===1?r[0]:{compositeFilter:{op:rS(n.op),filters:r}}}(e):pt()}function xy(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,n,r,o,a=ht.min(),c=ht.min(),f=Ie.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new Ui(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this.ct=t}}function sS(e){const t=tS({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?wf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.un=new lS}addToCollectionParentIndex(t,n){return this.un.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(tr.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class lS{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Pe(qt.comparator),a=!o.has(r);return this.index[n]=o.add(r),a}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Pe(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wo(0)}static kn(){return new Wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.changes=new Jo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,De.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(r!==null&&ga(r.mutation,o,Bi.empty(),Ge.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,It()).next(()=>r))}getLocalViewOfDocuments(t,n,r=It()){const o=Sr();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,r).next(a=>{let c=ia();return a.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=Sr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,It()))}populateOverlays(t,n,r){const o=[];return r.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(t,o).next(a=>{a.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,r,o){let a=nr();const c=_a(),f=function(){return _a()}();return n.forEach((p,g)=>{const w=r.get(g.key);o.has(g.key)&&(w===void 0||w.mutation instanceof vc)?a=a.insert(g.key,g):w!==void 0?(c.set(g.key,w.mutation.getFieldMask()),ga(w.mutation,g,w.mutation.getFieldMask(),Ge.now())):c.set(g.key,Bi.empty())}),this.recalculateAndSaveOverlays(t,a).next(p=>(p.forEach((g,w)=>c.set(g,w)),n.forEach((g,w)=>{var T;return f.set(g,new cS(w,(T=c.get(g))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(t,n){const r=_a();let o=new Xt((c,f)=>c-f),a=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let w=r.get(p)||Bi.empty();w=f.applyToLocalView(g,w),r.set(p,w);const T=(o.get(f.batchId)||It()).add(p);o=o.insert(f.batchId,T)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,w=p.value,T=py();w.forEach(S=>{if(!a.has(S)){const V=vy(n.get(S),r.get(S));V!==null&&T.set(S,V),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return Z.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,o){return function(c){return st.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):wP(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-a.size):Z.resolve(Sr());let f=-1,p=a;return c.next(g=>Z.forEach(g,(w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),a.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(t,w).next(S=>{p=p.insert(w,S)}))).next(()=>this.populateOverlays(t,g,a)).next(()=>this.computeViews(t,p,g,It())).next(w=>({batchId:f,changes:IP(w)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new st(n)).next(r=>{let o=ia();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const a=n.collectionGroup;let c=ia();return this.indexManager.getCollectionParents(t,a).next(f=>Z.forEach(f,p=>{const g=function(T,S){return new pc(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next(w=>{w.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,a,o))).next(c=>{a.forEach((p,g)=>{const w=g.getKey();c.get(w)===null&&(c=c.insert(w,De.newInvalidDocument(w)))});let f=ia();return c.forEach((p,g)=>{const w=a.get(p);w!==void 0&&ga(w.mutation,g,Bi.empty(),Ge.now()),_c(n,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Mo(o.createTime)}}(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:sS(o.bundledQuery),readTime:Mo(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.overlays=new Xt(st.comparator),this.Ir=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Sr();return Z.forEach(n,o=>this.getOverlay(t,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((o,a)=>{this.ht(t,n,a)}),Z.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const o=Sr(),a=n.length+1,c=new st(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&p.largestBatchId>r&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let a=new Xt((g,w)=>g-w);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let w=a.get(g.largestBatchId);w===null&&(w=Sr(),a=a.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const f=Sr(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,w)=>f.set(g,w)),!(f.size()>=o)););return Z.resolve(f)}ht(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bP(n,r));let a=this.Ir.get(n);a===void 0&&(a=It(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.sessionToken=Ie.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.Tr=new Pe(me.Er),this.dr=new Pe(me.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new me(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new me(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new st(new qt([])),r=new me(n,t),o=new me(n,t+1),a=[];return this.dr.forEachInRange([r,o],c=>{this.Vr(c),a.push(c.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new st(new qt([])),r=new me(n,t),o=new me(n,t+1);let a=It();return this.dr.forEachInRange([r,o],c=>{a=a.add(c.key)}),a}containsKey(t){const n=new me(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class me{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return st.comparator(t.key,n.key)||At(t.wr,n.wr)}static Ar(t,n){return At(t.wr,n.wr)||st.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pe(me.Er)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new zP(a,n,r,o);this.mutationQueue.push(c);for(const f of o)this.br=this.br.add(new me(f.key,a)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(t,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.vr(r),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new me(n,0),o=new me(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,o],c=>{const f=this.Dr(c.wr);a.push(f)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Pe(At);return n.forEach(o=>{const a=new me(o,0),c=new me(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],f=>{r=r.add(f.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let a=r;st.isDocumentKey(a)||(a=a.child(""));const c=new me(new st(a),0);let f=new Pe(At);return this.br.forEachWhile(p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.wr)),!0)},c),Z.resolve(this.Cr(f))}Cr(t){const n=[];return t.forEach(r=>{const o=this.Dr(r);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Kt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,o=>{const a=new me(o.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new me(n,0),o=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.Mr=t,this.docs=function(){return new Xt(st.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),a=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():De.newInvalidDocument(n))}getEntries(t,n){let r=nr();return n.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():De.newInvalidDocument(o))}),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let a=nr();const c=n.path,f=new st(c.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:w}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||tP(JT(w),r)<=0||(o.has(w.key)||_c(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(t,n,r,o){pt()}Or(t,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new gS(this)}getSize(t){return Z.resolve(this.size)}}class gS extends uS{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(t,o)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.persistence=t,this.Nr=new Jo(n=>Od(n),Vd),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Bd,this.targetCount=0,this.kr=Wo.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Wo(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Kn(n),Z.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let o=0;const a=[];return this.Nr.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),o++)}),Z.waitFor(a).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(c=>{a.push(o.markPotentiallyOrphaned(t,c))}),Z.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Rd(0),this.Kr=!1,this.Kr=!0,this.$r=new pS,this.referenceDelegate=t(this),this.Ur=new vS(this),this.indexManager=new aS,this.remoteDocumentCache=function(o){return new _S(o)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new oS(n),this.Gr=new fS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new dS,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new mS(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){et("MemoryPersistence","Starting transaction:",t);const o=new wS(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(t,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class wS extends nP{constructor(t){super(),this.currentSequenceNumber=t}}class Ud{constructor(t){this.persistence=t,this.Jr=new Bd,this.Yr=null}static Zr(t){return new Ud(t)}get Xr(){if(this.Yr)return this.Yr;throw pt()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const o=st.fromPath(r);return this.ei(t,o).next(a=>{a||n.removeEntry(o,ht.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(t,n){let r=It(),o=It();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new jd(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return IE()?8:iP(PE())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,o){const a={result:null};return this.Yi(t,n).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Zi(t,n,o,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new ES;return this.Xi(t,n,c).next(f=>{if(a.result=f,this.zi)return this.es(t,n,c,f.size)})}).next(()=>a.result)}es(t,n,r,o){return r.documentReadCount<this.ji?(Ys()<=St.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Ys()<=St.DEBUG&&et("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Ys()<=St.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hn(n))):Z.resolve())}Yi(t,n){if(Km(n))return Z.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(t,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=wf(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(a=>{const c=It(...a);return this.Ji.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(p=>{const g=this.ts(n,f);return this.ns(n,g,c,p.readTime)?this.Yi(t,wf(n,null,"F")):this.rs(t,g,n,p)}))})))}Zi(t,n,r,o){return Km(n)||o.isEqual(ht.min())?Z.resolve(null):this.Ji.getDocuments(t,r).next(a=>{const c=this.ts(n,a);return this.ns(n,c,r,o)?Z.resolve(null):(Ys()<=St.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.rs(t,c,n,XT(o,-1)).next(f=>f))})}ts(t,n){let r=new Pe(fy(t));return n.forEach((o,a)=>{_c(t,a)&&(r=r.add(a))}),r}ns(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(t,n,r){return Ys()<=St.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",uo(n)),this.Ji.getDocumentsMatchingQuery(t,n,tr.min(),r)}rs(t,n,r,o){return this.Ji.getDocumentsMatchingQuery(t,r,o).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,n,r,o){this.persistence=t,this.ss=n,this.serializer=o,this.os=new Xt(At),this._s=new Jo(a=>Od(a),Vd),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function SS(e,t,n,r){return new PS(e,t,n,r)}async function ky(e,t){const n=Tt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let p=It();for(const g of o){c.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}for(const g of a){f.push(g.batchId);for(const w of g.mutations)p=p.add(w.key)}return n.localDocuments.getDocuments(r,p).next(g=>({hs:g,removedBatchIds:c,addedBatchIds:f}))})})}function Ly(e){const t=Tt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function IS(e,t){const n=Tt(e),r=t.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const f=[];t.targetChanges.forEach((w,T)=>{const S=o.get(T);if(!S)return;f.push(n.Ur.removeMatchingKeys(a,w.removedDocuments,T).next(()=>n.Ur.addMatchingKeys(a,w.addedDocuments,T)));let V=S.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(T)!==null?V=V.withResumeToken(Ie.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,r)),o=o.insert(T,V),function(B,K,N){return B.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(S,V,w)&&f.push(n.Ur.updateTargetData(a,V))});let p=nr(),g=It();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))}),f.push(CS(a,c,t.documentUpdates).next(w=>{p=w.Ps,g=w.Is})),!r.isEqual(ht.min())){const w=n.Ur.getLastRemoteSnapshotVersion(a).next(T=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(w)}return Z.waitFor(f).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,p,g)).next(()=>p)}).then(a=>(n.os=o,a))}function CS(e,t,n){let r=It(),o=It();return n.forEach(a=>r=r.add(a)),t.getEntries(e,r).next(a=>{let c=nr();return n.forEach((f,p)=>{const g=a.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(ht.min())?(t.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(f,p)):et("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Ps:c,Is:o}})}function AS(e,t){const n=Tt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ur.getTargetData(r,t).next(a=>a?(o=a,Z.resolve(o)):n.Ur.allocateTargetId(r).next(c=>(o=new Ui(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function If(e,t,n){const r=Tt(e),o=r.os.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Wa(c))throw c;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}r.os=r.os.remove(t),r._s.delete(o.target)}function o_(e,t,n){const r=Tt(e);let o=ht.min(),a=It();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,w){const T=Tt(p),S=T._s.get(w);return S!==void 0?Z.resolve(T.os.get(S)):T.Ur.getTargetData(g,w)}(r,c,Hn(t)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,f.targetId).next(p=>{a=p})}).next(()=>r.ss.getDocumentsMatchingQuery(c,t,n?o:ht.min(),n?a:It())).next(f=>(xS(r,TP(t),f),{documents:f,Ts:a})))}function xS(e,t,n){let r=e.us.get(t)||ht.min();n.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),e.us.set(t,r)}class s_{constructor(){this.activeTargetIds=xP()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kS{constructor(){this.so=new s_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new s_,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl=null;function uh(){return Yl===null?Yl=function(){return 268435456+Math.round(2147483648*Math.random())}():Yl++,"0x"+Yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re="WebChannelConnection";class NS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(n,r,o,a,c){const f=uh(),p=this.xo(n,r.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${f}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,a,c),this.No(n,p,g,o).then(w=>(et("RestConnection",`Received RPC '${n}' ${f}: `,w),w),w=>{throw jo("RestConnection",`RPC '${n}' ${f} failed with error: `,w,"url: ",p,"request:",o),w})}Lo(n,r,o,a,c,f){return this.Mo(n,r,o,a,c)}Oo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,c)=>n[c]=a),o&&o.headers.forEach((a,c)=>n[c]=a)}xo(n,r){const o=RS[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,o){const a=uh();return new Promise((c,f)=>{const p=new Yv;p.setWithCredentials(!0),p.listenOnce(Xv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hu.NO_ERROR:const w=p.getResponseJson();et(Re,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(w)),c(w);break;case hu.TIMEOUT:et(Re,`RPC '${t}' ${a} timed out`),f(new it(X.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const T=p.getStatus();if(et(Re,`RPC '${t}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S==null?void 0:S.error;if(V&&V.status&&V.message){const U=function(K){const N=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(N)>=0?N:X.UNKNOWN}(V.status);f(new it(U,V.message))}else f(new it(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new it(X.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{et(Re,`RPC '${t}' ${a} completed.`)}});const g=JSON.stringify(o);et(Re,`RPC '${t}' ${a} sending request:`,o),p.send(n,"POST",g,r,15)})}Bo(t,n,r){const o=uh(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=ey(),f=ty(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const w=a.join("");et(Re,`Creating RPC '${t}' stream ${o}: ${w}`,p);const T=c.createWebChannel(w,p);let S=!1,V=!1;const U=new MS({Io:K=>{V?et(Re,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(S||(et(Re,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),et(Re,`RPC '${t}' stream ${o} sending:`,K),T.send(K))},To:()=>T.close()}),B=(K,N,C)=>{K.listen(N,M=>{try{C(M)}catch(j){setTimeout(()=>{throw j},0)}})};return B(T,na.EventType.OPEN,()=>{V||(et(Re,`RPC '${t}' stream ${o} transport opened.`),U.yo())}),B(T,na.EventType.CLOSE,()=>{V||(V=!0,et(Re,`RPC '${t}' stream ${o} transport closed`),U.So())}),B(T,na.EventType.ERROR,K=>{V||(V=!0,jo(Re,`RPC '${t}' stream ${o} transport errored:`,K),U.So(new it(X.UNAVAILABLE,"The operation could not be completed")))}),B(T,na.EventType.MESSAGE,K=>{var N;if(!V){const C=K.data[0];Kt(!!C);const M=C,j=M.error||((N=M[0])===null||N===void 0?void 0:N.error);if(j){et(Re,`RPC '${t}' stream ${o} received error:`,j);const Q=j.status;let Y=function(P){const k=ie[P];if(k!==void 0)return wy(k)}(Q),I=j.message;Y===void 0&&(Y=X.INTERNAL,I="Unknown error status: "+Q+" with message "+j.message),V=!0,U.So(new it(Y,I)),T.close()}else et(Re,`RPC '${t}' stream ${o} received:`,C),U.bo(C)}}),B(f,Jv.STAT_EVENT,K=>{K.stat===pf.PROXY?et(Re,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===pf.NOPROXY&&et(Re,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.wo()},0),U}}function ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e){return new WP(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t,n,r=1e3,o=1.5,a=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,n,r,o,a,c,f,p){this.ui=t,this.Ho=r,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new My(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===n&&this.P_(r,o)},r=>{t(()=>{const o=new it(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OS extends DS{constructor(t,n,r,o,a,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=a}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=YP(this.serializer,t),r=function(a){if(!("targetChange"in a))return ht.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ht.min():c.readTime?Mo(c.readTime):ht.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=r_(this.serializer),n.addTarget=function(a,c){let f;const p=c.target;if(f=yf(p)?{documents:XP(a,p)}:{query:JP(a,p)._t},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=KP(a,c.resumeToken);const g=Pf(a,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(ht.min())>0){f.readTime=qP(a,c.snapshotVersion.toTimestamp());const g=Pf(a,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,t);const r=eS(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=r_(this.serializer),n.removeTarget=t,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends class{}{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Mo(t,Sf(n,r),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(X.UNKNOWN,a.toString())})}Lo(t,n,r,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Lo(t,Sf(n,r),o,c,f,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(X.UNKNOWN,c.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zS{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vi(n),this.D_=!1):et("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,n,r,o,a){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(c=>{r.enqueueAndForget(async()=>{Ga(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=Tt(p);g.L_.add(4),await Ka(g),g.q_.set("Unknown"),g.L_.delete(4),await wc(g)}(this))})}),this.q_=new zS(r,o)}}async function wc(e){if(Ga(e))for(const t of e.B_)await t(!0)}async function Ka(e){for(const t of e.B_)await t(!1)}function Ny(e,t){const n=Tt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Wd(n)?Zd(n):ts(n).r_()&&$d(n,t))}function Hd(e,t){const n=Tt(e),r=ts(n);n.N_.delete(t),r.r_()&&Dy(n,t),n.N_.size===0&&(r.r_()?r.o_():Ga(n)&&n.q_.set("Unknown"))}function $d(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ht.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ts(e).A_(t)}function Dy(e,t){e.Q_.xe(t),ts(e).R_(t)}function Zd(e){e.Q_=new jP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ts(e).start(),e.q_.v_()}function Wd(e){return Ga(e)&&!ts(e).n_()&&e.N_.size>0}function Ga(e){return Tt(e).L_.size===0}function Oy(e){e.Q_=void 0}async function FS(e){e.q_.set("Online")}async function BS(e){e.N_.forEach((t,n)=>{$d(e,t)})}async function US(e,t){Oy(e),Wd(e)?(e.q_.M_(t),Zd(e)):e.q_.set("Unknown")}async function jS(e,t,n){if(e.q_.set("Online"),t instanceof Ty&&t.state===2&&t.cause)try{await async function(o,a){const c=a.cause;for(const f of a.targetIds)o.N_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.N_.delete(f),o.Q_.removeTarget(f))}(e,t)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await l_(e,r)}else if(t instanceof du?e.Q_.Ke(t):t instanceof Ey?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ht.min()))try{const r=await Ly(e.localStore);n.compareTo(r)>=0&&await function(a,c){const f=a.Q_.rt(c);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.N_.get(g);w&&a.N_.set(g,w.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,g)=>{const w=a.N_.get(p);if(!w)return;a.N_.set(p,w.withResumeToken(Ie.EMPTY_BYTE_STRING,w.snapshotVersion)),Dy(a,p);const T=new Ui(w.target,p,g,w.sequenceNumber);$d(a,T)}),a.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(r){et("RemoteStore","Failed to raise snapshot:",r),await l_(e,r)}}async function l_(e,t,n){if(!Wa(t))throw t;e.L_.add(1),await Ka(e),e.q_.set("Offline"),n||(n=()=>Ly(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await wc(e)})}async function u_(e,t){const n=Tt(e);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=Ga(n);n.L_.add(3),await Ka(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await wc(n)}async function HS(e,t){const n=Tt(e);t?(n.L_.delete(2),await wc(n)):t||(n.L_.add(2),await Ka(n),n.q_.set("Unknown"))}function ts(e){return e.K_||(e.K_=function(n,r,o){const a=Tt(n);return a.w_(),new OS(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(e.datastore,e.asyncQueue,{Eo:FS.bind(null,e),Ro:BS.bind(null,e),mo:US.bind(null,e),d_:jS.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Wd(e)?Zd(e):e.q_.set("Unknown")):(await e.K_.stop(),Oy(e))})),e.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,n,r,o,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,a){const c=Date.now()+r,f=new qd(t,n,c,o,a);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(e,t){if(vi("AsyncQueue",`${t}: ${e}`),Wa(e))return new it(X.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.comparator=t?(n,r)=>t(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=ia(),this.sortedSet=new Xt(this.comparator)}static emptySet(t){return new No(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof No)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.W_=new Xt(st.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):pt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class qo{constructor(t,n,r,o,a,c,f,p,g){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,r,o,a){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new qo(t,n,No.emptySet(n),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class ZS{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=Tt(n),a=o.queries;o.queries=h_(),a.forEach((c,f)=>{for(const p of f.j_)p.onError(r)})})(this,new it(X.ABORTED,"Firestore shutting down"))}}function h_(){return new Jo(e=>hy(e),mc)}async function WS(e,t){const n=Tt(e);let r=3;const o=t.query;let a=n.queries.get(o);a?!a.H_()&&t.J_()&&(r=2):(a=new $S,r=t.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(o,!0);break;case 1:a.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const f=Vy(c,`Initialization of query '${uo(t.query)}' failed`);return void t.onError(f)}n.queries.set(o,a),a.j_.push(t),t.Z_(n.onlineState),a.z_&&t.X_(a.z_)&&Kd(n)}async function qS(e,t){const n=Tt(e),r=t.query;let o=3;const a=n.queries.get(r);if(a){const c=a.j_.indexOf(t);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=t.J_()?0:1:!a.H_()&&t.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KS(e,t){const n=Tt(e);let r=!1;for(const o of t){const a=o.query,c=n.queries.get(a);if(c){for(const f of c.j_)f.X_(o)&&(r=!0);c.z_=o}}r&&Kd(n)}function GS(e,t,n){const r=Tt(e),o=r.queries.get(t);if(o)for(const a of o.j_)a.onError(n);r.queries.delete(t)}function Kd(e){e.Y_.forEach(t=>{t.next()})}var Cf,f_;(f_=Cf||(Cf={})).ea="default",f_.Cache="cache";class QS{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new qo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Cf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(t){this.key=t}}class by{constructor(t){this.key=t}}class YS{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=It(),this.mutatedKeys=It(),this.Aa=fy(t),this.Ra=new No(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new c_,o=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((w,T)=>{const S=o.get(w),V=_c(this.query,T)?T:null,U=!!S&&this.mutatedKeys.has(S.key),B=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let K=!1;S&&V?S.data.isEqual(V.data)?U!==B&&(r.track({type:3,doc:V}),K=!0):this.ga(S,V)||(r.track({type:2,doc:V}),K=!0,(p&&this.Aa(V,p)>0||g&&this.Aa(V,g)<0)&&(f=!0)):!S&&V?(r.track({type:0,doc:V}),K=!0):S&&!V&&(r.track({type:1,doc:S}),K=!0,(p||g)&&(f=!0)),K&&(V?(c=c.add(V),a=B?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{Ra:c,fa:r,ns:f,mutatedKeys:a}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const c=t.fa.G_();c.sort((w,T)=>function(V,U){const B=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return B(V)-B(U)}(w.type,T.type)||this.Aa(w.doc,T.doc)),this.pa(r),o=o!=null&&o;const f=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,c.length!==0||g?{snapshot:new qo(this.query,t.Ra,a,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new c_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=It(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new by(r))}),this.da.forEach(r=>{t.has(r)||n.push(new zy(r))}),n}ba(t){this.Ta=t.Ts,this.da=It();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class XS{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class JS{constructor(t){this.key=t,this.va=!1}}class tI{constructor(t,n,r,o,a,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Jo(f=>hy(f),mc),this.Ma=new Map,this.xa=new Set,this.Oa=new Xt(st.comparator),this.Na=new Map,this.La=new Bd,this.Ba={},this.ka=new Map,this.qa=Wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function eI(e,t,n=!0){const r=Hy(e);let o;const a=r.Fa.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await Fy(r,t,n,!0),o}async function nI(e,t){const n=Hy(e);await Fy(n,t,!0,!1)}async function Fy(e,t,n,r){const o=await AS(e.localStore,Hn(t)),a=o.targetId,c=e.sharedClientState.addLocalQueryTarget(a,n);let f;return r&&(f=await iI(e,t,a,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&Ny(e.remoteStore,o),f}async function iI(e,t,n,r,o){e.Ka=(T,S,V)=>async function(B,K,N,C){let M=K.view.ma(N);M.ns&&(M=await o_(B.localStore,K.query,!1).then(({documents:I})=>K.view.ma(I,M)));const j=C&&C.targetChanges.get(K.targetId),Q=C&&C.targetMismatches.get(K.targetId)!=null,Y=K.view.applyChanges(M,B.isPrimaryClient,j,Q);return p_(B,K.targetId,Y.wa),Y.snapshot}(e,T,S,V);const a=await o_(e.localStore,t,!0),c=new YS(t,a.Ts),f=c.ma(a.documents),p=qa.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",o),g=c.applyChanges(f,e.isPrimaryClient,p);p_(e,n,g.wa);const w=new XS(t,n,c);return e.Fa.set(t,w),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),g.snapshot}async function rI(e,t,n){const r=Tt(e),o=r.Fa.get(t),a=r.Ma.get(o.targetId);if(a.length>1)return r.Ma.set(o.targetId,a.filter(c=>!mc(c,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await If(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Hd(r.remoteStore,o.targetId),Af(r,o.targetId)}).catch(Ld)):(Af(r,o.targetId),await If(r.localStore,o.targetId,!0))}async function oI(e,t){const n=Tt(e),r=n.Fa.get(t),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hd(n.remoteStore,r.targetId))}async function By(e,t){const n=Tt(e);try{const r=await IS(n.localStore,t);t.targetChanges.forEach((o,a)=>{const c=n.Na.get(a);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Kt(c.va):o.removedDocuments.size>0&&(Kt(c.va),c.va=!1))}),await jy(n,r,t)}catch(r){await Ld(r)}}function d_(e,t,n){const r=Tt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach((a,c)=>{const f=c.view.Z_(t);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Tt(c);p.onlineState=f;let g=!1;p.queries.forEach((w,T)=>{for(const S of T.j_)S.Z_(f)&&(g=!0)}),g&&Kd(p)}(r.eventManager,t),o.length&&r.Ca.d_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sI(e,t,n){const r=Tt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Na.get(t),a=o&&o.key;if(a){let c=new Xt(st.comparator);c=c.insert(a,De.newNoDocument(a,ht.min()));const f=It().add(a),p=new yc(ht.min(),new Map,new Xt(At),c,f);await By(r,p),r.Oa=r.Oa.remove(a),r.Na.delete(t),Gd(r)}else await If(r.localStore,t,!1).then(()=>Af(r,t,n)).catch(Ld)}function Af(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||Uy(e,r)})}function Uy(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Hd(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Gd(e))}function p_(e,t,n){for(const r of n)r instanceof zy?(e.La.addReference(r.key,t),aI(e,r)):r instanceof by?(et("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Uy(e,r.key)):pt()}function aI(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(et("SyncEngine","New document in limbo: "+n),e.xa.add(r),Gd(e))}function Gd(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new st(qt.fromString(t)),r=e.qa.next();e.Na.set(r,new JS(n)),e.Oa=e.Oa.insert(n,r),Ny(e.remoteStore,new Ui(Hn(cy(n.path)),r,"TargetPurposeLimboResolution",Rd.oe))}}async function jy(e,t,n){const r=Tt(e),o=[],a=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach((f,p)=>{c.push(r.Ka(p,t,n).then(g=>{var w;if((g||n)&&r.isPrimaryClient){const T=g?!g.fromCache:(w=n==null?void 0:n.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=jd.Wi(p.targetId,g);a.push(T)}}))}),await Promise.all(c),r.Ca.d_(o),await async function(p,g){const w=Tt(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Z.forEach(g,S=>Z.forEach(S.$i,V=>w.persistence.referenceDelegate.addReference(T,S.targetId,V)).next(()=>Z.forEach(S.Ui,V=>w.persistence.referenceDelegate.removeReference(T,S.targetId,V)))))}catch(T){if(!Wa(T))throw T;et("LocalStore","Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const V=w.os.get(S),U=V.snapshotVersion,B=V.withLastLimboFreeSnapshotVersion(U);w.os=w.os.insert(S,B)}}}(r.localStore,a))}async function lI(e,t){const n=Tt(e);if(!n.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const r=await ky(n.localStore,t);n.currentUser=t,function(a,c){a.ka.forEach(f=>{f.forEach(p=>{p.reject(new it(X.CANCELLED,c))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await jy(n,r.hs)}}function uI(e,t){const n=Tt(e),r=n.Na.get(t);if(r&&r.va)return It().add(r.key);{let o=It();const a=n.Ma.get(t);if(!a)return o;for(const c of a){const f=n.Fa.get(c);o=o.unionWith(f.view.Va)}return o}}function Hy(e){const t=Tt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=By.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sI.bind(null,t),t.Ca.d_=KS.bind(null,t.eventManager),t.Ca.$a=GS.bind(null,t.eventManager),t}class qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ry(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return SS(this.persistence,new TS,t.initialUser,this.serializer)}Ga(t){return new yS(Ud.Zr,this.serializer)}Wa(t){return new kS}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qu.provider={build:()=>new qu};class xf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lI.bind(null,this.syncEngine),await HS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ZS}()}createDatastore(t){const n=Ry(t.databaseInfo.databaseId),r=function(a){return new NS(a)}(t.databaseInfo);return function(a,c,f,p){return new VS(a,c,f,p)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,o,a,c,f){return new bS(r,o,a,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>d_(this.syncEngine,n,0),function(){return a_.D()?new a_:new LS}())}createSyncEngine(t,n){return function(o,a,c,f,p,g,w){const T=new tI(o,a,c,f,p,g);return w&&(T.Qa=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const a=Tt(o);et("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ka(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xf.provider={build:()=>new xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):vi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n,r,o,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Me.UNAUTHENTICATED,this.clientId=QT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async c=>{et("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(et("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Vy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function hh(e,t){e.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async o=>{r.isEqual(o)||(await ky(t.localStore,o),r=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function m_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await fI(e);et("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>u_(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,o)=>u_(t.remoteStore,o)),e._onlineComponents=t}async function fI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await hh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await hh(e,new qu)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await hh(e,new qu);return e._offlineComponents}async function dI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await m_(e,e._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await m_(e,new xf))),e._onlineComponents}async function pI(e){const t=await dI(e),n=t.eventManager;return n.onListen=eI.bind(null,t.syncEngine),n.onUnlisten=rI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oI.bind(null,t.syncEngine),n}function mI(e,t,n={}){const r=new xr;return e.asyncQueue.enqueueAndForget(async()=>function(a,c,f,p,g){const w=new cI({next:S=>{w.Za(),c.enqueueAndForget(()=>qS(a,T)),S.fromCache&&p.source==="server"?g.reject(new it(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new QS(f,w,{includeMetadataChanges:!0,_a:!0});return WS(a,T)}(await pI(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(e,t,n){if(!n)throw new it(X.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function gI(e,t,n,r){if(t===!0&&r===!0)throw new it(X.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function g_(e){if(st.isDocumentKey(e))throw new it(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vI(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":pt()}function kf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new it(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vI(e);throw new it(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new it(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new it(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$y((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qd{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jT;switch(r.type){case"firstParty":return new WT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=__.get(n);r&&(et("ComponentProvider","Removing Datastore"),__.delete(n),r.terminate())}(this),Promise.resolve()}}function yI(e,t,n,r={}){var o;const a=(e=kf(e,Qd))._getSettings(),c=`${t}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Me.MOCK_USER;else{f=TE(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new it(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Me(g)}e._authCredentials=new HT(new ny(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ec(this.firestore,t,this._query)}}class es{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new es(this.firestore,t,this._key)}}class Do extends Ec{constructor(t,n,r){super(t,n,cy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new es(this.firestore,null,new st(t))}withConverter(t){return new Do(this.firestore,t,this._path)}}function wI(e,t,...n){if(e=RE(e),_I("collection","path",t),e instanceof Qd){const r=qt.fromString(t,...n);return g_(r),new Do(e,null,r)}{if(!(e instanceof es||e instanceof Do))throw new it(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(qt.fromString(t,...n));return g_(r),new Do(e.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new My(this,"async_queue_retry"),this.Vu=()=>{const r=ch();r&&et("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=ch();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=ch();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new xr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Wa(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(r);throw vi("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const o=qd.createAndSchedule(this,t,n,r,a=>this.yu(a));return this.Tu.push(o),o}fu(){this.Eu&&pt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class Zy extends Qd{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new y_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y_(t),this._firestoreClient=void 0,await t}}}function EI(e,t){const n=typeof e=="object"?e:MT(),r=typeof e=="string"?e:t||"(default)",o=xT(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=wE("firestore");a&&yI(o,...a)}return o}function TI(e){if(e._terminated)throw new it(X.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||PI(e),e._firestoreClient}function PI(e){var t,n,r;const o=e._freezeSettings(),a=function(f,p,g,w){return new sP(f,p,g,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,$y(w.experimentalLongPollingOptions),w.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new hI(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ku(Ie.fromBase64String(t))}catch(n){throw new it(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ku(Ie.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,t._values)}}const CI=new RegExp("[~\\*/\\[\\]]");function AI(e,t,n){if(t.search(CI)>=0)throw w_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wy(...t.split("."))._internalPath}catch{throw w_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function w_(e,t,n,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new it(X.INVALID_ARGUMENT,f+e+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t,n,r,o,a){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new es(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ky("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xI extends qy{data(){return super.data()}}function Ky(e,t){return typeof t=="string"?AI(e,t):t instanceof Wy?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new it(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LI{convertValue(t,n="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw pt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return dc(t,(o,a)=>{r[o]=this.convertValue(a,n)}),r}convertVectorValue(t){var n,r,o;const a=(o=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(c=>Qt(c.doubleValue));return new II(a)}convertGeoPoint(t){return new SI(Qt(t.latitude),Qt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Nd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ba(t));default:return null}}convertTimestamp(t){const n=er(t);return new Ge(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=qt.fromString(t);Kt(xy(r));const o=new Fa(r.get(1),r.get(3)),a=new st(r.popFirst(5));return o.isEqual(n)||vi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class RI extends qy{constructor(t,n,r,o,a,c){super(t,n,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Ky("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pu extends RI{data(t={}){return super.data(t)}}class MI{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new pu(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new pu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Xl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const p=new pu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Xl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,w=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),w=c.indexOf(f.doc.key)),{type:NI(f.type),doc:p,oldIndex:g,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}class DI extends LI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ku(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new es(this.firestore,null,n)}}function OI(e){e=kf(e,Ec);const t=kf(e.firestore,Zy),n=TI(t),r=new DI(t);return kI(e._query),mI(n,e._query).then(o=>new MI(t,r,e,o))}(function(t,n=!0){(function(o){Xo=o})(RT),ju(new Oa("firestore",(r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),f=new Zy(new $T(r.getProvider("auth-internal")),new KT(r.getProvider("app-check-internal")),function(g,w){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new it(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(g.options.projectId,w)}(c,o),c);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Ro(bm,"4.7.3",t),Ro(bm,"4.7.3","esm2017")})();var VI="firebase",zI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro(VI,zI,"app");const bI={apiKey:"AIzaSyAg-VG3laAp8kvel5mC9Q_kWhLv6xvFTPY",authDomain:"bench-rating.firebaseapp.com",projectId:"bench-rating",storageBucket:"bench-rating.firebasestorage.app",messagingSenderId:"601862513386",appId:"1:601862513386:web:485fa761244ea436a4ad93"},FI=qv(bI),BI=EI(FI);const UI=()=>{const[e,t]=xt.useState([]);return xt.useEffect(()=>{(async()=>{const o=(await OI(wI(BI,"benches"))).docs.map(a=>({id:a.id,...a.data()}));t(o)})()},[]),Sn.jsxs(aE,{center:[51.5,-.1],zoom:13,style:{height:"100vh",width:"100%"},children:[Sn.jsx(cE,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(n=>Sn.jsx(lE,{position:[n.lat,n.lng],children:Sn.jsxs(uE,{children:[n.name,Sn.jsx("br",{}),"Comfort: ",n.comfort,Sn.jsx("br",{}),"View: ",n.view,Sn.jsx("br",{}),"Ambience: ",n.ambience]})},n.id))]})};function jI(){return Sn.jsx("div",{children:Sn.jsx(UI,{})})}fh.createRoot(document.getElementById("root")).render(Sn.jsx(mu.StrictMode,{children:Sn.jsx(jI,{})}));
