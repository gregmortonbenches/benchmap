(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U_={exports:{}},cc={},j_={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=Symbol.for("react.element"),lw=Symbol.for("react.portal"),uw=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),hw=Symbol.for("react.profiler"),fw=Symbol.for("react.provider"),dw=Symbol.for("react.context"),pw=Symbol.for("react.forward_ref"),mw=Symbol.for("react.suspense"),_w=Symbol.for("react.memo"),gw=Symbol.for("react.lazy"),Fp=Symbol.iterator;function vw(e){return e===null||typeof e!="object"?null:(e=Fp&&e[Fp]||e["@@iterator"],typeof e=="function"?e:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H_=Object.assign,W_={};function Jo(e,t,n){this.props=e,this.context=t,this.refs=W_,this.updater=n||$_}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z_(){}Z_.prototype=Jo.prototype;function Hf(e,t,n){this.props=e,this.context=t,this.refs=W_,this.updater=n||$_}var Wf=Hf.prototype=new Z_;Wf.constructor=Hf;H_(Wf,Jo.prototype);Wf.isPureReactComponent=!0;var Bp=Array.isArray,q_=Object.prototype.hasOwnProperty,Zf={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function G_(e,t,n){var i,o={},a=null,u=null;if(t!=null)for(i in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)q_.call(t,i)&&!K_.hasOwnProperty(i)&&(o[i]=t[i]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),g=0;g<h;g++)d[g]=arguments[g+2];o.children=d}if(e&&e.defaultProps)for(i in h=e.defaultProps,h)o[i]===void 0&&(o[i]=h[i]);return{$$typeof:Qa,type:e,key:a,ref:u,props:o,_owner:Zf.current}}function yw(e,t){return{$$typeof:Qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qa}function ww(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Up=/\/+/g;function Kc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ww(""+e.key):t.toString(36)}function cu(e,t,n,i,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Qa:case lw:u=!0}}if(u)return u=e,o=o(u),e=i===""?"."+Kc(u,0):i,Bp(o)?(n="",e!=null&&(n=e.replace(Up,"$&/")+"/"),cu(o,t,n,"",function(g){return g})):o!=null&&(qf(o)&&(o=yw(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Up,"$&/")+"/")+e)),t.push(o)),1;if(u=0,i=i===""?".":i+":",Bp(e))for(var h=0;h<e.length;h++){a=e[h];var d=i+Kc(a,h);u+=cu(a,t,n,d,o)}else if(d=vw(e),typeof d=="function")for(e=d.call(e),h=0;!(a=e.next()).done;)a=a.value,d=i+Kc(a,h++),u+=cu(a,t,n,d,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function jl(e,t,n){if(e==null)return e;var i=[],o=0;return cu(e,i,"","",function(a){return t.call(n,a,o++)}),i}function Ew(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},hu={transition:null},Tw={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:hu,ReactCurrentOwner:Zf};function Q_(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:jl,forEach:function(e,t,n){jl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jl(e,function(){t++}),t},toArray:function(e){return jl(e,function(t){return t})||[]},only:function(e){if(!qf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yt.Component=Jo;yt.Fragment=uw;yt.Profiler=hw;yt.PureComponent=Hf;yt.StrictMode=cw;yt.Suspense=mw;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tw;yt.act=Q_;yt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=H_({},e.props),o=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=Zf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(d in t)q_.call(t,d)&&!K_.hasOwnProperty(d)&&(i[d]=t[d]===void 0&&h!==void 0?h[d]:t[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){h=Array(d);for(var g=0;g<d;g++)h[g]=arguments[g+2];i.children=h}return{$$typeof:Qa,type:e.type,key:o,ref:a,props:i,_owner:u}};yt.createContext=function(e){return e={$$typeof:dw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fw,_context:e},e.Consumer=e};yt.createElement=G_;yt.createFactory=function(e){var t=G_.bind(null,e);return t.type=e,t};yt.createRef=function(){return{current:null}};yt.forwardRef=function(e){return{$$typeof:pw,render:e}};yt.isValidElement=qf;yt.lazy=function(e){return{$$typeof:gw,_payload:{_status:-1,_result:e},_init:Ew}};yt.memo=function(e,t){return{$$typeof:_w,type:e,compare:t===void 0?null:t}};yt.startTransition=function(e){var t=hu.transition;hu.transition={};try{e()}finally{hu.transition=t}};yt.unstable_act=Q_;yt.useCallback=function(e,t){return $e.current.useCallback(e,t)};yt.useContext=function(e){return $e.current.useContext(e)};yt.useDebugValue=function(){};yt.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};yt.useEffect=function(e,t){return $e.current.useEffect(e,t)};yt.useId=function(){return $e.current.useId()};yt.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};yt.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};yt.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};yt.useMemo=function(e,t){return $e.current.useMemo(e,t)};yt.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};yt.useRef=function(e){return $e.current.useRef(e)};yt.useState=function(e){return $e.current.useState(e)};yt.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};yt.useTransition=function(){return $e.current.useTransition()};yt.version="18.3.1";j_.exports=yt;var xt=j_.exports;const Cu=aw(xt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=xt,Iw=Symbol.for("react.element"),Sw=Symbol.for("react.fragment"),Aw=Object.prototype.hasOwnProperty,Cw=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xw={key:!0,ref:!0,__self:!0,__source:!0};function Y_(e,t,n){var i,o={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(i in t)Aw.call(t,i)&&!xw.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:Iw,type:e,key:a,ref:u,props:o,_owner:Cw.current}}cc.Fragment=Sw;cc.jsx=Y_;cc.jsxs=Y_;U_.exports=cc;var Be=U_.exports,xh={},X_={exports:{}},rn={},J_={exports:{}},tg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,st){var G=$.length;$.push(st);t:for(;0<G;){var at=G-1>>>1,pt=$[at];if(0<o(pt,st))$[at]=st,$[G]=pt,G=at;else break t}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var st=$[0],G=$.pop();if(G!==st){$[0]=G;t:for(var at=0,pt=$.length,wt=pt>>>1;at<wt;){var kt=2*(at+1)-1,_t=$[kt],ct=kt+1,Jt=$[ct];if(0>o(_t,G))ct<pt&&0>o(Jt,_t)?($[at]=Jt,$[ct]=G,at=ct):($[at]=_t,$[kt]=G,at=kt);else if(ct<pt&&0>o(Jt,G))$[at]=Jt,$[ct]=G,at=ct;else break t}}return st}function o($,st){var G=$.sortIndex-st.sortIndex;return G!==0?G:$.id-st.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var d=[],g=[],w=1,T=null,P=3,D=!1,F=!1,b=!1,q=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N($){for(var st=n(g);st!==null;){if(st.callback===null)i(g);else if(st.startTime<=$)i(g),st.sortIndex=st.expirationTime,t(d,st);else break;st=n(g)}}function j($){if(b=!1,N($),!F)if(n(d)!==null)F=!0,oe(Y);else{var st=n(g);st!==null&&be(j,st.startTime-$)}}function Y($,st){F=!1,b&&(b=!1,R(E),E=-1),D=!0;var G=P;try{for(N(st),T=n(d);T!==null&&(!(T.expirationTime>st)||$&&!M());){var at=T.callback;if(typeof at=="function"){T.callback=null,P=T.priorityLevel;var pt=at(T.expirationTime<=st);st=e.unstable_now(),typeof pt=="function"?T.callback=pt:T===n(d)&&i(d),N(st)}else i(d);T=n(d)}if(T!==null)var wt=!0;else{var kt=n(g);kt!==null&&be(j,kt.startTime-st),wt=!1}return wt}finally{T=null,P=G,D=!1}}var X=!1,A=null,E=-1,I=5,k=-1;function M(){return!(e.unstable_now()-k<I)}function O(){if(A!==null){var $=e.unstable_now();k=$;var st=!0;try{st=A(!0,$)}finally{st?x():(X=!1,A=null)}}else X=!1}var x;if(typeof S=="function")x=function(){S(O)};else if(typeof MessageChannel<"u"){var Kt=new MessageChannel,Gn=Kt.port2;Kt.port1.onmessage=O,x=function(){Gn.postMessage(null)}}else x=function(){q(O,0)};function oe($){A=$,X||(X=!0,x())}function be($,st){E=q(function(){$(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){F||D||(F=!0,oe(Y))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function($){switch(P){case 1:case 2:case 3:var st=3;break;default:st=P}var G=P;P=st;try{return $()}finally{P=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,st){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=P;P=$;try{return st()}finally{P=G}},e.unstable_scheduleCallback=function($,st,G){var at=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?at+G:at):G=at,$){case 1:var pt=-1;break;case 2:pt=250;break;case 5:pt=1073741823;break;case 4:pt=1e4;break;default:pt=5e3}return pt=G+pt,$={id:w++,callback:st,priorityLevel:$,startTime:G,expirationTime:pt,sortIndex:-1},G>at?($.sortIndex=G,t(g,$),n(d)===null&&$===n(g)&&(b?(R(E),E=-1):b=!0,be(j,G-at))):($.sortIndex=pt,t(d,$),F||D||(F=!0,oe(Y))),$},e.unstable_shouldYield=M,e.unstable_wrapCallback=function($){var st=P;return function(){var G=P;P=st;try{return $.apply(this,arguments)}finally{P=G}}}})(tg);J_.exports=tg;var kw=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=xt,nn=kw;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eg=new Set,Pa={};function jr(e,t){Fo(e,t),Fo(e+"Capture",t)}function Fo(e,t){for(Pa[e]=t,e=0;e<t.length;e++)eg.add(t[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,Lw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jp={},$p={};function Mw(e){return kh.call($p,e)?!0:kh.call(jp,e)?!1:Lw.test(e)?$p[e]=!0:(jp[e]=!0,!1)}function Nw(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dw(e,t,n,i){if(t===null||typeof t>"u"||Nw(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,i,o,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kf=/[\-:]([a-z])/g;function Gf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kf,Gf);Ae[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kf,Gf);Ae[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kf,Gf);Ae[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qf(e,t,n,i){var o=Ae.hasOwnProperty(t)?Ae[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dw(t,n,o,i)&&(n=null),i||o===null?Mw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Ii=Rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),yo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),ig=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Mh=Symbol.for("react.suspense_list"),Jf=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),rg=Symbol.for("react.offscreen"),Hp=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=Hp&&e[Hp]||e["@@iterator"],typeof e=="function"?e:null)}var Zt=Object.assign,Gc;function ia(e){if(Gc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gc=t&&t[1]||""}return`
`+Gc+e}var Qc=!1;function Yc(e,t){if(!e||Qc)return"";Qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var i=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){i=g}e.call(t.prototype)}else{try{throw Error()}catch(g){i=g}e()}}catch(g){if(g&&i&&typeof g.stack=="string"){for(var o=g.stack.split(`
`),a=i.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=u&&0<=h);break}}}finally{Qc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ia(e):""}function Ow(e){switch(e.tag){case 5:return ia(e.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return e=Yc(e.type,!1),e;case 11:return e=Yc(e.type.render,!1),e;case 1:return e=Yc(e.type,!0),e;default:return""}}function Nh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wo:return"Fragment";case yo:return"Portal";case Rh:return"Profiler";case Yf:return"StrictMode";case Lh:return"Suspense";case Mh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ig:return(e.displayName||"Context")+".Consumer";case ng:return(e._context.displayName||"Context")+".Provider";case Xf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jf:return t=e.displayName||null,t!==null?t:Nh(e.type)||"Memo";case Fi:t=e._payload,e=e._init;try{return Nh(e(t))}catch{}}return null}function Vw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nh(t);case 8:return t===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function og(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zw(e){var t=og(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){e._valueTracker||(e._valueTracker=zw(e))}function sg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=og(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function xu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dh(e,t){var n=t.checked;return Zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wp(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=rr(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ag(e,t){t=t.checked,t!=null&&Qf(e,"checked",t,!1)}function Oh(e,t){ag(e,t);var n=rr(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vh(e,t.type,rr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vh(e,t,n){(t!=="number"||xu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ra=Array.isArray;function Lo(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+rr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(ra(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rr(n)}}function lg(e,t){var n=rr(t.value),i=rr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Kp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ug(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ug(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wl,cg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bw=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(e){bw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ca[t]=ca[e]})});function hg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ca.hasOwnProperty(e)&&ca[e]?(""+t).trim():t+"px"}function fg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=hg(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var Fw=Zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(e,t){if(t){if(Fw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Bh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=null;function td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jh=null,Mo=null,No=null;function Gp(e){if(e=Ja(e)){if(typeof jh!="function")throw Error(K(280));var t=e.stateNode;t&&(t=mc(t),jh(e.stateNode,e.type,t))}}function dg(e){Mo?No?No.push(e):No=[e]:Mo=e}function pg(){if(Mo){var e=Mo,t=No;if(No=Mo=null,Gp(e),t)for(e=0;e<t.length;e++)Gp(t[e])}}function mg(e,t){return e(t)}function _g(){}var Xc=!1;function gg(e,t,n){if(Xc)return e(t,n);Xc=!0;try{return mg(e,t,n)}finally{Xc=!1,(Mo!==null||No!==null)&&(_g(),pg())}}function Sa(e,t){var n=e.stateNode;if(n===null)return null;var i=mc(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var $h=!1;if(gi)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){$h=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{$h=!1}function Bw(e,t,n,i,o,a,u,h,d){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(w){this.onError(w)}}var ha=!1,ku=null,Ru=!1,Hh=null,Uw={onError:function(e){ha=!0,ku=e}};function jw(e,t,n,i,o,a,u,h,d){ha=!1,ku=null,Bw.apply(Uw,arguments)}function $w(e,t,n,i,o,a,u,h,d){if(jw.apply(this,arguments),ha){if(ha){var g=ku;ha=!1,ku=null}else throw Error(K(198));Ru||(Ru=!0,Hh=g)}}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qp(e){if($r(e)!==e)throw Error(K(188))}function Hw(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Qp(o),e;if(a===i)return Qp(o),t;a=a.sibling}throw Error(K(188))}if(n.return!==i.return)n=o,i=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,i=a;break}if(h===i){u=!0,i=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,i=o;break}if(h===i){u=!0,i=a,n=o;break}h=h.sibling}if(!u)throw Error(K(189))}}if(n.alternate!==i)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function yg(e){return e=Hw(e),e!==null?wg(e):null}function wg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wg(e);if(t!==null)return t;e=e.sibling}return null}var Eg=nn.unstable_scheduleCallback,Yp=nn.unstable_cancelCallback,Ww=nn.unstable_shouldYield,Zw=nn.unstable_requestPaint,Xt=nn.unstable_now,qw=nn.unstable_getCurrentPriorityLevel,ed=nn.unstable_ImmediatePriority,Tg=nn.unstable_UserBlockingPriority,Lu=nn.unstable_NormalPriority,Kw=nn.unstable_LowPriority,Pg=nn.unstable_IdlePriority,hc=null,$n=null;function Gw(e){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(hc,e,void 0,(e.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:Xw,Qw=Math.log,Yw=Math.LN2;function Xw(e){return e>>>=0,e===0?32:31-(Qw(e)/Yw|0)|0}var Zl=64,ql=4194304;function oa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mu(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?i=oa(h):(a&=u,a!==0&&(i=oa(a)))}else u=n&~o,u!==0?i=oa(u):a!==0&&(i=oa(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Rn(t),o=1<<n,i|=e[n],t&=~o;return i}function Jw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Rn(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&i)&&(o[u]=Jw(h,t)):d<=t&&(e.expiredLanes|=h),a&=~h}}function Wh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ig(){var e=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),e}function Jc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ya(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rn(t),e[t]=n}function eE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Rn(n),a=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~a}}function nd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Rn(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var Lt=0;function Sg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ag,id,Cg,xg,kg,Zh=!1,Kl=[],Zi=null,qi=null,Ki=null,Aa=new Map,Ca=new Map,Ui=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xp(e,t){switch(e){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(t.pointerId)}}function Qs(e,t,n,i,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Ja(t),t!==null&&id(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function iE(e,t,n,i,o){switch(t){case"focusin":return Zi=Qs(Zi,e,t,n,i,o),!0;case"dragenter":return qi=Qs(qi,e,t,n,i,o),!0;case"mouseover":return Ki=Qs(Ki,e,t,n,i,o),!0;case"pointerover":var a=o.pointerId;return Aa.set(a,Qs(Aa.get(a)||null,e,t,n,i,o)),!0;case"gotpointercapture":return a=o.pointerId,Ca.set(a,Qs(Ca.get(a)||null,e,t,n,i,o)),!0}return!1}function Rg(e){var t=Cr(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=vg(n),t!==null){e.blockedOn=t,kg(e.priority,function(){Cg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Uh=i,n.target.dispatchEvent(i),Uh=null}else return t=Ja(n),t!==null&&id(t),e.blockedOn=n,!1;t.shift()}return!0}function Jp(e,t,n){fu(e)&&n.delete(t)}function rE(){Zh=!1,Zi!==null&&fu(Zi)&&(Zi=null),qi!==null&&fu(qi)&&(qi=null),Ki!==null&&fu(Ki)&&(Ki=null),Aa.forEach(Jp),Ca.forEach(Jp)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,Zh||(Zh=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,rE)))}function xa(e){function t(o){return Ys(o,e)}if(0<Kl.length){Ys(Kl[0],e);for(var n=1;n<Kl.length;n++){var i=Kl[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Zi!==null&&Ys(Zi,e),qi!==null&&Ys(qi,e),Ki!==null&&Ys(Ki,e),Aa.forEach(t),Ca.forEach(t),n=0;n<Ui.length;n++)i=Ui[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)Rg(n),n.blockedOn===null&&Ui.shift()}var Do=Ii.ReactCurrentBatchConfig,Nu=!0;function oE(e,t,n,i){var o=Lt,a=Do.transition;Do.transition=null;try{Lt=1,rd(e,t,n,i)}finally{Lt=o,Do.transition=a}}function sE(e,t,n,i){var o=Lt,a=Do.transition;Do.transition=null;try{Lt=4,rd(e,t,n,i)}finally{Lt=o,Do.transition=a}}function rd(e,t,n,i){if(Nu){var o=qh(e,t,n,i);if(o===null)uh(e,t,i,Du,n),Xp(e,i);else if(iE(o,e,t,n,i))i.stopPropagation();else if(Xp(e,i),t&4&&-1<nE.indexOf(e)){for(;o!==null;){var a=Ja(o);if(a!==null&&Ag(a),a=qh(e,t,n,i),a===null&&uh(e,t,i,Du,n),a===o)break;o=a}o!==null&&i.stopPropagation()}else uh(e,t,i,null,n)}}var Du=null;function qh(e,t,n,i){if(Du=null,e=td(i),e=Cr(e),e!==null)if(t=$r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Du=e,null}function Lg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qw()){case ed:return 1;case Tg:return 4;case Lu:case Kw:return 16;case Pg:return 536870912;default:return 16}default:return 16}}var $i=null,od=null,du=null;function Mg(){if(du)return du;var e,t=od,n=t.length,i,o="value"in $i?$i.value:$i.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(i=1;i<=u&&t[n-i]===o[a-i];i++);return du=o.slice(e,1<i?1-i:void 0)}function pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function tm(){return!1}function on(e){function t(n,i,o,a,u){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gl:tm,this.isPropagationStopped=tm,this}return Zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=on(ts),Xa=Zt({},ts,{view:0,detail:0}),aE=on(Xa),th,eh,Xs,fc=Zt({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(th=e.screenX-Xs.screenX,eh=e.screenY-Xs.screenY):eh=th=0,Xs=e),th)},movementY:function(e){return"movementY"in e?e.movementY:eh}}),em=on(fc),lE=Zt({},fc,{dataTransfer:0}),uE=on(lE),cE=Zt({},Xa,{relatedTarget:0}),nh=on(cE),hE=Zt({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),fE=on(hE),dE=Zt({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pE=on(dE),mE=Zt({},ts,{data:0}),nm=on(mE),_E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vE[e])?!!t[e]:!1}function ad(){return yE}var wE=Zt({},Xa,{key:function(e){if(e.key){var t=_E[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(e){return e.type==="keypress"?pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),EE=on(wE),TE=Zt({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=on(TE),PE=Zt({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),IE=on(PE),SE=Zt({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),AE=on(SE),CE=Zt({},fc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xE=on(CE),kE=[9,13,27,32],ld=gi&&"CompositionEvent"in window,fa=null;gi&&"documentMode"in document&&(fa=document.documentMode);var RE=gi&&"TextEvent"in window&&!fa,Ng=gi&&(!ld||fa&&8<fa&&11>=fa),rm=String.fromCharCode(32),om=!1;function Dg(e,t){switch(e){case"keyup":return kE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eo=!1;function LE(e,t){switch(e){case"compositionend":return Og(t);case"keypress":return t.which!==32?null:(om=!0,rm);case"textInput":return e=t.data,e===rm&&om?null:e;default:return null}}function ME(e,t){if(Eo)return e==="compositionend"||!ld&&Dg(e,t)?(e=Mg(),du=od=$i=null,Eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ng&&t.locale!=="ko"?null:t.data;default:return null}}var NE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NE[e.type]:t==="textarea"}function Vg(e,t,n,i){dg(i),t=Ou(t,"onChange"),0<t.length&&(n=new sd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var da=null,ka=null;function DE(e){qg(e,0)}function dc(e){var t=Io(e);if(sg(t))return e}function OE(e,t){if(e==="change")return t}var zg=!1;if(gi){var ih;if(gi){var rh="oninput"in document;if(!rh){var am=document.createElement("div");am.setAttribute("oninput","return;"),rh=typeof am.oninput=="function"}ih=rh}else ih=!1;zg=ih&&(!document.documentMode||9<document.documentMode)}function lm(){da&&(da.detachEvent("onpropertychange",bg),ka=da=null)}function bg(e){if(e.propertyName==="value"&&dc(ka)){var t=[];Vg(t,ka,e,td(e)),gg(DE,t)}}function VE(e,t,n){e==="focusin"?(lm(),da=t,ka=n,da.attachEvent("onpropertychange",bg)):e==="focusout"&&lm()}function zE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dc(ka)}function bE(e,t){if(e==="click")return dc(t)}function FE(e,t){if(e==="input"||e==="change")return dc(t)}function BE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mn=typeof Object.is=="function"?Object.is:BE;function Ra(e,t){if(Mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!kh.call(t,o)||!Mn(e[o],t[o]))return!1}return!0}function um(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cm(e,t){var n=um(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=um(n)}}function Fg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bg(){for(var e=window,t=xu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xu(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UE(e){var t=Bg(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fg(n.ownerDocument.documentElement,n)){if(i!==null&&ud(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=cm(n,a);var u=cm(n,i);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jE=gi&&"documentMode"in document&&11>=document.documentMode,To=null,Kh=null,pa=null,Gh=!1;function hm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gh||To==null||To!==xu(i)||(i=To,"selectionStart"in i&&ud(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pa&&Ra(pa,i)||(pa=i,i=Ou(Kh,"onSelect"),0<i.length&&(t=new sd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=To)))}function Ql(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Po={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},oh={},Ug={};gi&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function pc(e){if(oh[e])return oh[e];if(!Po[e])return e;var t=Po[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ug)return oh[e]=t[n];return e}var jg=pc("animationend"),$g=pc("animationiteration"),Hg=pc("animationstart"),Wg=pc("transitionend"),Zg=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){Zg.set(e,t),jr(t,[e])}for(var sh=0;sh<fm.length;sh++){var ah=fm[sh],$E=ah.toLowerCase(),HE=ah[0].toUpperCase()+ah.slice(1);ur($E,"on"+HE)}ur(jg,"onAnimationEnd");ur($g,"onAnimationIteration");ur(Hg,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(Wg,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function dm(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,$w(i,t,void 0,e),e.currentTarget=null}function qg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var u=i.length-1;0<=u;u--){var h=i[u],d=h.instance,g=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break t;dm(o,h,g),a=d}else for(u=0;u<i.length;u++){if(h=i[u],d=h.instance,g=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break t;dm(o,h,g),a=d}}}if(Ru)throw e=Hh,Ru=!1,Hh=null,e}function zt(e,t){var n=t[tf];n===void 0&&(n=t[tf]=new Set);var i=e+"__bubble";n.has(i)||(Kg(t,e,2,!1),n.add(i))}function lh(e,t,n){var i=0;t&&(i|=4),Kg(n,e,i,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function La(e){if(!e[Yl]){e[Yl]=!0,eg.forEach(function(n){n!=="selectionchange"&&(WE.has(n)||lh(n,!1,e),lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,lh("selectionchange",!1,t))}}function Kg(e,t,n,i){switch(Lg(t)){case 1:var o=oE;break;case 4:o=sE;break;default:o=rd}n=o.bind(null,t,n,e),o=void 0,!$h||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function uh(e,t,n,i,o){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var h=i.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=i.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=Cr(h),u===null)return;if(d=u.tag,d===5||d===6){i=a=u;continue t}h=h.parentNode}}i=i.return}gg(function(){var g=a,w=td(n),T=[];t:{var P=Zg.get(e);if(P!==void 0){var D=sd,F=e;switch(e){case"keypress":if(pu(n)===0)break t;case"keydown":case"keyup":D=EE;break;case"focusin":F="focus",D=nh;break;case"focusout":F="blur",D=nh;break;case"beforeblur":case"afterblur":D=nh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=uE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=IE;break;case jg:case $g:case Hg:D=fE;break;case Wg:D=AE;break;case"scroll":D=aE;break;case"wheel":D=xE;break;case"copy":case"cut":case"paste":D=pE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=im}var b=(t&4)!==0,q=!b&&e==="scroll",R=b?P!==null?P+"Capture":null:P;b=[];for(var S=g,N;S!==null;){N=S;var j=N.stateNode;if(N.tag===5&&j!==null&&(N=j,R!==null&&(j=Sa(S,R),j!=null&&b.push(Ma(S,j,N)))),q)break;S=S.return}0<b.length&&(P=new D(P,F,null,n,w),T.push({event:P,listeners:b}))}}if(!(t&7)){t:{if(P=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",P&&n!==Uh&&(F=n.relatedTarget||n.fromElement)&&(Cr(F)||F[vi]))break t;if((D||P)&&(P=w.window===w?w:(P=w.ownerDocument)?P.defaultView||P.parentWindow:window,D?(F=n.relatedTarget||n.toElement,D=g,F=F?Cr(F):null,F!==null&&(q=$r(F),F!==q||F.tag!==5&&F.tag!==6)&&(F=null)):(D=null,F=g),D!==F)){if(b=em,j="onMouseLeave",R="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(b=im,j="onPointerLeave",R="onPointerEnter",S="pointer"),q=D==null?P:Io(D),N=F==null?P:Io(F),P=new b(j,S+"leave",D,n,w),P.target=q,P.relatedTarget=N,j=null,Cr(w)===g&&(b=new b(R,S+"enter",F,n,w),b.target=N,b.relatedTarget=q,j=b),q=j,D&&F)e:{for(b=D,R=F,S=0,N=b;N;N=mo(N))S++;for(N=0,j=R;j;j=mo(j))N++;for(;0<S-N;)b=mo(b),S--;for(;0<N-S;)R=mo(R),N--;for(;S--;){if(b===R||R!==null&&b===R.alternate)break e;b=mo(b),R=mo(R)}b=null}else b=null;D!==null&&pm(T,P,D,b,!1),F!==null&&q!==null&&pm(T,q,F,b,!0)}}t:{if(P=g?Io(g):window,D=P.nodeName&&P.nodeName.toLowerCase(),D==="select"||D==="input"&&P.type==="file")var Y=OE;else if(sm(P))if(zg)Y=FE;else{Y=zE;var X=VE}else(D=P.nodeName)&&D.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(Y=bE);if(Y&&(Y=Y(e,g))){Vg(T,Y,n,w);break t}X&&X(e,P,g),e==="focusout"&&(X=P._wrapperState)&&X.controlled&&P.type==="number"&&Vh(P,"number",P.value)}switch(X=g?Io(g):window,e){case"focusin":(sm(X)||X.contentEditable==="true")&&(To=X,Kh=g,pa=null);break;case"focusout":pa=Kh=To=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,hm(T,n,w);break;case"selectionchange":if(jE)break;case"keydown":case"keyup":hm(T,n,w)}var A;if(ld)t:{switch(e){case"compositionstart":var E="onCompositionStart";break t;case"compositionend":E="onCompositionEnd";break t;case"compositionupdate":E="onCompositionUpdate";break t}E=void 0}else Eo?Dg(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ng&&n.locale!=="ko"&&(Eo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Eo&&(A=Mg()):($i=w,od="value"in $i?$i.value:$i.textContent,Eo=!0)),X=Ou(g,E),0<X.length&&(E=new nm(E,e,null,n,w),T.push({event:E,listeners:X}),A?E.data=A:(A=Og(n),A!==null&&(E.data=A)))),(A=RE?LE(e,n):ME(e,n))&&(g=Ou(g,"onBeforeInput"),0<g.length&&(w=new nm("onBeforeInput","beforeinput",null,n,w),T.push({event:w,listeners:g}),w.data=A))}qg(T,t)})}function Ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ou(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Sa(e,n),a!=null&&i.unshift(Ma(e,a,o)),a=Sa(e,t),a!=null&&i.push(Ma(e,a,o))),e=e.return}return i}function mo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pm(e,t,n,i,o){for(var a=t._reactName,u=[];n!==null&&n!==i;){var h=n,d=h.alternate,g=h.stateNode;if(d!==null&&d===i)break;h.tag===5&&g!==null&&(h=g,o?(d=Sa(n,a),d!=null&&u.unshift(Ma(n,d,h))):o||(d=Sa(n,a),d!=null&&u.push(Ma(n,d,h)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var ZE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function mm(e){return(typeof e=="string"?e:""+e).replace(ZE,`
`).replace(qE,"")}function Xl(e,t,n){if(t=mm(t),mm(e)!==t&&n)throw Error(K(425))}function Vu(){}var Qh=null,Yh=null;function Xh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(QE)}:Jh;function QE(e){setTimeout(function(){throw e})}function ch(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),xa(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);xa(t)}function Gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),jn="__reactFiber$"+es,Na="__reactProps$"+es,vi="__reactContainer$"+es,tf="__reactEvents$"+es,YE="__reactListeners$"+es,XE="__reactHandles$"+es;function Cr(e){var t=e[jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gm(e);e!==null;){if(n=e[jn])return n;e=gm(e)}return t}e=n,n=e.parentNode}return null}function Ja(e){return e=e[jn]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Io(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function mc(e){return e[Na]||null}var ef=[],So=-1;function cr(e){return{current:e}}function bt(e){0>So||(e.current=ef[So],ef[So]=null,So--)}function Ot(e,t){So++,ef[So]=e.current,e.current=t}var or={},ze=cr(or),Ke=cr(!1),Dr=or;function Bo(e,t){var n=e.type.contextTypes;if(!n)return or;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ge(e){return e=e.childContextTypes,e!=null}function zu(){bt(Ke),bt(ze)}function vm(e,t,n){if(ze.current!==or)throw Error(K(168));Ot(ze,t),Ot(Ke,n)}function Gg(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(K(108,Vw(e)||"Unknown",o));return Zt({},n,i)}function bu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,Dr=ze.current,Ot(ze,e),Ot(Ke,Ke.current),!0}function ym(e,t,n){var i=e.stateNode;if(!i)throw Error(K(169));n?(e=Gg(e,t,Dr),i.__reactInternalMemoizedMergedChildContext=e,bt(Ke),bt(ze),Ot(ze,e)):bt(Ke),Ot(Ke,n)}var fi=null,_c=!1,hh=!1;function Qg(e){fi===null?fi=[e]:fi.push(e)}function JE(e){_c=!0,Qg(e)}function hr(){if(!hh&&fi!==null){hh=!0;var e=0,t=Lt;try{var n=fi;for(Lt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}fi=null,_c=!1}catch(o){throw fi!==null&&(fi=fi.slice(e+1)),Eg(ed,hr),o}finally{Lt=t,hh=!1}}return null}var Ao=[],Co=0,Fu=null,Bu=0,hn=[],fn=0,Or=null,di=1,pi="";function Ir(e,t){Ao[Co++]=Bu,Ao[Co++]=Fu,Fu=e,Bu=t}function Yg(e,t,n){hn[fn++]=di,hn[fn++]=pi,hn[fn++]=Or,Or=e;var i=di;e=pi;var o=32-Rn(i)-1;i&=~(1<<o),n+=1;var a=32-Rn(t)+o;if(30<a){var u=o-o%5;a=(i&(1<<u)-1).toString(32),i>>=u,o-=u,di=1<<32-Rn(t)+o|n<<o|i,pi=a+e}else di=1<<a|n<<o|i,pi=e}function cd(e){e.return!==null&&(Ir(e,1),Yg(e,1,0))}function hd(e){for(;e===Fu;)Fu=Ao[--Co],Ao[Co]=null,Bu=Ao[--Co],Ao[Co]=null;for(;e===Or;)Or=hn[--fn],hn[fn]=null,pi=hn[--fn],hn[fn]=null,di=hn[--fn],hn[fn]=null}var en=null,tn=null,Bt=!1,xn=null;function Xg(e,t){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,en=e,tn=Gi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,en=e,tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Or!==null?{id:di,overflow:pi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,en=e,tn=null,!0):!1;default:return!1}}function nf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rf(e){if(Bt){var t=tn;if(t){var n=t;if(!wm(e,t)){if(nf(e))throw Error(K(418));t=Gi(n.nextSibling);var i=en;t&&wm(e,t)?Xg(i,n):(e.flags=e.flags&-4097|2,Bt=!1,en=e)}}else{if(nf(e))throw Error(K(418));e.flags=e.flags&-4097|2,Bt=!1,en=e}}}function Em(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function Jl(e){if(e!==en)return!1;if(!Bt)return Em(e),Bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xh(e.type,e.memoizedProps)),t&&(t=tn)){if(nf(e))throw Jg(),Error(K(418));for(;t;)Xg(e,t),t=Gi(t.nextSibling)}if(Em(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tn=Gi(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tn=null}}else tn=en?Gi(e.stateNode.nextSibling):null;return!0}function Jg(){for(var e=tn;e;)e=Gi(e.nextSibling)}function Uo(){tn=en=null,Bt=!1}function fd(e){xn===null?xn=[e]:xn.push(e)}var tT=Ii.ReactCurrentBatchConfig;function Js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var i=n.stateNode}if(!i)throw Error(K(147,e));var o=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function tu(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tm(e){var t=e._init;return t(e._payload)}function tv(e){function t(R,S){if(e){var N=R.deletions;N===null?(R.deletions=[S],R.flags|=16):N.push(S)}}function n(R,S){if(!e)return null;for(;S!==null;)t(R,S),S=S.sibling;return null}function i(R,S){for(R=new Map;S!==null;)S.key!==null?R.set(S.key,S):R.set(S.index,S),S=S.sibling;return R}function o(R,S){return R=Ji(R,S),R.index=0,R.sibling=null,R}function a(R,S,N){return R.index=N,e?(N=R.alternate,N!==null?(N=N.index,N<S?(R.flags|=2,S):N):(R.flags|=2,S)):(R.flags|=1048576,S)}function u(R){return e&&R.alternate===null&&(R.flags|=2),R}function h(R,S,N,j){return S===null||S.tag!==6?(S=vh(N,R.mode,j),S.return=R,S):(S=o(S,N),S.return=R,S)}function d(R,S,N,j){var Y=N.type;return Y===wo?w(R,S,N.props.children,j,N.key):S!==null&&(S.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Fi&&Tm(Y)===S.type)?(j=o(S,N.props),j.ref=Js(R,S,N),j.return=R,j):(j=Eu(N.type,N.key,N.props,null,R.mode,j),j.ref=Js(R,S,N),j.return=R,j)}function g(R,S,N,j){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=yh(N,R.mode,j),S.return=R,S):(S=o(S,N.children||[]),S.return=R,S)}function w(R,S,N,j,Y){return S===null||S.tag!==7?(S=Mr(N,R.mode,j,Y),S.return=R,S):(S=o(S,N),S.return=R,S)}function T(R,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return S=vh(""+S,R.mode,N),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $l:return N=Eu(S.type,S.key,S.props,null,R.mode,N),N.ref=Js(R,null,S),N.return=R,N;case yo:return S=yh(S,R.mode,N),S.return=R,S;case Fi:var j=S._init;return T(R,j(S._payload),N)}if(ra(S)||Ks(S))return S=Mr(S,R.mode,N,null),S.return=R,S;tu(R,S)}return null}function P(R,S,N,j){var Y=S!==null?S.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Y!==null?null:h(R,S,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $l:return N.key===Y?d(R,S,N,j):null;case yo:return N.key===Y?g(R,S,N,j):null;case Fi:return Y=N._init,P(R,S,Y(N._payload),j)}if(ra(N)||Ks(N))return Y!==null?null:w(R,S,N,j,null);tu(R,N)}return null}function D(R,S,N,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number")return R=R.get(N)||null,h(S,R,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $l:return R=R.get(j.key===null?N:j.key)||null,d(S,R,j,Y);case yo:return R=R.get(j.key===null?N:j.key)||null,g(S,R,j,Y);case Fi:var X=j._init;return D(R,S,N,X(j._payload),Y)}if(ra(j)||Ks(j))return R=R.get(N)||null,w(S,R,j,Y,null);tu(S,j)}return null}function F(R,S,N,j){for(var Y=null,X=null,A=S,E=S=0,I=null;A!==null&&E<N.length;E++){A.index>E?(I=A,A=null):I=A.sibling;var k=P(R,A,N[E],j);if(k===null){A===null&&(A=I);break}e&&A&&k.alternate===null&&t(R,A),S=a(k,S,E),X===null?Y=k:X.sibling=k,X=k,A=I}if(E===N.length)return n(R,A),Bt&&Ir(R,E),Y;if(A===null){for(;E<N.length;E++)A=T(R,N[E],j),A!==null&&(S=a(A,S,E),X===null?Y=A:X.sibling=A,X=A);return Bt&&Ir(R,E),Y}for(A=i(R,A);E<N.length;E++)I=D(A,R,E,N[E],j),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?E:I.key),S=a(I,S,E),X===null?Y=I:X.sibling=I,X=I);return e&&A.forEach(function(M){return t(R,M)}),Bt&&Ir(R,E),Y}function b(R,S,N,j){var Y=Ks(N);if(typeof Y!="function")throw Error(K(150));if(N=Y.call(N),N==null)throw Error(K(151));for(var X=Y=null,A=S,E=S=0,I=null,k=N.next();A!==null&&!k.done;E++,k=N.next()){A.index>E?(I=A,A=null):I=A.sibling;var M=P(R,A,k.value,j);if(M===null){A===null&&(A=I);break}e&&A&&M.alternate===null&&t(R,A),S=a(M,S,E),X===null?Y=M:X.sibling=M,X=M,A=I}if(k.done)return n(R,A),Bt&&Ir(R,E),Y;if(A===null){for(;!k.done;E++,k=N.next())k=T(R,k.value,j),k!==null&&(S=a(k,S,E),X===null?Y=k:X.sibling=k,X=k);return Bt&&Ir(R,E),Y}for(A=i(R,A);!k.done;E++,k=N.next())k=D(A,R,E,k.value,j),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?E:k.key),S=a(k,S,E),X===null?Y=k:X.sibling=k,X=k);return e&&A.forEach(function(O){return t(R,O)}),Bt&&Ir(R,E),Y}function q(R,S,N,j){if(typeof N=="object"&&N!==null&&N.type===wo&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case $l:t:{for(var Y=N.key,X=S;X!==null;){if(X.key===Y){if(Y=N.type,Y===wo){if(X.tag===7){n(R,X.sibling),S=o(X,N.props.children),S.return=R,R=S;break t}}else if(X.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Fi&&Tm(Y)===X.type){n(R,X.sibling),S=o(X,N.props),S.ref=Js(R,X,N),S.return=R,R=S;break t}n(R,X);break}else t(R,X);X=X.sibling}N.type===wo?(S=Mr(N.props.children,R.mode,j,N.key),S.return=R,R=S):(j=Eu(N.type,N.key,N.props,null,R.mode,j),j.ref=Js(R,S,N),j.return=R,R=j)}return u(R);case yo:t:{for(X=N.key;S!==null;){if(S.key===X)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){n(R,S.sibling),S=o(S,N.children||[]),S.return=R,R=S;break t}else{n(R,S);break}else t(R,S);S=S.sibling}S=yh(N,R.mode,j),S.return=R,R=S}return u(R);case Fi:return X=N._init,q(R,S,X(N._payload),j)}if(ra(N))return F(R,S,N,j);if(Ks(N))return b(R,S,N,j);tu(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,S!==null&&S.tag===6?(n(R,S.sibling),S=o(S,N),S.return=R,R=S):(n(R,S),S=vh(N,R.mode,j),S.return=R,R=S),u(R)):n(R,S)}return q}var jo=tv(!0),ev=tv(!1),Uu=cr(null),ju=null,xo=null,dd=null;function pd(){dd=xo=ju=null}function md(e){var t=Uu.current;bt(Uu),e._currentValue=t}function of(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){ju=e,dd=xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function gn(e){var t=e._currentValue;if(dd!==e)if(e={context:e,memoizedValue:t,next:null},xo===null){if(ju===null)throw Error(K(308));xo=e,ju.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var xr=null;function _d(e){xr===null?xr=[e]:xr.push(e)}function nv(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,_d(t)):(n.next=o.next,o.next=n),t.interleaved=n,yi(e,i)}function yi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bi=!1;function gd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,At&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,yi(e,n)}return o=i.interleaved,o===null?(t.next=t,_d(i)):(t.next=o.next,o.next=t),i.interleaved=t,yi(e,n)}function mu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,nd(e,n)}}function Pm(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $u(e,t,n,i){var o=e.updateQueue;Bi=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,g=d.next;d.next=null,u===null?a=g:u.next=g,u=d;var w=e.alternate;w!==null&&(w=w.updateQueue,h=w.lastBaseUpdate,h!==u&&(h===null?w.firstBaseUpdate=g:h.next=g,w.lastBaseUpdate=d))}if(a!==null){var T=o.baseState;u=0,w=g=d=null,h=a;do{var P=h.lane,D=h.eventTime;if((i&P)===P){w!==null&&(w=w.next={eventTime:D,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});t:{var F=e,b=h;switch(P=t,D=n,b.tag){case 1:if(F=b.payload,typeof F=="function"){T=F.call(D,T,P);break t}T=F;break t;case 3:F.flags=F.flags&-65537|128;case 0:if(F=b.payload,P=typeof F=="function"?F.call(D,T,P):F,P==null)break t;T=Zt({},T,P);break t;case 2:Bi=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,P=o.effects,P===null?o.effects=[h]:P.push(h))}else D={eventTime:D,lane:P,tag:h.tag,payload:h.payload,callback:h.callback,next:null},w===null?(g=w=D,d=T):w=w.next=D,u|=P;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;P=h,h=P.next,P.next=null,o.lastBaseUpdate=P,o.shared.pending=null}}while(1);if(w===null&&(d=T),o.baseState=d,o.firstBaseUpdate=g,o.lastBaseUpdate=w,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);zr|=u,e.lanes=u,e.memoizedState=T}}function Im(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(K(191,o));o.call(i)}}}var tl={},Hn=cr(tl),Da=cr(tl),Oa=cr(tl);function kr(e){if(e===tl)throw Error(K(174));return e}function vd(e,t){switch(Ot(Oa,t),Ot(Da,e),Ot(Hn,tl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bh(t,e)}bt(Hn),Ot(Hn,t)}function $o(){bt(Hn),bt(Da),bt(Oa)}function rv(e){kr(Oa.current);var t=kr(Hn.current),n=bh(t,e.type);t!==n&&(Ot(Da,e),Ot(Hn,n))}function yd(e){Da.current===e&&(bt(Hn),bt(Da))}var Ht=cr(0);function Hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fh=[];function wd(){for(var e=0;e<fh.length;e++)fh[e]._workInProgressVersionPrimary=null;fh.length=0}var _u=Ii.ReactCurrentDispatcher,dh=Ii.ReactCurrentBatchConfig,Vr=0,Wt=null,ue=null,ge=null,Wu=!1,ma=!1,Va=0,eT=0;function Le(){throw Error(K(321))}function Ed(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mn(e[n],t[n]))return!1;return!0}function Td(e,t,n,i,o,a){if(Vr=a,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_u.current=e===null||e.memoizedState===null?oT:sT,e=n(i,o),ma){a=0;do{if(ma=!1,Va=0,25<=a)throw Error(K(301));a+=1,ge=ue=null,t.updateQueue=null,_u.current=aT,e=n(i,o)}while(ma)}if(_u.current=Zu,t=ue!==null&&ue.next!==null,Vr=0,ge=ue=Wt=null,Wu=!1,t)throw Error(K(300));return e}function Pd(){var e=Va!==0;return Va=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Wt.memoizedState=ge=e:ge=ge.next=e,ge}function vn(){if(ue===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=ge===null?Wt.memoizedState:ge.next;if(t!==null)ge=t,ue=e;else{if(e===null)throw Error(K(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},ge===null?Wt.memoizedState=ge=e:ge=ge.next=e}return ge}function za(e,t){return typeof t=="function"?t(e):t}function ph(e){var t=vn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var i=ue,o=i.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}i.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,i=i.baseState;var h=u=null,d=null,g=a;do{var w=g.lane;if((Vr&w)===w)d!==null&&(d=d.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),i=g.hasEagerState?g.eagerState:e(i,g.action);else{var T={lane:w,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};d===null?(h=d=T,u=i):d=d.next=T,Wt.lanes|=w,zr|=w}g=g.next}while(g!==null&&g!==a);d===null?u=i:d.next=h,Mn(i,t.memoizedState)||(qe=!0),t.memoizedState=i,t.baseState=u,t.baseQueue=d,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Wt.lanes|=a,zr|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mh(e){var t=vn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=e(a,u.action),u=u.next;while(u!==o);Mn(a,t.memoizedState)||(qe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function ov(){}function sv(e,t){var n=Wt,i=vn(),o=t(),a=!Mn(i.memoizedState,o);if(a&&(i.memoizedState=o,qe=!0),i=i.queue,Id(uv.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,ba(9,lv.bind(null,n,i,o,t),void 0,null),ve===null)throw Error(K(349));Vr&30||av(n,t,o)}return o}function av(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lv(e,t,n,i){t.value=n,t.getSnapshot=i,cv(t)&&hv(e)}function uv(e,t,n){return n(function(){cv(t)&&hv(e)})}function cv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mn(e,n)}catch{return!0}}function hv(e){var t=yi(e,1);t!==null&&Ln(t,e,1,-1)}function Sm(e){var t=Un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t.queue=e,e=e.dispatch=rT.bind(null,Wt,e),[t.memoizedState,e]}function ba(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function fv(){return vn().memoizedState}function gu(e,t,n,i){var o=Un();Wt.flags|=e,o.memoizedState=ba(1|t,n,void 0,i===void 0?null:i)}function gc(e,t,n,i){var o=vn();i=i===void 0?null:i;var a=void 0;if(ue!==null){var u=ue.memoizedState;if(a=u.destroy,i!==null&&Ed(i,u.deps)){o.memoizedState=ba(t,n,a,i);return}}Wt.flags|=e,o.memoizedState=ba(1|t,n,a,i)}function Am(e,t){return gu(8390656,8,e,t)}function Id(e,t){return gc(2048,8,e,t)}function dv(e,t){return gc(4,2,e,t)}function pv(e,t){return gc(4,4,e,t)}function mv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _v(e,t,n){return n=n!=null?n.concat([e]):null,gc(4,4,mv.bind(null,t,e),n)}function Sd(){}function gv(e,t){var n=vn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Ed(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function vv(e,t){var n=vn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Ed(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function yv(e,t,n){return Vr&21?(Mn(n,t)||(n=Ig(),Wt.lanes|=n,zr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function nT(e,t){var n=Lt;Lt=n!==0&&4>n?n:4,e(!0);var i=dh.transition;dh.transition={};try{e(!1),t()}finally{Lt=n,dh.transition=i}}function wv(){return vn().memoizedState}function iT(e,t,n){var i=Xi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ev(e))Tv(t,n);else if(n=nv(e,t,n,i),n!==null){var o=je();Ln(n,e,i,o),Pv(n,t,i)}}function rT(e,t,n){var i=Xi(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ev(e))Tv(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Mn(h,u)){var d=t.interleaved;d===null?(o.next=o,_d(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=nv(e,t,o,i),n!==null&&(o=je(),Ln(n,e,i,o),Pv(n,t,i))}}function Ev(e){var t=e.alternate;return e===Wt||t!==null&&t===Wt}function Tv(e,t){ma=Wu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pv(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,nd(e,n)}}var Zu={readContext:gn,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},oT={readContext:gn,useCallback:function(e,t){return Un().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:Am,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,gu(4194308,4,mv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return gu(4,2,e,t)},useMemo:function(e,t){var n=Un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Un();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=iT.bind(null,Wt,e),[i.memoizedState,e]},useRef:function(e){var t=Un();return e={current:e},t.memoizedState=e},useState:Sm,useDebugValue:Sd,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=Sm(!1),t=e[0];return e=nT.bind(null,e[1]),Un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Wt,o=Un();if(Bt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),ve===null)throw Error(K(349));Vr&30||av(i,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Am(uv.bind(null,i,a,e),[e]),i.flags|=2048,ba(9,lv.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Un(),t=ve.identifierPrefix;if(Bt){var n=pi,i=di;n=(i&~(1<<32-Rn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Va++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sT={readContext:gn,useCallback:gv,useContext:gn,useEffect:Id,useImperativeHandle:_v,useInsertionEffect:dv,useLayoutEffect:pv,useMemo:vv,useReducer:ph,useRef:fv,useState:function(){return ph(za)},useDebugValue:Sd,useDeferredValue:function(e){var t=vn();return yv(t,ue.memoizedState,e)},useTransition:function(){var e=ph(za)[0],t=vn().memoizedState;return[e,t]},useMutableSource:ov,useSyncExternalStore:sv,useId:wv,unstable_isNewReconciler:!1},aT={readContext:gn,useCallback:gv,useContext:gn,useEffect:Id,useImperativeHandle:_v,useInsertionEffect:dv,useLayoutEffect:pv,useMemo:vv,useReducer:mh,useRef:fv,useState:function(){return mh(za)},useDebugValue:Sd,useDeferredValue:function(e){var t=vn();return ue===null?t.memoizedState=e:yv(t,ue.memoizedState,e)},useTransition:function(){var e=mh(za)[0],t=vn().memoizedState;return[e,t]},useMutableSource:ov,useSyncExternalStore:sv,useId:wv,unstable_isNewReconciler:!1};function An(e,t){if(e&&e.defaultProps){t=Zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vc={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=je(),o=Xi(e),a=mi(i,o);a.payload=t,n!=null&&(a.callback=n),t=Qi(e,a,o),t!==null&&(Ln(t,e,o,i),mu(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=je(),o=Xi(e),a=mi(i,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Qi(e,a,o),t!==null&&(Ln(t,e,o,i),mu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=je(),i=Xi(e),o=mi(n,i);o.tag=2,t!=null&&(o.callback=t),t=Qi(e,o,i),t!==null&&(Ln(t,e,i,n),mu(t,e,i))}};function Cm(e,t,n,i,o,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,u):t.prototype&&t.prototype.isPureReactComponent?!Ra(n,i)||!Ra(o,a):!0}function Iv(e,t,n){var i=!1,o=or,a=t.contextType;return typeof a=="object"&&a!==null?a=gn(a):(o=Ge(t)?Dr:ze.current,i=t.contextTypes,a=(i=i!=null)?Bo(e,o):or),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function xm(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function af(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},gd(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=gn(a):(a=Ge(t)?Dr:ze.current,o.context=Bo(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sf(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&vc.enqueueReplaceState(o,o.state,null),$u(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ho(e,t){try{var n="",i=t;do n+=Ow(i),i=i.return;while(i);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function _h(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function lf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lT=typeof WeakMap=="function"?WeakMap:Map;function Sv(e,t,n){n=mi(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ku||(Ku=!0,vf=i),lf(e,t)},n}function Av(e,t,n){n=mi(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){lf(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){lf(e,t),typeof i!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function km(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new lT;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=TT.bind(null,e,t,n),t.then(e,e))}function Rm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lm(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mi(-1,1),t.tag=2,Qi(n,t,1))),n.lanes|=1),e)}var uT=Ii.ReactCurrentOwner,qe=!1;function Ue(e,t,n,i){t.child=e===null?ev(t,null,n,i):jo(t,e.child,n,i)}function Mm(e,t,n,i,o){n=n.render;var a=t.ref;return Oo(t,o),i=Td(e,t,n,i,a,o),n=Pd(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,wi(e,t,o)):(Bt&&n&&cd(t),t.flags|=1,Ue(e,t,i,o),t.child)}function Nm(e,t,n,i,o){if(e===null){var a=n.type;return typeof a=="function"&&!Nd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Cv(e,t,a,i,o)):(e=Eu(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ra,n(u,i)&&e.ref===t.ref)return wi(e,t,o)}return t.flags|=1,e=Ji(a,i),e.ref=t.ref,e.return=t,t.child=e}function Cv(e,t,n,i,o){if(e!==null){var a=e.memoizedProps;if(Ra(a,i)&&e.ref===t.ref)if(qe=!1,t.pendingProps=i=a,(e.lanes&o)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,wi(e,t,o)}return uf(e,t,n,i,o)}function xv(e,t,n){var i=t.pendingProps,o=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Ro,Je),Je|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(Ro,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,Ot(Ro,Je),Je|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,Ot(Ro,Je),Je|=i;return Ue(e,t,o,n),t.child}function kv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function uf(e,t,n,i,o){var a=Ge(n)?Dr:ze.current;return a=Bo(t,a),Oo(t,o),n=Td(e,t,n,i,a,o),i=Pd(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,wi(e,t,o)):(Bt&&i&&cd(t),t.flags|=1,Ue(e,t,n,o),t.child)}function Dm(e,t,n,i,o){if(Ge(n)){var a=!0;bu(t)}else a=!1;if(Oo(t,o),t.stateNode===null)vu(e,t),Iv(t,n,i),af(t,n,i,o),i=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var d=u.context,g=n.contextType;typeof g=="object"&&g!==null?g=gn(g):(g=Ge(n)?Dr:ze.current,g=Bo(t,g));var w=n.getDerivedStateFromProps,T=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";T||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==i||d!==g)&&xm(t,u,i,g),Bi=!1;var P=t.memoizedState;u.state=P,$u(t,i,u,o),d=t.memoizedState,h!==i||P!==d||Ke.current||Bi?(typeof w=="function"&&(sf(t,n,w,i),d=t.memoizedState),(h=Bi||Cm(t,n,h,i,P,d,g))?(T||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=d),u.props=i,u.state=d,u.context=g,i=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,iv(e,t),h=t.memoizedProps,g=t.type===t.elementType?h:An(t.type,h),u.props=g,T=t.pendingProps,P=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=gn(d):(d=Ge(n)?Dr:ze.current,d=Bo(t,d));var D=n.getDerivedStateFromProps;(w=typeof D=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==T||P!==d)&&xm(t,u,i,d),Bi=!1,P=t.memoizedState,u.state=P,$u(t,i,u,o);var F=t.memoizedState;h!==T||P!==F||Ke.current||Bi?(typeof D=="function"&&(sf(t,n,D,i),F=t.memoizedState),(g=Bi||Cm(t,n,g,i,P,F,d)||!1)?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,F,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,F,d)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=F),u.props=i,u.state=F,u.context=d,i=g):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),i=!1)}return cf(e,t,n,i,a,o)}function cf(e,t,n,i,o,a){kv(e,t);var u=(t.flags&128)!==0;if(!i&&!u)return o&&ym(t,n,!1),wi(e,t,a);i=t.stateNode,uT.current=t;var h=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&u?(t.child=jo(t,e.child,null,a),t.child=jo(t,null,h,a)):Ue(e,t,h,a),t.memoizedState=i.state,o&&ym(t,n,!0),t.child}function Rv(e){var t=e.stateNode;t.pendingContext?vm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vm(e,t.context,!1),vd(e,t.containerInfo)}function Om(e,t,n,i,o){return Uo(),fd(o),t.flags|=256,Ue(e,t,n,i),t.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lv(e,t,n){var i=t.pendingProps,o=Ht.current,a=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(o&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ot(Ht,o&1),e===null)return rf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Ec(u,i,0,null),e=Mr(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ff(n),t.memoizedState=hf,e):Ad(t,u));if(o=e.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return cT(e,t,u,i,h,o,n);if(a){a=i.fallback,u=t.mode,o=e.child,h=o.sibling;var d={mode:"hidden",children:i.children};return!(u&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=d,t.deletions=null):(i=Ji(o,d),i.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=Ji(h,a):(a=Mr(a,u,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=e.child.memoizedState,u=u===null?ff(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=hf,i}return a=e.child,e=a.sibling,i=Ji(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ad(e,t){return t=Ec({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function eu(e,t,n,i){return i!==null&&fd(i),jo(t,e.child,null,n),e=Ad(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cT(e,t,n,i,o,a,u){if(n)return t.flags&256?(t.flags&=-257,i=_h(Error(K(422))),eu(e,t,u,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,o=t.mode,i=Ec({mode:"visible",children:i.children},o,0,null),a=Mr(a,o,u,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&jo(t,e.child,null,u),t.child.memoizedState=ff(u),t.memoizedState=hf,a);if(!(t.mode&1))return eu(e,t,u,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var h=i.dgst;return i=h,a=Error(K(419)),i=_h(a,i,void 0),eu(e,t,u,i)}if(h=(u&e.childLanes)!==0,qe||h){if(i=ve,i!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,yi(e,o),Ln(i,e,o,-1))}return Md(),i=_h(Error(K(421))),eu(e,t,u,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=PT.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,tn=Gi(o.nextSibling),en=t,Bt=!0,xn=null,e!==null&&(hn[fn++]=di,hn[fn++]=pi,hn[fn++]=Or,di=e.id,pi=e.overflow,Or=t),t=Ad(t,i.children),t.flags|=4096,t)}function Vm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),of(e.return,t,n)}function gh(e,t,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o)}function Mv(e,t,n){var i=t.pendingProps,o=i.revealOrder,a=i.tail;if(Ue(e,t,i.children,n),i=Ht.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vm(e,n,t);else if(e.tag===19)Vm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ot(Ht,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Hu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),gh(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Hu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}gh(t,!0,n,null,a);break;case"together":gh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Ji(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ji(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hT(e,t,n){switch(t.tag){case 3:Rv(t),Uo();break;case 5:rv(t);break;case 1:Ge(t.type)&&bu(t);break;case 4:vd(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;Ot(Uu,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ot(Ht,Ht.current&1),t.flags|=128,null):n&t.child.childLanes?Lv(e,t,n):(Ot(Ht,Ht.current&1),e=wi(e,t,n),e!==null?e.sibling:null);Ot(Ht,Ht.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Mv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ot(Ht,Ht.current),i)break;return null;case 22:case 23:return t.lanes=0,xv(e,t,n)}return wi(e,t,n)}var Nv,df,Dv,Ov;Nv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};df=function(){};Dv=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,kr(Hn.current);var a=null;switch(n){case"input":o=Dh(e,o),i=Dh(e,i),a=[];break;case"select":o=Zt({},o,{value:void 0}),i=Zt({},i,{value:void 0}),a=[];break;case"textarea":o=zh(e,o),i=zh(e,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Vu)}Fh(n,i);var u;n=null;for(g in o)if(!i.hasOwnProperty(g)&&o.hasOwnProperty(g)&&o[g]!=null)if(g==="style"){var h=o[g];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Pa.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in i){var d=i[g];if(h=o!=null?o[g]:void 0,i.hasOwnProperty(g)&&d!==h&&(d!=null||h!=null))if(g==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(g,n)),n=d;else g==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(g,d)):g==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(g,""+d):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(g)?(d!=null&&g==="onScroll"&&zt("scroll",e),a||h===d||(a=[])):(a=a||[]).push(g,d))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};Ov=function(e,t,n,i){n!==i&&(t.flags|=4)};function ta(e,t){if(!Bt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function fT(e,t,n){var i=t.pendingProps;switch(hd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ge(t.type)&&zu(),Me(t),null;case 3:return i=t.stateNode,$o(),bt(Ke),bt(ze),wd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xn!==null&&(Ef(xn),xn=null))),df(e,t),Me(t),null;case 5:yd(t);var o=kr(Oa.current);if(n=t.type,e!==null&&t.stateNode!=null)Dv(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(K(166));return Me(t),null}if(e=kr(Hn.current),Jl(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[jn]=t,i[Na]=a,e=(t.mode&1)!==0,n){case"dialog":zt("cancel",i),zt("close",i);break;case"iframe":case"object":case"embed":zt("load",i);break;case"video":case"audio":for(o=0;o<sa.length;o++)zt(sa[o],i);break;case"source":zt("error",i);break;case"img":case"image":case"link":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"input":Wp(i,a),zt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},zt("invalid",i);break;case"textarea":qp(i,a),zt("invalid",i)}Fh(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?i.textContent!==h&&(a.suppressHydrationWarning!==!0&&Xl(i.textContent,h,e),o=["children",h]):typeof h=="number"&&i.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Xl(i.textContent,h,e),o=["children",""+h]):Pa.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&zt("scroll",i)}switch(n){case"input":Hl(i),Zp(i,a,!0);break;case"textarea":Hl(i),Kp(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Vu)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ug(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),n==="select"&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[jn]=t,e[Na]=i,Nv(e,t,!1,!1),t.stateNode=e;t:{switch(u=Bh(n,i),n){case"dialog":zt("cancel",e),zt("close",e),o=i;break;case"iframe":case"object":case"embed":zt("load",e),o=i;break;case"video":case"audio":for(o=0;o<sa.length;o++)zt(sa[o],e);o=i;break;case"source":zt("error",e),o=i;break;case"img":case"image":case"link":zt("error",e),zt("load",e),o=i;break;case"details":zt("toggle",e),o=i;break;case"input":Wp(e,i),o=Dh(e,i),zt("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Zt({},i,{value:void 0}),zt("invalid",e);break;case"textarea":qp(e,i),o=zh(e,i),zt("invalid",e);break;default:o=i}Fh(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?fg(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&cg(e,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ia(e,d):typeof d=="number"&&Ia(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pa.hasOwnProperty(a)?d!=null&&a==="onScroll"&&zt("scroll",e):d!=null&&Qf(e,a,d,u))}switch(n){case"input":Hl(e),Zp(e,i,!1);break;case"textarea":Hl(e),Kp(e);break;case"option":i.value!=null&&e.setAttribute("value",""+rr(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Lo(e,!!i.multiple,a,!1):i.defaultValue!=null&&Lo(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Vu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Ov(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(K(166));if(n=kr(Oa.current),kr(Hn.current),Jl(t)){if(i=t.stateNode,n=t.memoizedProps,i[jn]=t,(a=i.nodeValue!==n)&&(e=en,e!==null))switch(e.tag){case 3:Xl(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xl(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[jn]=t,t.stateNode=i}return Me(t),null;case 13:if(bt(Ht),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bt&&tn!==null&&t.mode&1&&!(t.flags&128))Jg(),Uo(),t.flags|=98560,a=!1;else if(a=Jl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(K(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(K(317));a[jn]=t}else Uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),a=!1}else xn!==null&&(Ef(xn),xn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ht.current&1?he===0&&(he=3):Md())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return $o(),df(e,t),e===null&&La(t.stateNode.containerInfo),Me(t),null;case 10:return md(t.type._context),Me(t),null;case 17:return Ge(t.type)&&zu(),Me(t),null;case 19:if(bt(Ht),a=t.memoizedState,a===null)return Me(t),null;if(i=(t.flags&128)!==0,u=a.rendering,u===null)if(i)ta(a,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Hu(e),u!==null){for(t.flags|=128,ta(a,!1),i=u.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ot(Ht,Ht.current&1|2),t.child}e=e.sibling}a.tail!==null&&Xt()>Wo&&(t.flags|=128,i=!0,ta(a,!1),t.lanes=4194304)}else{if(!i)if(e=Hu(u),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ta(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!Bt)return Me(t),null}else 2*Xt()-a.renderingStartTime>Wo&&n!==1073741824&&(t.flags|=128,i=!0,ta(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xt(),t.sibling=null,n=Ht.current,Ot(Ht,i?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Ld(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Je&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function dT(e,t){switch(hd(t),t.tag){case 1:return Ge(t.type)&&zu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $o(),bt(Ke),bt(ze),wd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yd(t),null;case 13:if(bt(Ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(Ht),null;case 4:return $o(),null;case 10:return md(t.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var nu=!1,Oe=!1,pT=typeof WeakSet=="function"?WeakSet:Set,tt=null;function ko(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Gt(e,t,i)}else n.current=null}function pf(e,t,n){try{n()}catch(i){Gt(e,t,i)}}var zm=!1;function mT(e,t){if(Qh=Nu,e=Bg(),ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var u=0,h=-1,d=-1,g=0,w=0,T=e,P=null;e:for(;;){for(var D;T!==n||o!==0&&T.nodeType!==3||(h=u+o),T!==a||i!==0&&T.nodeType!==3||(d=u+i),T.nodeType===3&&(u+=T.nodeValue.length),(D=T.firstChild)!==null;)P=T,T=D;for(;;){if(T===e)break e;if(P===n&&++g===o&&(h=u),P===a&&++w===i&&(d=u),(D=T.nextSibling)!==null)break;T=P,P=T.parentNode}T=D}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yh={focusedElem:e,selectionRange:n},Nu=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var b=F.memoizedProps,q=F.memoizedState,R=t.stateNode,S=R.getSnapshotBeforeUpdate(t.elementType===t.type?b:An(t.type,b),q);R.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){Gt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return F=zm,zm=!1,F}function _a(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&pf(t,n,a)}o=o.next}while(o!==i)}}function yc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function mf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vv(e){var t=e.alternate;t!==null&&(e.alternate=null,Vv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jn],delete t[Na],delete t[tf],delete t[YE],delete t[XE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zv(e){return e.tag===5||e.tag===3||e.tag===4}function bm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||zv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _f(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vu));else if(i!==4&&(e=e.child,e!==null))for(_f(e,t,n),e=e.sibling;e!==null;)_f(e,t,n),e=e.sibling}function gf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(gf(e,t,n),e=e.sibling;e!==null;)gf(e,t,n),e=e.sibling}var Ee=null,Cn=!1;function bi(e,t,n){for(n=n.child;n!==null;)bv(e,t,n),n=n.sibling}function bv(e,t,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(hc,n)}catch{}switch(n.tag){case 5:Oe||ko(n,t);case 6:var i=Ee,o=Cn;Ee=null,bi(e,t,n),Ee=i,Cn=o,Ee!==null&&(Cn?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(Cn?(e=Ee,n=n.stateNode,e.nodeType===8?ch(e.parentNode,n):e.nodeType===1&&ch(e,n),xa(e)):ch(Ee,n.stateNode));break;case 4:i=Ee,o=Cn,Ee=n.stateNode.containerInfo,Cn=!0,bi(e,t,n),Ee=i,Cn=o;break;case 0:case 11:case 14:case 15:if(!Oe&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&pf(n,t,u),o=o.next}while(o!==i)}bi(e,t,n);break;case 1:if(!Oe&&(ko(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(h){Gt(n,t,h)}bi(e,t,n);break;case 21:bi(e,t,n);break;case 22:n.mode&1?(Oe=(i=Oe)||n.memoizedState!==null,bi(e,t,n),Oe=i):bi(e,t,n);break;default:bi(e,t,n)}}function Fm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pT),t.forEach(function(i){var o=IT.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function Sn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var a=e,u=t,h=u;t:for(;h!==null;){switch(h.tag){case 5:Ee=h.stateNode,Cn=!1;break t;case 3:Ee=h.stateNode.containerInfo,Cn=!0;break t;case 4:Ee=h.stateNode.containerInfo,Cn=!0;break t}h=h.return}if(Ee===null)throw Error(K(160));bv(a,u,o),Ee=null,Cn=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(g){Gt(o,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fv(t,e),t=t.sibling}function Fv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),Bn(e),i&4){try{_a(3,e,e.return),yc(3,e)}catch(b){Gt(e,e.return,b)}try{_a(5,e,e.return)}catch(b){Gt(e,e.return,b)}}break;case 1:Sn(t,e),Bn(e),i&512&&n!==null&&ko(n,n.return);break;case 5:if(Sn(t,e),Bn(e),i&512&&n!==null&&ko(n,n.return),e.flags&32){var o=e.stateNode;try{Ia(o,"")}catch(b){Gt(e,e.return,b)}}if(i&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,h=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&ag(o,a),Bh(h,u);var g=Bh(h,a);for(u=0;u<d.length;u+=2){var w=d[u],T=d[u+1];w==="style"?fg(o,T):w==="dangerouslySetInnerHTML"?cg(o,T):w==="children"?Ia(o,T):Qf(o,w,T,g)}switch(h){case"input":Oh(o,a);break;case"textarea":lg(o,a);break;case"select":var P=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var D=a.value;D!=null?Lo(o,!!a.multiple,D,!1):P!==!!a.multiple&&(a.defaultValue!=null?Lo(o,!!a.multiple,a.defaultValue,!0):Lo(o,!!a.multiple,a.multiple?[]:"",!1))}o[Na]=a}catch(b){Gt(e,e.return,b)}}break;case 6:if(Sn(t,e),Bn(e),i&4){if(e.stateNode===null)throw Error(K(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(b){Gt(e,e.return,b)}}break;case 3:if(Sn(t,e),Bn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{xa(t.containerInfo)}catch(b){Gt(e,e.return,b)}break;case 4:Sn(t,e),Bn(e);break;case 13:Sn(t,e),Bn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(kd=Xt())),i&4&&Fm(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(g=Oe)||w,Sn(t,e),Oe=g):Sn(t,e),Bn(e),i&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!w&&e.mode&1)for(tt=e,w=e.child;w!==null;){for(T=tt=w;tt!==null;){switch(P=tt,D=P.child,P.tag){case 0:case 11:case 14:case 15:_a(4,P,P.return);break;case 1:ko(P,P.return);var F=P.stateNode;if(typeof F.componentWillUnmount=="function"){i=P,n=P.return;try{t=i,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(b){Gt(i,n,b)}}break;case 5:ko(P,P.return);break;case 22:if(P.memoizedState!==null){Um(T);continue}}D!==null?(D.return=P,tt=D):Um(T)}w=w.sibling}t:for(w=null,T=e;;){if(T.tag===5){if(w===null){w=T;try{o=T.stateNode,g?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=T.stateNode,d=T.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=hg("display",u))}catch(b){Gt(e,e.return,b)}}}else if(T.tag===6){if(w===null)try{T.stateNode.nodeValue=g?"":T.memoizedProps}catch(b){Gt(e,e.return,b)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break t;for(;T.sibling===null;){if(T.return===null||T.return===e)break t;w===T&&(w=null),T=T.return}w===T&&(w=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:Sn(t,e),Bn(e),i&4&&Fm(e);break;case 21:break;default:Sn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(zv(n)){var i=n;break t}n=n.return}throw Error(K(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Ia(o,""),i.flags&=-33);var a=bm(e);gf(e,a,o);break;case 3:case 4:var u=i.stateNode.containerInfo,h=bm(e);_f(e,h,u);break;default:throw Error(K(161))}}catch(d){Gt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _T(e,t,n){tt=e,Bv(e)}function Bv(e,t,n){for(var i=(e.mode&1)!==0;tt!==null;){var o=tt,a=o.child;if(o.tag===22&&i){var u=o.memoizedState!==null||nu;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||Oe;h=nu;var g=Oe;if(nu=u,(Oe=d)&&!g)for(tt=o;tt!==null;)u=tt,d=u.child,u.tag===22&&u.memoizedState!==null?jm(o):d!==null?(d.return=u,tt=d):jm(o);for(;a!==null;)tt=a,Bv(a),a=a.sibling;tt=o,nu=h,Oe=g}Bm(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,tt=a):Bm(e)}}function Bm(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||yc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Oe)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:An(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Im(t,a,i);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Im(t,u,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var w=g.memoizedState;if(w!==null){var T=w.dehydrated;T!==null&&xa(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Oe||t.flags&512&&mf(t)}catch(P){Gt(t,t.return,P)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function Um(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function jm(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yc(4,t)}catch(d){Gt(t,n,d)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(d){Gt(t,o,d)}}var a=t.return;try{mf(t)}catch(d){Gt(t,a,d)}break;case 5:var u=t.return;try{mf(t)}catch(d){Gt(t,u,d)}}}catch(d){Gt(t,t.return,d)}if(t===e){tt=null;break}var h=t.sibling;if(h!==null){h.return=t.return,tt=h;break}tt=t.return}}var gT=Math.ceil,qu=Ii.ReactCurrentDispatcher,Cd=Ii.ReactCurrentOwner,mn=Ii.ReactCurrentBatchConfig,At=0,ve=null,re=null,Ie=0,Je=0,Ro=cr(0),he=0,Fa=null,zr=0,wc=0,xd=0,ga=null,Ze=null,kd=0,Wo=1/0,hi=null,Ku=!1,vf=null,Yi=null,iu=!1,Hi=null,Gu=0,va=0,yf=null,yu=-1,wu=0;function je(){return At&6?Xt():yu!==-1?yu:yu=Xt()}function Xi(e){return e.mode&1?At&2&&Ie!==0?Ie&-Ie:tT.transition!==null?(wu===0&&(wu=Ig()),wu):(e=Lt,e!==0||(e=window.event,e=e===void 0?16:Lg(e.type)),e):1}function Ln(e,t,n,i){if(50<va)throw va=0,yf=null,Error(K(185));Ya(e,n,i),(!(At&2)||e!==ve)&&(e===ve&&(!(At&2)&&(wc|=n),he===4&&ji(e,Ie)),Qe(e,i),n===1&&At===0&&!(t.mode&1)&&(Wo=Xt()+500,_c&&hr()))}function Qe(e,t){var n=e.callbackNode;tE(e,t);var i=Mu(e,e===ve?Ie:0);if(i===0)n!==null&&Yp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Yp(n),t===1)e.tag===0?JE($m.bind(null,e)):Qg($m.bind(null,e)),GE(function(){!(At&6)&&hr()}),n=null;else{switch(Sg(i)){case 1:n=ed;break;case 4:n=Tg;break;case 16:n=Lu;break;case 536870912:n=Pg;break;default:n=Lu}n=Kv(n,Uv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uv(e,t){if(yu=-1,wu=0,At&6)throw Error(K(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var i=Mu(e,e===ve?Ie:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Qu(e,i);else{t=i;var o=At;At|=2;var a=$v();(ve!==e||Ie!==t)&&(hi=null,Wo=Xt()+500,Lr(e,t));do try{wT();break}catch(h){jv(e,h)}while(1);pd(),qu.current=a,At=o,re!==null?t=0:(ve=null,Ie=0,t=he)}if(t!==0){if(t===2&&(o=Wh(e),o!==0&&(i=o,t=wf(e,o))),t===1)throw n=Fa,Lr(e,0),ji(e,i),Qe(e,Xt()),n;if(t===6)ji(e,i);else{if(o=e.current.alternate,!(i&30)&&!vT(o)&&(t=Qu(e,i),t===2&&(a=Wh(e),a!==0&&(i=a,t=wf(e,a))),t===1))throw n=Fa,Lr(e,0),ji(e,i),Qe(e,Xt()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(K(345));case 2:Sr(e,Ze,hi);break;case 3:if(ji(e,i),(i&130023424)===i&&(t=kd+500-Xt(),10<t)){if(Mu(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){je(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Jh(Sr.bind(null,e,Ze,hi),t);break}Sr(e,Ze,hi);break;case 4:if(ji(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var u=31-Rn(i);a=1<<u,u=t[u],u>o&&(o=u),i&=~a}if(i=o,i=Xt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*gT(i/1960))-i,10<i){e.timeoutHandle=Jh(Sr.bind(null,e,Ze,hi),i);break}Sr(e,Ze,hi);break;case 5:Sr(e,Ze,hi);break;default:throw Error(K(329))}}}return Qe(e,Xt()),e.callbackNode===n?Uv.bind(null,e):null}function wf(e,t){var n=ga;return e.current.memoizedState.isDehydrated&&(Lr(e,t).flags|=256),e=Qu(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Ef(t)),e}function Ef(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function vT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],a=o.getSnapshot;o=o.value;try{if(!Mn(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ji(e,t){for(t&=~xd,t&=~wc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rn(t),i=1<<n;e[n]=-1,t&=~i}}function $m(e){if(At&6)throw Error(K(327));Vo();var t=Mu(e,0);if(!(t&1))return Qe(e,Xt()),null;var n=Qu(e,t);if(e.tag!==0&&n===2){var i=Wh(e);i!==0&&(t=i,n=wf(e,i))}if(n===1)throw n=Fa,Lr(e,0),ji(e,t),Qe(e,Xt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,Ze,hi),Qe(e,Xt()),null}function Rd(e,t){var n=At;At|=1;try{return e(t)}finally{At=n,At===0&&(Wo=Xt()+500,_c&&hr())}}function br(e){Hi!==null&&Hi.tag===0&&!(At&6)&&Vo();var t=At;At|=1;var n=mn.transition,i=Lt;try{if(mn.transition=null,Lt=1,e)return e()}finally{Lt=i,mn.transition=n,At=t,!(At&6)&&hr()}}function Ld(){Je=Ro.current,bt(Ro)}function Lr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KE(n)),re!==null)for(n=re.return;n!==null;){var i=n;switch(hd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&zu();break;case 3:$o(),bt(Ke),bt(ze),wd();break;case 5:yd(i);break;case 4:$o();break;case 13:bt(Ht);break;case 19:bt(Ht);break;case 10:md(i.type._context);break;case 22:case 23:Ld()}n=n.return}if(ve=e,re=e=Ji(e.current,null),Ie=Je=t,he=0,Fa=null,xd=wc=zr=0,Ze=ga=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,i.next=u}n.pending=i}xr=null}return e}function jv(e,t){do{var n=re;try{if(pd(),_u.current=Zu,Wu){for(var i=Wt.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Wu=!1}if(Vr=0,ge=ue=Wt=null,ma=!1,Va=0,Cd.current=null,n===null||n.return===null){he=1,Fa=t,re=null;break}t:{var a=e,u=n.return,h=n,d=t;if(t=Ie,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var g=d,w=h,T=w.tag;if(!(w.mode&1)&&(T===0||T===11||T===15)){var P=w.alternate;P?(w.updateQueue=P.updateQueue,w.memoizedState=P.memoizedState,w.lanes=P.lanes):(w.updateQueue=null,w.memoizedState=null)}var D=Rm(u);if(D!==null){D.flags&=-257,Lm(D,u,h,a,t),D.mode&1&&km(a,g,t),t=D,d=g;var F=t.updateQueue;if(F===null){var b=new Set;b.add(d),t.updateQueue=b}else F.add(d);break t}else{if(!(t&1)){km(a,g,t),Md();break t}d=Error(K(426))}}else if(Bt&&h.mode&1){var q=Rm(u);if(q!==null){!(q.flags&65536)&&(q.flags|=256),Lm(q,u,h,a,t),fd(Ho(d,h));break t}}a=d=Ho(d,h),he!==4&&(he=2),ga===null?ga=[a]:ga.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var R=Sv(a,d,t);Pm(a,R);break t;case 1:h=d;var S=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Yi===null||!Yi.has(N)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Av(a,h,t);Pm(a,j);break t}}a=a.return}while(a!==null)}Wv(n)}catch(Y){t=Y,re===n&&n!==null&&(re=n=n.return);continue}break}while(1)}function $v(){var e=qu.current;return qu.current=Zu,e===null?Zu:e}function Md(){(he===0||he===3||he===2)&&(he=4),ve===null||!(zr&268435455)&&!(wc&268435455)||ji(ve,Ie)}function Qu(e,t){var n=At;At|=2;var i=$v();(ve!==e||Ie!==t)&&(hi=null,Lr(e,t));do try{yT();break}catch(o){jv(e,o)}while(1);if(pd(),At=n,qu.current=i,re!==null)throw Error(K(261));return ve=null,Ie=0,he}function yT(){for(;re!==null;)Hv(re)}function wT(){for(;re!==null&&!Ww();)Hv(re)}function Hv(e){var t=qv(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?Wv(e):re=t,Cd.current=null}function Wv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dT(n,t),n!==null){n.flags&=32767,re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,re=null;return}}else if(n=fT(n,t,Je),n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);he===0&&(he=5)}function Sr(e,t,n){var i=Lt,o=mn.transition;try{mn.transition=null,Lt=1,ET(e,t,n,i)}finally{mn.transition=o,Lt=i}return null}function ET(e,t,n,i){do Vo();while(Hi!==null);if(At&6)throw Error(K(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(eE(e,a),e===ve&&(re=ve=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,Kv(Lu,function(){return Vo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=mn.transition,mn.transition=null;var u=Lt;Lt=1;var h=At;At|=4,Cd.current=null,mT(e,n),Fv(n,e),UE(Yh),Nu=!!Qh,Yh=Qh=null,e.current=n,_T(n),Zw(),At=h,Lt=u,mn.transition=a}else e.current=n;if(iu&&(iu=!1,Hi=e,Gu=o),a=e.pendingLanes,a===0&&(Yi=null),Gw(n.stateNode),Qe(e,Xt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ku)throw Ku=!1,e=vf,vf=null,e;return Gu&1&&e.tag!==0&&Vo(),a=e.pendingLanes,a&1?e===yf?va++:(va=0,yf=e):va=0,hr(),null}function Vo(){if(Hi!==null){var e=Sg(Gu),t=mn.transition,n=Lt;try{if(mn.transition=null,Lt=16>e?16:e,Hi===null)var i=!1;else{if(e=Hi,Hi=null,Gu=0,At&6)throw Error(K(331));var o=At;for(At|=4,tt=e.current;tt!==null;){var a=tt,u=a.child;if(tt.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var g=h[d];for(tt=g;tt!==null;){var w=tt;switch(w.tag){case 0:case 11:case 15:_a(8,w,a)}var T=w.child;if(T!==null)T.return=w,tt=T;else for(;tt!==null;){w=tt;var P=w.sibling,D=w.return;if(Vv(w),w===g){tt=null;break}if(P!==null){P.return=D,tt=P;break}tt=D}}}var F=a.alternate;if(F!==null){var b=F.child;if(b!==null){F.child=null;do{var q=b.sibling;b.sibling=null,b=q}while(b!==null)}}tt=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,tt=u;else t:for(;tt!==null;){if(a=tt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_a(9,a,a.return)}var R=a.sibling;if(R!==null){R.return=a.return,tt=R;break t}tt=a.return}}var S=e.current;for(tt=S;tt!==null;){u=tt;var N=u.child;if(u.subtreeFlags&2064&&N!==null)N.return=u,tt=N;else t:for(u=S;tt!==null;){if(h=tt,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:yc(9,h)}}catch(Y){Gt(h,h.return,Y)}if(h===u){tt=null;break t}var j=h.sibling;if(j!==null){j.return=h.return,tt=j;break t}tt=h.return}}if(At=o,hr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(hc,e)}catch{}i=!0}return i}finally{Lt=n,mn.transition=t}}return!1}function Hm(e,t,n){t=Ho(n,t),t=Sv(e,t,1),e=Qi(e,t,1),t=je(),e!==null&&(Ya(e,1,t),Qe(e,t))}function Gt(e,t,n){if(e.tag===3)Hm(e,e,n);else for(;t!==null;){if(t.tag===3){Hm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Yi===null||!Yi.has(i))){e=Ho(n,e),e=Av(t,e,1),t=Qi(t,e,1),e=je(),t!==null&&(Ya(t,1,e),Qe(t,e));break}}t=t.return}}function TT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=je(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(Ie&n)===n&&(he===4||he===3&&(Ie&130023424)===Ie&&500>Xt()-kd?Lr(e,0):xd|=n),Qe(e,t)}function Zv(e,t){t===0&&(e.mode&1?(t=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):t=1);var n=je();e=yi(e,t),e!==null&&(Ya(e,t,n),Qe(e,n))}function PT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zv(e,n)}function IT(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(t),Zv(e,n)}var qv;qv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,hT(e,t,n);qe=!!(e.flags&131072)}else qe=!1,Bt&&t.flags&1048576&&Yg(t,Bu,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;vu(e,t),e=t.pendingProps;var o=Bo(t,ze.current);Oo(t,n),o=Td(null,t,i,e,o,n);var a=Pd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(i)?(a=!0,bu(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,gd(t),o.updater=vc,t.stateNode=o,o._reactInternals=t,af(t,i,e,n),t=cf(null,t,i,!0,a,n)):(t.tag=0,Bt&&a&&cd(t),Ue(null,t,o,n),t=t.child),t;case 16:i=t.elementType;t:{switch(vu(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=AT(i),e=An(i,e),o){case 0:t=uf(null,t,i,e,n);break t;case 1:t=Dm(null,t,i,e,n);break t;case 11:t=Mm(null,t,i,e,n);break t;case 14:t=Nm(null,t,i,An(i.type,e),n);break t}throw Error(K(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:An(i,o),uf(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:An(i,o),Dm(e,t,i,o,n);case 3:t:{if(Rv(t),e===null)throw Error(K(387));i=t.pendingProps,a=t.memoizedState,o=a.element,iv(e,t),$u(t,i,null,n);var u=t.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Ho(Error(K(423)),t),t=Om(e,t,i,n,o);break t}else if(i!==o){o=Ho(Error(K(424)),t),t=Om(e,t,i,n,o);break t}else for(tn=Gi(t.stateNode.containerInfo.firstChild),en=t,Bt=!0,xn=null,n=ev(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),i===o){t=wi(e,t,n);break t}Ue(e,t,i,n)}t=t.child}return t;case 5:return rv(t),e===null&&rf(t),i=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,u=o.children,Xh(i,o)?u=null:a!==null&&Xh(i,a)&&(t.flags|=32),kv(e,t),Ue(e,t,u,n),t.child;case 6:return e===null&&rf(t),null;case 13:return Lv(e,t,n);case 4:return vd(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=jo(t,null,i,n):Ue(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:An(i,o),Mm(e,t,i,o,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,Ot(Uu,i._currentValue),i._currentValue=u,a!==null)if(Mn(a.value,u)){if(a.children===o.children&&!Ke.current){t=wi(e,t,n);break t}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===i){if(a.tag===1){d=mi(-1,n&-n),d.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var w=g.pending;w===null?d.next=d:(d.next=w.next,w.next=d),g.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),of(a.return,n,t),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(K(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),of(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ue(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Oo(t,n),o=gn(o),i=i(o),t.flags|=1,Ue(e,t,i,n),t.child;case 14:return i=t.type,o=An(i,t.pendingProps),o=An(i.type,o),Nm(e,t,i,o,n);case 15:return Cv(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:An(i,o),vu(e,t),t.tag=1,Ge(i)?(e=!0,bu(t)):e=!1,Oo(t,n),Iv(t,i,o),af(t,i,o,n),cf(null,t,i,!0,e,n);case 19:return Mv(e,t,n);case 22:return xv(e,t,n)}throw Error(K(156,t.tag))};function Kv(e,t){return Eg(e,t)}function ST(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,n,i){return new ST(e,t,n,i)}function Nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AT(e){if(typeof e=="function")return Nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xf)return 11;if(e===Jf)return 14}return 2}function Ji(e,t){var n=e.alternate;return n===null?(n=pn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eu(e,t,n,i,o,a){var u=2;if(i=e,typeof e=="function")Nd(e)&&(u=1);else if(typeof e=="string")u=5;else t:switch(e){case wo:return Mr(n.children,o,a,t);case Yf:u=8,o|=8;break;case Rh:return e=pn(12,n,t,o|2),e.elementType=Rh,e.lanes=a,e;case Lh:return e=pn(13,n,t,o),e.elementType=Lh,e.lanes=a,e;case Mh:return e=pn(19,n,t,o),e.elementType=Mh,e.lanes=a,e;case rg:return Ec(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ng:u=10;break t;case ig:u=9;break t;case Xf:u=11;break t;case Jf:u=14;break t;case Fi:u=16,i=null;break t}throw Error(K(130,e==null?e:typeof e,""))}return t=pn(u,n,t,o),t.elementType=e,t.type=i,t.lanes=a,t}function Mr(e,t,n,i){return e=pn(7,e,i,t),e.lanes=n,e}function Ec(e,t,n,i){return e=pn(22,e,i,t),e.elementType=rg,e.lanes=n,e.stateNode={isHidden:!1},e}function vh(e,t,n){return e=pn(6,e,null,t),e.lanes=n,e}function yh(e,t,n){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CT(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jc(0),this.expirationTimes=Jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Dd(e,t,n,i,o,a,u,h,d){return e=new CT(e,t,n,h,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=pn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gd(a),e}function xT(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Gv(e){if(!e)return or;e=e._reactInternals;t:{if($r(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(Ge(n))return Gg(e,n,t)}return t}function Qv(e,t,n,i,o,a,u,h,d){return e=Dd(n,i,!0,e,o,a,u,h,d),e.context=Gv(null),n=e.current,i=je(),o=Xi(n),a=mi(i,o),a.callback=t??null,Qi(n,a,o),e.current.lanes=o,Ya(e,o,i),Qe(e,i),e}function Tc(e,t,n,i){var o=t.current,a=je(),u=Xi(o);return n=Gv(n),t.context===null?t.context=n:t.pendingContext=n,t=mi(a,u),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Qi(o,t,u),e!==null&&(Ln(e,o,u,a),mu(e,o,u)),u}function Yu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Od(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}function kT(){return null}var Yv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vd(e){this._internalRoot=e}Pc.prototype.render=Vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Tc(e,t,null,null)};Pc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){Tc(null,e,null,null)}),t[vi]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ui.length&&t!==0&&t<Ui[n].priority;n++);Ui.splice(n,0,e),n===0&&Rg(e)}};function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function RT(e,t,n,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var g=Yu(u);a.call(g)}}var u=Qv(t,i,e,0,null,!1,!1,"",Zm);return e._reactRootContainer=u,e[vi]=u.current,La(e.nodeType===8?e.parentNode:e),br(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var h=i;i=function(){var g=Yu(d);h.call(g)}}var d=Dd(e,0,!1,null,null,!1,!1,"",Zm);return e._reactRootContainer=d,e[vi]=d.current,La(e.nodeType===8?e.parentNode:e),br(function(){Tc(t,d,n,i)}),d}function Sc(e,t,n,i,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=Yu(u);h.call(d)}}Tc(t,u,e,o)}else u=RT(n,t,e,o,i);return Yu(u)}Ag=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oa(t.pendingLanes);n!==0&&(nd(t,n|1),Qe(t,Xt()),!(At&6)&&(Wo=Xt()+500,hr()))}break;case 13:br(function(){var i=yi(e,1);if(i!==null){var o=je();Ln(i,e,1,o)}}),Od(e,1)}};id=function(e){if(e.tag===13){var t=yi(e,134217728);if(t!==null){var n=je();Ln(t,e,134217728,n)}Od(e,134217728)}};Cg=function(e){if(e.tag===13){var t=Xi(e),n=yi(e,t);if(n!==null){var i=je();Ln(n,e,t,i)}Od(e,t)}};xg=function(){return Lt};kg=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}};jh=function(e,t,n){switch(t){case"input":if(Oh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=mc(i);if(!o)throw Error(K(90));sg(i),Oh(i,o)}}}break;case"textarea":lg(e,n);break;case"select":t=n.value,t!=null&&Lo(e,!!n.multiple,t,!1)}};mg=Rd;_g=br;var LT={usingClientEntryPoint:!1,Events:[Ja,Io,mc,dg,pg,Rd]},ea={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MT={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yg(e),e===null?null:e.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||kT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{hc=ru.inject(MT),$n=ru}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LT;rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(t))throw Error(K(200));return xT(e,t,null,n)};rn.createRoot=function(e,t){if(!zd(e))throw Error(K(299));var n=!1,i="",o=Yv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Dd(e,1,!1,null,null,n,!1,i,o),e[vi]=t.current,La(e.nodeType===8?e.parentNode:e),new Vd(t)};rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=yg(t),e=e===null?null:e.stateNode,e};rn.flushSync=function(e){return br(e)};rn.hydrate=function(e,t,n){if(!Ic(t))throw Error(K(200));return Sc(null,e,t,!0,n)};rn.hydrateRoot=function(e,t,n){if(!zd(e))throw Error(K(405));var i=n!=null&&n.hydratedSources||null,o=!1,a="",u=Yv;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Qv(t,null,e,1,n??null,o,!1,a,u),e[vi]=t.current,La(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Pc(t)};rn.render=function(e,t,n){if(!Ic(t))throw Error(K(200));return Sc(null,e,t,!1,n)};rn.unmountComponentAtNode=function(e){if(!Ic(e))throw Error(K(40));return e._reactRootContainer?(br(function(){Sc(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1};rn.unstable_batchedUpdates=Rd;rn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ic(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Sc(e,t,n,!1,i)};rn.version="18.3.1-next-f1338f8080-20240426";function Xv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xv)}catch(e){console.error(e)}}Xv(),X_.exports=rn;var Jv=X_.exports,qm=Jv;xh.createRoot=qm.createRoot,xh.hydrateRoot=qm.hydrateRoot;function ty(e,t){const n=xt.useRef(t);xt.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const NT=1;function DT(e){return Object.freeze({__version:NT,map:e})}function OT(e,t){return Object.freeze({...e,...t})}const ey=xt.createContext(null),ny=ey.Provider;function iy(){const e=xt.useContext(ey);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function VT(e){function t(n,i){const{instance:o,context:a}=e(n).current;return xt.useImperativeHandle(i,()=>o),n.children==null?null:Cu.createElement(ny,{value:a},n.children)}return xt.forwardRef(t)}function zT(e){function t(n,i){const[o,a]=xt.useState(!1),{instance:u}=e(n,a).current;xt.useImperativeHandle(i,()=>u),xt.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?Jv.createPortal(n.children,h):null}return xt.forwardRef(t)}function bT(e){function t(n,i){const{instance:o}=e(n).current;return xt.useImperativeHandle(i,()=>o),null}return xt.forwardRef(t)}function ry(e,t){const n=xt.useRef();xt.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function bd(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function FT(e,t){return function(i,o){const a=iy(),u=e(bd(i,a),a);return ty(a.map,i.attribution),ry(u.current,i.eventHandlers),t(u.current,a,i,o),u}}var Tf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(sw,function(n){var i="1.9.4";function o(r){var s,c,f,m;for(c=1,f=arguments.length;c<f;c++){m=arguments[c];for(s in m)r[s]=m[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var c=Array.prototype.slice;if(r.bind)return r.bind.apply(r,c.call(arguments,1));var f=c.call(arguments,2);return function(){return r.apply(s,f.length?f.concat(c.call(arguments)):arguments)}}var h=0;function d(r){return"_leaflet_id"in r||(r._leaflet_id=++h),r._leaflet_id}function g(r,s,c){var f,m,v,C;return C=function(){f=!1,m&&(v.apply(c,m),m=!1)},v=function(){f?m=arguments:(r.apply(c,arguments),setTimeout(C,s),f=!0)},v}function w(r,s,c){var f=s[1],m=s[0],v=f-m;return r===f&&c?r:((r-m)%v+v)%v+m}function T(){return!1}function P(r,s){if(s===!1)return r;var c=Math.pow(10,s===void 0?6:s);return Math.round(r*c)/c}function D(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function F(r){return D(r).split(/\s+/)}function b(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var c in s)r.options[c]=s[c];return r.options}function q(r,s,c){var f=[];for(var m in r)f.push(encodeURIComponent(c?m.toUpperCase():m)+"="+encodeURIComponent(r[m]));return(!s||s.indexOf("?")===-1?"?":"&")+f.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function S(r,s){return r.replace(R,function(c,f){var m=s[f];if(m===void 0)throw new Error("No value provided for variable "+c);return typeof m=="function"&&(m=m(s)),m})}var N=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function j(r,s){for(var c=0;c<r.length;c++)if(r[c]===s)return c;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function X(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var A=0;function E(r){var s=+new Date,c=Math.max(0,16-(s-A));return A=s+c,window.setTimeout(r,c)}var I=window.requestAnimationFrame||X("RequestAnimationFrame")||E,k=window.cancelAnimationFrame||X("CancelAnimationFrame")||X("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function M(r,s,c){if(c&&I===E)r.call(s);else return I.call(window,u(r,s))}function O(r){r&&k.call(window,r)}var x={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:g,wrapNum:w,falseFn:T,formatNum:P,trim:D,splitWords:F,setOptions:b,getParamString:q,template:S,isArray:N,indexOf:j,emptyImageUrl:Y,requestFn:I,cancelFn:k,requestAnimFrame:M,cancelAnimFrame:O};function Kt(){}Kt.extend=function(r){var s=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,f=a(c);f.constructor=s,s.prototype=f;for(var m in this)Object.prototype.hasOwnProperty.call(this,m)&&m!=="prototype"&&m!=="__super__"&&(s[m]=this[m]);return r.statics&&o(s,r.statics),r.includes&&(Gn(r.includes),o.apply(null,[f].concat(r.includes))),o(f,r),delete f.statics,delete f.includes,f.options&&(f.options=c.options?a(c.options):{},o(f.options,r.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,C=f._initHooks.length;v<C;v++)f._initHooks[v].call(this)}},s},Kt.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},Kt.mergeOptions=function(r){return o(this.prototype.options,r),this},Kt.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),c=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Gn(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=N(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(r,s,c){if(typeof r=="object")for(var f in r)this._on(f,r[f],s);else{r=F(r);for(var m=0,v=r.length;m<v;m++)this._on(r[m],s,c)}return this},off:function(r,s,c){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var f in r)this._off(f,r[f],s);else{r=F(r);for(var m=arguments.length===1,v=0,C=r.length;v<C;v++)m?this._off(r[v]):this._off(r[v],s,c)}return this},_on:function(r,s,c,f){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,c)===!1){c===this&&(c=void 0);var m={fn:s,ctx:c};f&&(m.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(m)}},_off:function(r,s,c){var f,m,v;if(this._events&&(f=this._events[r],!!f)){if(arguments.length===1){if(this._firingCount)for(m=0,v=f.length;m<v;m++)f[m].fn=T;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var C=this._listens(r,s,c);if(C!==!1){var z=f[C];this._firingCount&&(z.fn=T,this._events[r]=f=f.slice()),f.splice(C,1)}}},fire:function(r,s,c){if(!this.listens(r,c))return this;var f=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var m=this._events[r];if(m){this._firingCount=this._firingCount+1||1;for(var v=0,C=m.length;v<C;v++){var z=m[v],B=z.fn;z.once&&this.off(r,B,z.ctx),B.call(z.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(r,s,c,f){typeof r!="string"&&console.warn('"string" type argument expected');var m=s;typeof s!="function"&&(f=!!s,m=void 0,c=void 0);var v=this._events&&this._events[r];if(v&&v.length&&this._listens(r,m,c)!==!1)return!0;if(f){for(var C in this._eventParents)if(this._eventParents[C].listens(r,s,c,f))return!0}return!1},_listens:function(r,s,c){if(!this._events)return!1;var f=this._events[r]||[];if(!s)return!!f.length;c===this&&(c=void 0);for(var m=0,v=f.length;m<v;m++)if(f[m].fn===s&&f[m].ctx===c)return m;return!1},once:function(r,s,c){if(typeof r=="object")for(var f in r)this._on(f,r[f],s,!0);else{r=F(r);for(var m=0,v=r.length;m<v;m++)this._on(r[m],s,c,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[d(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[d(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var be=Kt.extend(oe);function $(r,s,c){this.x=c?Math.round(r):r,this.y=c?Math.round(s):s}var st=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(r){return this.clone()._add(G(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(G(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new $(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new $(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=st(this.x),this.y=st(this.y),this},distanceTo:function(r){r=G(r);var s=r.x-this.x,c=r.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(r){return r=G(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=G(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function G(r,s,c){return r instanceof $?r:N(r)?new $(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new $(r.x,r.y):new $(r,s,c)}function at(r,s){if(r)for(var c=s?[r,s]:r,f=0,m=c.length;f<m;f++)this.extend(c[f])}at.prototype={extend:function(r){var s,c;if(!r)return this;if(r instanceof $||typeof r[0]=="number"||"x"in r)s=c=G(r);else if(r=pt(r),s=r.min,c=r.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(r){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,c;return typeof r[0]=="number"||r instanceof $?r=G(r):r=pt(r),r instanceof at?(s=r.min,c=r.max):s=c=r,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(r){r=pt(r);var s=this.min,c=this.max,f=r.min,m=r.max,v=m.x>=s.x&&f.x<=c.x,C=m.y>=s.y&&f.y<=c.y;return v&&C},overlaps:function(r){r=pt(r);var s=this.min,c=this.max,f=r.min,m=r.max,v=m.x>s.x&&f.x<c.x,C=m.y>s.y&&f.y<c.y;return v&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,c=this.max,f=Math.abs(s.x-c.x)*r,m=Math.abs(s.y-c.y)*r;return pt(G(s.x-f,s.y-m),G(c.x+f,c.y+m))},equals:function(r){return r?(r=pt(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function pt(r,s){return!r||r instanceof at?r:new at(r,s)}function wt(r,s){if(r)for(var c=s?[r,s]:r,f=0,m=c.length;f<m;f++)this.extend(c[f])}wt.prototype={extend:function(r){var s=this._southWest,c=this._northEast,f,m;if(r instanceof _t)f=r,m=r;else if(r instanceof wt){if(f=r._southWest,m=r._northEast,!f||!m)return this}else return r?this.extend(ct(r)||kt(r)):this;return!s&&!c?(this._southWest=new _t(f.lat,f.lng),this._northEast=new _t(m.lat,m.lng)):(s.lat=Math.min(f.lat,s.lat),s.lng=Math.min(f.lng,s.lng),c.lat=Math.max(m.lat,c.lat),c.lng=Math.max(m.lng,c.lng)),this},pad:function(r){var s=this._southWest,c=this._northEast,f=Math.abs(s.lat-c.lat)*r,m=Math.abs(s.lng-c.lng)*r;return new wt(new _t(s.lat-f,s.lng-m),new _t(c.lat+f,c.lng+m))},getCenter:function(){return new _t((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _t(this.getNorth(),this.getWest())},getSouthEast:function(){return new _t(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof _t||"lat"in r?r=ct(r):r=kt(r);var s=this._southWest,c=this._northEast,f,m;return r instanceof wt?(f=r.getSouthWest(),m=r.getNorthEast()):f=m=r,f.lat>=s.lat&&m.lat<=c.lat&&f.lng>=s.lng&&m.lng<=c.lng},intersects:function(r){r=kt(r);var s=this._southWest,c=this._northEast,f=r.getSouthWest(),m=r.getNorthEast(),v=m.lat>=s.lat&&f.lat<=c.lat,C=m.lng>=s.lng&&f.lng<=c.lng;return v&&C},overlaps:function(r){r=kt(r);var s=this._southWest,c=this._northEast,f=r.getSouthWest(),m=r.getNorthEast(),v=m.lat>s.lat&&f.lat<c.lat,C=m.lng>s.lng&&f.lng<c.lng;return v&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=kt(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function kt(r,s){return r instanceof wt?r:new wt(r,s)}function _t(r,s,c){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,c!==void 0&&(this.alt=+c)}_t.prototype={equals:function(r,s){if(!r)return!1;r=ct(r);var c=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return c<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+P(this.lat,r)+", "+P(this.lng,r)+")"},distanceTo:function(r){return Nn.distance(this,ct(r))},wrap:function(){return Nn.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,c=s/Math.cos(Math.PI/180*this.lat);return kt([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new _t(this.lat,this.lng,this.alt)}};function ct(r,s,c){return r instanceof _t?r:N(r)&&typeof r[0]!="object"?r.length===3?new _t(r[0],r[1],r[2]):r.length===2?new _t(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new _t(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new _t(r,s,c)}var Jt={latLngToPoint:function(r,s){var c=this.projection.project(r),f=this.scale(s);return this.transformation._transform(c,f)},pointToLatLng:function(r,s){var c=this.scale(s),f=this.transformation.untransform(r,c);return this.projection.unproject(f)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(r),f=this.transformation.transform(s.min,c),m=this.transformation.transform(s.max,c);return new at(f,m)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?w(r.lng,this.wrapLng,!0):r.lng,c=this.wrapLat?w(r.lat,this.wrapLat,!0):r.lat,f=r.alt;return new _t(c,s,f)},wrapLatLngBounds:function(r){var s=r.getCenter(),c=this.wrapLatLng(s),f=s.lat-c.lat,m=s.lng-c.lng;if(f===0&&m===0)return r;var v=r.getSouthWest(),C=r.getNorthEast(),z=new _t(v.lat-f,v.lng-m),B=new _t(C.lat-f,C.lng-m);return new wt(z,B)}},Nn=o({},Jt,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var c=Math.PI/180,f=r.lat*c,m=s.lat*c,v=Math.sin((s.lat-r.lat)*c/2),C=Math.sin((s.lng-r.lng)*c/2),z=v*v+Math.cos(f)*Math.cos(m)*C*C,B=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*B}}),al=6378137,Si={R:al,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,r.lat),-c),m=Math.sin(f*s);return new $(this.R*r.lng*s,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(r){var s=180/Math.PI;return new _t((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=al*Math.PI;return new at([-r,-r],[r,r])}()};function Ai(r,s,c,f){if(N(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=c,this._d=f}Ai.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new $((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function Qn(r,s,c,f){return new Ai(r,s,c,f)}var fr=o({},Nn,{code:"EPSG:3857",projection:Si,transformation:function(){var r=.5/(Math.PI*Si.R);return Qn(r,.5,-r,.5)}()}),as=o({},fr,{code:"EPSG:900913"});function Zr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ls(r,s){var c="",f,m,v,C,z,B;for(f=0,v=r.length;f<v;f++){for(z=r[f],m=0,C=z.length;m<C;m++)B=z[m],c+=(m?"L":"M")+B.x+" "+B.y;c+=s?nt.svg?"z":"x":""}return c||"M0 0"}var qr=document.documentElement.style,Kr="ActiveXObject"in window,ll=Kr&&!document.addEventListener,us="msLaunchUri"in navigator&&!("documentMode"in document),dr=xe("webkit"),cs=xe("android"),ul=xe("android 2")||xe("android 3"),hs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),fs=cs&&xe("Google")&&hs<537&&!("AudioNode"in window),pr=!!window.opera,se=!us&&xe("chrome"),de=xe("gecko")&&!dr&&!pr&&!Kr,Gr=!se&&xe("safari"),ds=xe("phantom"),ps="OTransition"in qr,Fc=navigator.platform.indexOf("Win")===0,Ci=Kr&&"transition"in qr,Qr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ul,ms="MozPerspective"in qr,_s=!window.L_DISABLE_3D&&(Ci||Qr||ms)&&!ps&&!ds,mr=typeof orientation<"u"||xe("mobile"),Bc=mr&&dr,gs=mr&&Qr,vs=!window.PointerEvent&&window.MSPointerEvent,ys=!!(window.PointerEvent||vs),xi="ontouchstart"in window||!!window.TouchEvent,ws=!window.L_NO_TOUCH&&(xi||ys),Es=mr&&pr,Yn=mr&&de,cl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yr=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",T,s),window.removeEventListener("testPassiveEventSupport",T,s)}catch{}return r}(),hl=function(){return!!document.createElement("canvas").getContext}(),Xn=!!(document.createElementNS&&Zr("svg").createSVGRect),fl=!!Xn&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ye=!Xn&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),dl=navigator.platform.indexOf("Mac")===0,_r=navigator.platform.indexOf("Linux")===0;function xe(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var nt={ie:Kr,ielt9:ll,edge:us,webkit:dr,android:cs,android23:ul,androidStock:fs,opera:pr,chrome:se,gecko:de,safari:Gr,phantom:ds,opera12:ps,win:Fc,ie3d:Ci,webkit3d:Qr,gecko3d:ms,any3d:_s,mobile:mr,mobileWebkit:Bc,mobileWebkit3d:gs,msPointer:vs,pointer:ys,touch:ws,touchNative:xi,mobileOpera:Es,mobileGecko:Yn,retina:cl,passiveEvents:Yr,canvas:hl,svg:Xn,vml:ye,inlineSvg:fl,mac:dl,linux:_r},pl=nt.msPointer?"MSPointerDown":"pointerdown",Jn=nt.msPointer?"MSPointerMove":"pointermove",ml=nt.msPointer?"MSPointerUp":"pointerup",_l=nt.msPointer?"MSPointerCancel":"pointercancel",ki={touchstart:pl,touchmove:Jn,touchend:ml,touchcancel:_l},Ts={touchstart:Uc,touchmove:vr,touchend:vr,touchcancel:vr},Dn={},gr=!1;function On(r,s,c){return s==="touchstart"&&yl(),Ts[s]?(c=Ts[s].bind(this,c),r.addEventListener(ki[s],c,!1),c):(console.warn("wrong event specified:",s),T)}function gl(r,s,c){if(!ki[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(ki[s],c,!1)}function vl(r){Dn[r.pointerId]=r}function Ps(r){Dn[r.pointerId]&&(Dn[r.pointerId]=r)}function Xr(r){delete Dn[r.pointerId]}function yl(){gr||(document.addEventListener(pl,vl,!0),document.addEventListener(Jn,Ps,!0),document.addEventListener(ml,Xr,!0),document.addEventListener(_l,Xr,!0),gr=!0)}function vr(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in Dn)s.touches.push(Dn[c]);s.changedTouches=[s],r(s)}}function Uc(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ee(s),vr(r,s)}function Jr(r){var s={},c,f;for(f in r)c=r[f],s[f]=c&&c.bind?c.bind(r):c;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var wl=200;function Is(r,s){r.addEventListener("dblclick",s);var c=0,f;function m(v){if(v.detail!==1){f=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var C=Ni(v);if(!(C.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!C.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var z=Date.now();z-c<=wl?(f++,f===2&&s(Jr(v))):f=1,c=z}}}return r.addEventListener("click",m),{dblclick:s,simDblclick:m}}function yr(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var yn=ii(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ti=ii(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),El=ti==="webkitTransition"||ti==="OTransition"?ti+"End":"transitionend";function Ss(r){return typeof r=="string"?document.getElementById(r):r}function Ri(r,s){var c=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(r,null);c=f?f[s]:null}return c==="auto"?null:c}function Tt(r,s,c){var f=document.createElement(r);return f.className=s||"",c&&c.appendChild(f),f}function Dt(r){var s=r.parentNode;s&&s.removeChild(r)}function Li(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function ei(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function ni(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function As(r,s){if(r.classList!==void 0)return r.classList.contains(s);var c=eo(r);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function mt(r,s){if(r.classList!==void 0)for(var c=F(s),f=0,m=c.length;f<m;f++)r.classList.add(c[f]);else if(!As(r,s)){var v=eo(r);to(r,(v?v+" ":"")+s)}}function Ft(r,s){r.classList!==void 0?r.classList.remove(s):to(r,D((" "+eo(r)+" ").replace(" "+s+" "," ")))}function to(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function eo(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function te(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&wn(r,s)}function wn(r,s){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=r.filters.item(f)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):r.style.filter+=" progid:"+f+"(opacity="+s+")"}function ii(r){for(var s=document.documentElement.style,c=0;c<r.length;c++)if(r[c]in s)return r[c];return!1}function sn(r,s,c){var f=s||new $(0,0);r.style[yn]=(nt.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function jt(r,s){r._leaflet_pos=s,nt.any3d?sn(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function It(r){return r._leaflet_pos||new $(0,0)}var Vn,En,ri;if("onselectstart"in document)Vn=function(){ut(window,"selectstart",ee)},En=function(){Nt(window,"selectstart",ee)};else{var wr=ii(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vn=function(){if(wr){var r=document.documentElement.style;ri=r[wr],r[wr]="none"}},En=function(){wr&&(document.documentElement.style[wr]=ri,ri=void 0)}}function no(){ut(window,"dragstart",ee)}function Cs(){Nt(window,"dragstart",ee)}var io,xs;function ks(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(zn(),io=r,xs=r.style.outlineStyle,r.style.outlineStyle="none",ut(window,"keydown",zn))}function zn(){io&&(io.style.outlineStyle=xs,io=void 0,xs=void 0,Nt(window,"keydown",zn))}function Tn(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function ro(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Tl={__proto__:null,TRANSFORM:yn,TRANSITION:ti,TRANSITION_END:El,get:Ss,getStyle:Ri,create:Tt,remove:Dt,empty:Li,toFront:ei,toBack:ni,hasClass:As,addClass:mt,removeClass:Ft,setClass:to,getClass:eo,setOpacity:te,testProp:ii,setTransform:sn,setPosition:jt,getPosition:It,get disableTextSelection(){return Vn},get enableTextSelection(){return En},disableImageDrag:no,enableImageDrag:Cs,preventOutline:ks,restoreOutline:zn,getSizedParentNode:Tn,getScale:ro};function ut(r,s,c,f){if(s&&typeof s=="object")for(var m in s)an(r,m,s[m],c);else{s=F(s);for(var v=0,C=s.length;v<C;v++)an(r,s[v],c,f)}return this}var we="_leaflet_events";function Nt(r,s,c,f){if(arguments.length===1)Pl(r),delete r[we];else if(s&&typeof s=="object")for(var m in s)Ls(r,m,s[m],c);else if(s=F(s),arguments.length===2)Pl(r,function(z){return j(s,z)!==-1});else for(var v=0,C=s.length;v<C;v++)Ls(r,s[v],c,f);return this}function Pl(r,s){for(var c in r[we]){var f=c.split(/\d/)[0];(!s||s(f))&&Ls(r,f,null,null,c)}}var Rs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function an(r,s,c,f){var m=s+d(c)+(f?"_"+d(f):"");if(r[we]&&r[we][m])return this;var v=function(z){return c.call(f||r,z||window.event)},C=v;!nt.touchNative&&nt.pointer&&s.indexOf("touch")===0?v=On(r,s,v):nt.touch&&s==="dblclick"?v=Is(r,v):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Rs[s]||s,v,nt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(v=function(z){z=z||window.event,Ds(r,z)&&C(z)},r.addEventListener(Rs[s],v,!1)):r.addEventListener(s,C,!1):r.attachEvent("on"+s,v),r[we]=r[we]||{},r[we][m]=v}function Ls(r,s,c,f,m){m=m||s+d(c)+(f?"_"+d(f):"");var v=r[we]&&r[we][m];if(!v)return this;!nt.touchNative&&nt.pointer&&s.indexOf("touch")===0?gl(r,s,v):nt.touch&&s==="dblclick"?yr(r,v):"removeEventListener"in r?r.removeEventListener(Rs[s]||s,v,!1):r.detachEvent("on"+s,v),r[we][m]=null}function oi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Mi(r){return an(r,"wheel",oi),this}function bn(r){return ut(r,"mousedown touchstart dblclick contextmenu",oi),r._leaflet_disable_click=!0,this}function ee(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Ye(r){return ee(r),oi(r),this}function Ni(r){if(r.composedPath)return r.composedPath();for(var s=[],c=r.target;c;)s.push(c),c=c.parentNode;return s}function Ms(r,s){if(!s)return new $(r.clientX,r.clientY);var c=ro(s),f=c.boundingClientRect;return new $((r.clientX-f.left)/c.x-s.clientLeft,(r.clientY-f.top)/c.y-s.clientTop)}var Ns=nt.linux&&nt.chrome?window.devicePixelRatio:nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vt(r){return nt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ns:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ds(r,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==r;)c=c.parentNode}catch{return!1}return c!==r}var jc={__proto__:null,on:ut,off:Nt,stopPropagation:oi,disableScrollPropagation:Mi,disableClickPropagation:bn,preventDefault:ee,stop:Ye,getPropagationPath:Ni,getMousePosition:Ms,getWheelDelta:Vt,isExternalTarget:Ds,addListener:ut,removeListener:Nt},Os=be.extend({run:function(r,s,c,f){this.stop(),this._el=r,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=It(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=M(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var c=this._startPos.add(this._offset.multiplyBy(r));s&&c._round(),jt(this._el,c),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),vt=be.extend({options:{crs:fr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=b(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ct(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ti&&nt.any3d&&!nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ut(this._proxy,El,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(ct(r),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=o({animate:c.animate},c.zoom),c.pan=o({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,c.zoom):this._tryAnimatedPan(r,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,c){var f=this.getZoomScale(s),m=this.getSize().divideBy(2),v=r instanceof $?r:this.latLngToContainerPoint(r),C=v.subtract(m).multiplyBy(1-1/f),z=this.containerPointToLatLng(m.add(C));return this.setView(z,s,{zoom:c})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():kt(r);var c=G(s.paddingTopLeft||s.padding||[0,0]),f=G(s.paddingBottomRight||s.padding||[0,0]),m=this.getBoundsZoom(r,!1,c.add(f));if(m=typeof s.maxZoom=="number"?Math.min(s.maxZoom,m):m,m===1/0)return{center:r.getCenter(),zoom:m};var v=f.subtract(c).divideBy(2),C=this.project(r.getSouthWest(),m),z=this.project(r.getNorthEast(),m),B=this.unproject(C.add(z).divideBy(2).add(v),m);return{center:B,zoom:m}},fitBounds:function(r,s){if(r=kt(r),!r.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(r,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=G(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Os,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){mt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,c){if(c=c||{},c.animate===!1||!nt.any3d)return this.setView(r,s,c);this._stop();var f=this.project(this.getCenter()),m=this.project(r),v=this.getSize(),C=this._zoom;r=ct(r),s=s===void 0?C:s;var z=Math.max(v.x,v.y),B=z*this.getZoomScale(C,s),H=m.distanceTo(f)||1,J=1.42,ot=J*J;function gt(ne){var Ul=ne?-1:1,nw=ne?B:z,iw=B*B-z*z+Ul*ot*ot*H*H,rw=2*nw*ot*H,qc=iw/rw,bp=Math.sqrt(qc*qc+1)-qc,ow=bp<1e-9?-18:Math.log(bp);return ow}function Fe(ne){return(Math.exp(ne)-Math.exp(-ne))/2}function me(ne){return(Math.exp(ne)+Math.exp(-ne))/2}function cn(ne){return Fe(ne)/me(ne)}var We=gt(0);function po(ne){return z*(me(We)/me(We+J*ne))}function X0(ne){return z*(me(We)*cn(We+J*ne)-Fe(We))/ot}function J0(ne){return 1-Math.pow(1-ne,1.5)}var tw=Date.now(),Vp=(gt(1)-We)/J,ew=c.duration?1e3*c.duration:1e3*Vp*.8;function zp(){var ne=(Date.now()-tw)/ew,Ul=J0(ne)*Vp;ne<=1?(this._flyToFrame=M(zp,this),this._move(this.unproject(f.add(m.subtract(f).multiplyBy(X0(Ul)/H)),C),this.getScaleZoom(z/po(Ul),C),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),zp.call(this),this},flyToBounds:function(r,s){var c=this._getBoundsCenterZoom(r,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(r){return r=kt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,kt(r));return c.equals(f)||this.panTo(f,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var c=G(s.paddingTopLeft||s.padding||[0,0]),f=G(s.paddingBottomRight||s.padding||[0,0]),m=this.project(this.getCenter()),v=this.project(r),C=this.getPixelBounds(),z=pt([C.min.add(c),C.max.subtract(f)]),B=z.getSize();if(!z.contains(v)){this._enforcingBounds=!0;var H=v.subtract(z.getCenter()),J=z.extend(v).getSize().subtract(B);m.x+=H.x<0?-J.x:J.x,m.y+=H.y<0?-J.y:J.y,this.panTo(this.unproject(m),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=s.divideBy(2).round(),m=c.divideBy(2).round(),v=f.subtract(m);return!v.x&&!v.y?this:(r.animate&&r.pan?this.panBy(v):(r.pan&&this._rawPanBy(v),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),c=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,r):navigator.geolocation.getCurrentPosition(s,c,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,c=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,c=r.coords.longitude,f=new _t(s,c),m=f.toBounds(r.coords.accuracy*2),v=this._locateOptions;if(v.setView){var C=this.getBoundsZoom(m);this.setView(f,v.maxZoom?Math.min(C,v.maxZoom):C)}var z={latlng:f,bounds:m,timestamp:r.timestamp};for(var B in r.coords)typeof r.coords[B]=="number"&&(z[B]=r.coords[B]);this.fire("locationfound",z)}},addHandler:function(r,s){if(!s)return this;var c=this[r]=new s(this);return this._handlers.push(c),this.options[r]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Dt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var c="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),f=Tt("div",c,s||this._mapPane);return r&&(this._panes[r]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),c=this.unproject(r.getTopRight());return new wt(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,c){r=kt(r),c=G(c||[0,0]);var f=this.getZoom()||0,m=this.getMinZoom(),v=this.getMaxZoom(),C=r.getNorthWest(),z=r.getSouthEast(),B=this.getSize().subtract(c),H=pt(this.project(z,f),this.project(C,f)).getSize(),J=nt.any3d?this.options.zoomSnap:1,ot=B.x/H.x,gt=B.y/H.y,Fe=s?Math.max(ot,gt):Math.min(ot,gt);return f=this.getScaleZoom(Fe,f),J&&(f=Math.round(f/(J/100))*(J/100),f=s?Math.ceil(f/J)*J:Math.floor(f/J)*J),Math.max(m,Math.min(v,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var c=this._getTopLeftPoint(r,s);return new at(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(r)/c.scale(s)},getScaleZoom:function(r,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var f=c.zoom(r*c.scale(s));return isNaN(f)?1/0:f},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ct(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(G(r),s)},layerPointToLatLng:function(r){var s=G(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(ct(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ct(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(kt(r))},distance:function(r,s){return this.options.crs.distance(ct(r),ct(s))},containerPointToLayerPoint:function(r){return G(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return G(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(G(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ct(r)))},mouseEventToContainerPoint:function(r){return Ms(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=Ss(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ut(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&nt.any3d,mt(r,"leaflet-container"+(nt.touch?" leaflet-touch":"")+(nt.retina?" leaflet-retina":"")+(nt.ielt9?" leaflet-oldie":"")+(nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ri(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mt(r.markerPane,"leaflet-zoom-hide"),mt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,c){jt(this._mapPane,new $(0,0));var f=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var m=this._zoom!==s;this._moveStart(m,c)._move(r,s)._moveEnd(m),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,c,f){s===void 0&&(s=this._zoom);var m=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),f?c&&c.pinch&&this.fire("zoom",c):((m||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){jt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[d(this._container)]=this;var s=r?Nt:ut;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),nt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=M(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var c=[],f,m=s==="mouseout"||s==="mouseover",v=r.target||r.srcElement,C=!1;v;){if(f=this._targets[d(v)],f&&(s==="click"||s==="preclick")&&this._draggableMoved(f)){C=!0;break}if(f&&f.listens(s,!0)&&(m&&!Ds(v,r)||(c.push(f),m))||v===this._container)break;v=v.parentNode}return!c.length&&!C&&!m&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var c=r.type;c==="mousedown"&&ks(s),this._fireDOMEvent(r,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,c){if(r.type==="click"){var f=o({},r);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var m=this._findEventTargets(r,s);if(c){for(var v=[],C=0;C<c.length;C++)c[C].listens(s,!0)&&v.push(c[C]);m=v.concat(m)}if(m.length){s==="contextmenu"&&ee(r);var z=m[0],B={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var H=z.getLatLng&&(!z._radius||z._radius<=10);B.containerPoint=H?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(r),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=H?z.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(C=0;C<m.length;C++)if(m[C].fire(s,B,!0),B.originalEvent._stopped||m[C].options.bubblingMouseEvents===!1&&j(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return It(this._mapPane)||new $(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var c=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var c=this.getSize()._divideBy(2);return this.project(r,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,c){var f=this._getNewPixelOrigin(c,s);return this.project(r,s)._subtract(f)},_latLngBoundsToNewLayerBounds:function(r,s,c){var f=this._getNewPixelOrigin(c,s);return pt([this.project(r.getSouthWest(),s)._subtract(f),this.project(r.getNorthWest(),s)._subtract(f),this.project(r.getSouthEast(),s)._subtract(f),this.project(r.getNorthEast(),s)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,c){if(!c)return r;var f=this.project(r,s),m=this.getSize().divideBy(2),v=new at(f.subtract(m),f.add(m)),C=this._getBoundsOffset(v,c,s);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?r:this.unproject(f.add(C),s)},_limitOffset:function(r,s){if(!s)return r;var c=this.getPixelBounds(),f=new at(c.min.add(r),c.max.add(r));return r.add(this._getBoundsOffset(f,s))},_getBoundsOffset:function(r,s,c){var f=pt(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),m=f.min.subtract(r.min),v=f.max.subtract(r.max),C=this._rebound(m.x,-v.x),z=this._rebound(m.y,-v.y);return new $(C,z)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),c=this.getMaxZoom(),f=nt.any3d?this.options.zoomSnap:1;return f&&(r=Math.round(r/f)*f),Math.max(s,Math.min(c,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ft(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var c=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var r=this._proxy=Tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var c=yn,f=this._proxy.style[c];sn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();sn(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(s),m=this._getCenterOffset(r)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(m)?!1:(M(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,mt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ft(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Il(r,s){return new vt(r,s)}var ke=Kt.extend({options:{position:"topright"},initialize:function(r){b(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),c=this.getPosition(),f=r._controlCorners[c];return mt(s,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(s,f.firstChild):f.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Di=function(r){return new ke(r)};vt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",c=this._controlContainer=Tt("div",s+"control-container",this._container);function f(m,v){var C=s+m+" "+s+v;r[m+v]=Tt("div",C,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Dt(this._controlCorners[r]);Dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ln=ke.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,c,f){return c<f?-1:f<c?1:0}},initialize:function(r,s,c){b(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in r)this._addLayer(r[f],f);for(f in s)this._addLayer(s[f],f,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return ke.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){mt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(mt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ft(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ft(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=Tt("div",r),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),bn(s),Mi(s);var f=this._section=Tt("section",r+"-list");c&&(this._map.on("click",this.collapse,this),ut(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=Tt("a",r+"-toggle",s);m.href="#",m.title="Layers",m.setAttribute("role","button"),ut(m,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ee(v),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Tt("div",r+"-base",f),this._separator=Tt("div",r+"-separator",f),this._overlaysList=Tt("div",r+"-overlays",f),s.appendChild(f)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,c){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(u(function(f,m){return this.options.sortFunction(f.layer,m.layer,f.name,m.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Li(this._baseLayersList),Li(this._overlaysList),this._layerControlInputs=[];var r,s,c,f,m=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),s=s||f.overlay,r=r||!f.overlay,m+=f.overlay?0:1;return this.options.hideSingleBase&&(r=r&&m>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(d(r.target)),c=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(r,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(r){var s=document.createElement("label"),c=this._map.hasLayer(r.layer),f;r.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(f),f.layerId=d(r.layer),ut(f,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+r.name;var v=document.createElement("span");s.appendChild(v),v.appendChild(f),v.appendChild(m);var C=r.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,c,f=[],m=[];this._handlingClick=!0;for(var v=r.length-1;v>=0;v--)s=r[v],c=this._getLayer(s.layerId).layer,s.checked?f.push(c):s.checked||m.push(c);for(v=0;v<m.length;v++)this._map.hasLayer(m[v])&&this._map.removeLayer(m[v]);for(v=0;v<f.length;v++)this._map.hasLayer(f[v])||this._map.addLayer(f[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,c,f=this._map.getZoom(),m=r.length-1;m>=0;m--)s=r[m],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ut(r,"click",ee),this.expand();var s=this;setTimeout(function(){Nt(r,"click",ee),s._preventClick=!1})}}),Sl=function(r,s,c){return new ln(r,s,c)},Vs=ke.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",c=Tt("div",s+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,c,f,m){var v=Tt("a",c,f);return v.innerHTML=r,v.href="#",v.title=s,v.setAttribute("role","button"),v.setAttribute("aria-label",s),bn(v),ut(v,"click",Ye),ut(v,"click",m,this),ut(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Ft(this._zoomInButton,s),Ft(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(mt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(mt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});vt.mergeOptions({zoomControl:!0}),vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vs,this.addControl(this.zoomControl))});var Er=function(r){return new Vs(r)},zs=ke.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",c=Tt("div",s),f=this.options;return this._addScales(f,s+"-line",c),r.on(f.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),c},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,c){r.metric&&(this._mScale=Tt("div",s,c)),r.imperial&&(this._iScale=Tt("div",s,c))},_update:function(){var r=this._map,s=r.getSize().y/2,c=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/r)},_updateImperial:function(r){var s=r*3.2808399,c,f,m;s>5280?(c=s/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(m=this._getRoundNum(s),this._updateScale(this._iScale,m+" ft",m/s))},_updateScale:function(r,s,c){r.style.width=Math.round(this.options.maxWidth*c)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),c=r/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),bs=function(r){return new zs(r)},oo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',so=ke.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(nt.inlineSvg?oo+" ":"")+"Leaflet</a>"},initialize:function(r){b(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Tt("div","leaflet-control-attribution"),bn(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),r.length&&c.push(r.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});vt.mergeOptions({attributionControl:!0}),vt.addInitHook(function(){this.options.attributionControl&&new so().addTo(this)});var ao=function(r){return new so(r)};ke.Layers=ln,ke.Zoom=Vs,ke.Scale=zs,ke.Attribution=so,Di.layers=Sl,Di.zoom=Er,Di.scale=bs,Di.attribution=ao;var un=Kt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});un.addTo=function(r,s){return r.addHandler(s,this),this};var Al={Events:oe},Oi=nt.touch?"touchstart mousedown":"mousedown",Pn=be.extend({options:{clickTolerance:3},initialize:function(r,s,c,f){b(this,f),this._element=r,this._dragStartTarget=s||r,this._preventOutline=c},enable:function(){this._enabled||(ut(this._dragStartTarget,Oi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),Nt(this._dragStartTarget,Oi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!As(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Pn._dragging=this,this._preventOutline&&ks(this._element),no(),Vn(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,c=Tn(this._element);this._startPoint=new $(s.clientX,s.clientY),this._startPos=It(this._element),this._parentScale=ro(c);var f=r.type==="mousedown";ut(document,f?"mousemove":"touchmove",this._onMove,this),ut(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,c=new $(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ee(r),this._moved||(this.fire("dragstart"),this._moved=!0,mt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),jt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ft(document.body,"leaflet-dragging"),this._lastTarget&&(Ft(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nt(document,"mousemove touchmove",this._onMove,this),Nt(document,"mouseup touchend touchcancel",this._onUp,this),Cs(),En();var s=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Fs(r,s,c){var f,m=[1,4,2,8],v,C,z,B,H,J,ot,gt;for(v=0,J=r.length;v<J;v++)r[v]._code=Qt(r[v],s);for(z=0;z<4;z++){for(ot=m[z],f=[],v=0,J=r.length,C=J-1;v<J;C=v++)B=r[v],H=r[C],B._code&ot?H._code&ot||(gt=ai(H,B,ot,s,c),gt._code=Qt(gt,s),f.push(gt)):(H._code&ot&&(gt=ai(H,B,ot,s,c),gt._code=Qt(gt,s),f.push(gt)),f.push(B));r=f}return r}function lo(r,s){var c,f,m,v,C,z,B,H,J;if(!r||r.length===0)throw new Error("latlngs not passed");ae(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ot=ct([0,0]),gt=kt(r),Fe=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());Fe<1700&&(ot=Tr(r));var me=r.length,cn=[];for(c=0;c<me;c++){var We=ct(r[c]);cn.push(s.project(ct([We.lat-ot.lat,We.lng-ot.lng])))}for(z=B=H=0,c=0,f=me-1;c<me;f=c++)m=cn[c],v=cn[f],C=m.y*v.x-v.y*m.x,B+=(m.x+v.x)*C,H+=(m.y+v.y)*C,z+=C*3;z===0?J=cn[0]:J=[B/z,H/z];var po=s.unproject(G(J));return ct([po.lat+ot.lat,po.lng+ot.lng])}function Tr(r){for(var s=0,c=0,f=0,m=0;m<r.length;m++){var v=ct(r[m]);s+=v.lat,c+=v.lng,f++}return ct([s/f,c/f])}var Cl={__proto__:null,clipPolygon:Fs,polygonCenter:lo,centroid:Tr};function Pr(r,s){if(!s||!r.length)return r.slice();var c=s*s;return r=kl(r,c),r=si(r,c),r}function Bs(r,s,c){return Math.sqrt(Vi(r,s,c,!0))}function xl(r,s,c){return Vi(r,s,c)}function si(r,s){var c=r.length,f=typeof Uint8Array!=void 0+""?Uint8Array:Array,m=new f(c);m[0]=m[c-1]=1,uo(r,m,s,0,c-1);var v,C=[];for(v=0;v<c;v++)m[v]&&C.push(r[v]);return C}function uo(r,s,c,f,m){var v=0,C,z,B;for(z=f+1;z<=m-1;z++)B=Vi(r[z],r[f],r[m],!0),B>v&&(C=z,v=B);v>c&&(s[C]=1,uo(r,s,c,f,C),uo(r,s,c,C,m))}function kl(r,s){for(var c=[r[0]],f=1,m=0,v=r.length;f<v;f++)Rl(r[f],r[m])>s&&(c.push(r[f]),m=f);return m<v-1&&c.push(r[v-1]),c}var Us;function js(r,s,c,f,m){var v=f?Us:Qt(r,c),C=Qt(s,c),z,B,H;for(Us=C;;){if(!(v|C))return[r,s];if(v&C)return!1;z=v||C,B=ai(r,s,z,c,m),H=Qt(B,c),z===v?(r=B,v=H):(s=B,C=H)}}function ai(r,s,c,f,m){var v=s.x-r.x,C=s.y-r.y,z=f.min,B=f.max,H,J;return c&8?(H=r.x+v*(B.y-r.y)/C,J=B.y):c&4?(H=r.x+v*(z.y-r.y)/C,J=z.y):c&2?(H=B.x,J=r.y+C*(B.x-r.x)/v):c&1&&(H=z.x,J=r.y+C*(z.x-r.x)/v),new $(H,J,m)}function Qt(r,s){var c=0;return r.x<s.min.x?c|=1:r.x>s.max.x&&(c|=2),r.y<s.min.y?c|=4:r.y>s.max.y&&(c|=8),c}function Rl(r,s){var c=s.x-r.x,f=s.y-r.y;return c*c+f*f}function Vi(r,s,c,f){var m=s.x,v=s.y,C=c.x-m,z=c.y-v,B=C*C+z*z,H;return B>0&&(H=((r.x-m)*C+(r.y-v)*z)/B,H>1?(m=c.x,v=c.y):H>0&&(m+=C*H,v+=z*H)),C=r.x-m,z=r.y-v,f?C*C+z*z:new $(m,v)}function ae(r){return!N(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function l(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ae(r)}function p(r,s){var c,f,m,v,C,z,B,H;if(!r||r.length===0)throw new Error("latlngs not passed");ae(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var J=ct([0,0]),ot=kt(r),gt=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());gt<1700&&(J=Tr(r));var Fe=r.length,me=[];for(c=0;c<Fe;c++){var cn=ct(r[c]);me.push(s.project(ct([cn.lat-J.lat,cn.lng-J.lng])))}for(c=0,f=0;c<Fe-1;c++)f+=me[c].distanceTo(me[c+1])/2;if(f===0)H=me[0];else for(c=0,v=0;c<Fe-1;c++)if(C=me[c],z=me[c+1],m=C.distanceTo(z),v+=m,v>f){B=(v-f)/m,H=[z.x-B*(z.x-C.x),z.y-B*(z.y-C.y)];break}var We=s.unproject(G(H));return ct([We.lat+J.lat,We.lng+J.lng])}var _={__proto__:null,simplify:Pr,pointToSegmentDistance:Bs,closestPointOnSegment:xl,clipSegment:js,_getEdgeIntersection:ai,_getBitCode:Qt,_sqClosestPointOnSegment:Vi,isFlat:ae,_flat:l,polylineCenter:p},y={project:function(r){return new $(r.lng,r.lat)},unproject:function(r){return new _t(r.y,r.x)},bounds:new at([-180,-90],[180,90])},V={R:6378137,R_MINOR:6356752314245179e-9,bounds:new at([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,c=this.R,f=r.lat*s,m=this.R_MINOR/c,v=Math.sqrt(1-m*m),C=v*Math.sin(f),z=Math.tan(Math.PI/4-f/2)/Math.pow((1-C)/(1+C),v/2);return f=-c*Math.log(Math.max(z,1e-10)),new $(r.lng*s*c,f)},unproject:function(r){for(var s=180/Math.PI,c=this.R,f=this.R_MINOR/c,m=Math.sqrt(1-f*f),v=Math.exp(-r.y/c),C=Math.PI/2-2*Math.atan(v),z=0,B=.1,H;z<15&&Math.abs(B)>1e-7;z++)H=m*Math.sin(C),H=Math.pow((1-H)/(1+H),m/2),B=Math.PI/2-2*Math.atan(v*H)-C,C+=B;return new _t(C*s,r.x*s/c)}},U={__proto__:null,LonLat:y,Mercator:V,SphericalMercator:Si},Q=o({},Nn,{code:"EPSG:3395",projection:V,transformation:function(){var r=.5/(Math.PI*V.R);return Qn(r,.5,-r,.5)}()}),Rt=o({},Nn,{code:"EPSG:4326",projection:y,transformation:Qn(1/180,1,-1/180,.5)}),le=o({},Jt,{projection:y,transformation:Qn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var c=s.lng-r.lng,f=s.lat-r.lat;return Math.sqrt(c*c+f*f)},infinite:!0});Jt.Earth=Nn,Jt.EPSG3395=Q,Jt.EPSG3857=fr,Jt.EPSG900913=as,Jt.EPSG4326=Rt,Jt.Simple=le;var ht=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[d(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[d(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});vt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=d(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return d(r)in this._layers},eachLayer:function(r,s){for(var c in this._layers)r.call(s,this._layers[c]);return this},_addLayers:function(r){r=r?N(r)?r:[r]:[];for(var s=0,c=r.length;s<c;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[d(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=d(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var m=this._zoomBoundLayers[f].options;r=m.minZoom===void 0?r:Math.min(r,m.minZoom),s=m.maxZoom===void 0?s:Math.max(s,m.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $t=ht.extend({initialize:function(r,s){b(this,s),this._layers={};var c,f;if(r)for(c=0,f=r.length;c<f;c++)this.addLayer(r[c])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[r]&&f[r].apply(f,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var c in this._layers)r.call(s,this._layers[c]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return d(r)}}),pe=function(r,s){return new $t(r,s)},Re=$t.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),$t.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),$t.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new wt;for(var s in this._layers){var c=this._layers[s];r.extend(c.getBounds?c.getBounds():c.getLatLng())}return r}}),Xe=function(r,s){return new Re(r,s)},In=Kt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){b(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var c=this._getIconUrl(r);if(!c){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(f,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(r,s){var c=this.options,f=c[s+"Size"];typeof f=="number"&&(f=[f,f]);var m=G(f),v=G(s==="shadow"&&c.shadowAnchor||c.iconAnchor||m&&m.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(c.className||""),v&&(r.style.marginLeft=-v.x+"px",r.style.marginTop=-v.y+"px"),m&&(r.style.width=m.x+"px",r.style.height=m.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return nt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function $s(r){return new In(r)}var Hs=In.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Hs.imagePath!="string"&&(Hs.imagePath=this._detectIconPath()),(this.options.imagePath||Hs.imagePath)+In.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(c,f,m){var v=f.exec(c);return v&&v[m]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Tt("div","leaflet-default-icon-path",document.body),s=Ri(r,"background-image")||Ri(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),gp=un.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Pn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ft(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,c=s._map,f=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,v=It(s._icon),C=c.getPixelBounds(),z=c.getPixelOrigin(),B=pt(C.min._subtract(z).add(m),C.max._subtract(z).subtract(m));if(!B.contains(v)){var H=G((Math.max(B.max.x,v.x)-B.max.x)/(C.max.x-B.max.x)-(Math.min(B.min.x,v.x)-B.min.x)/(C.min.x-B.min.x),(Math.max(B.max.y,v.y)-B.max.y)/(C.max.y-B.max.y)-(Math.min(B.min.y,v.y)-B.min.y)/(C.min.y-B.min.y)).multiplyBy(f);c.panBy(H,{animate:!1}),this._draggable._newPos._add(H),this._draggable._startPos._add(H),jt(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=M(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=M(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,c=s._shadow,f=It(s._icon),m=s._map.layerPointToLatLng(f);c&&jt(c,f),s._latlng=m,r.latlng=m,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ll=ht.extend({options:{icon:new Hs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){b(this,s),this._latlng=ct(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=ct(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=r.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,r.title&&(c.title=r.title),c.tagName==="IMG"&&(c.alt=r.alt||"")),mt(c,s),r.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(c,"focus",this._panOnFocus,this);var m=r.icon.createShadow(this._shadow),v=!1;m!==this._shadow&&(this._removeShadow(),v=!0),m&&(mt(m,s),m.alt=""),this._shadow=m,r.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&v&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(this._icon,"focus",this._panOnFocus,this),Dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&jt(this._icon,r),this._shadow&&jt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(mt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gp)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gp(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&te(this._icon,r),this._shadow&&te(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,c=s.iconSize?G(s.iconSize):G(0,0),f=s.iconAnchor?G(s.iconAnchor):G(0,0);r.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function D0(r,s){return new Ll(r,s)}var zi=ht.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return b(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ml=zi.extend({options:{fill:!0,radius:10},initialize:function(r,s){b(this,s),this._latlng=ct(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=ct(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return zi.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,c=this._clickTolerance(),f=[r+c,s+c];this._pxBounds=new at(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function O0(r,s){return new Ml(r,s)}var $c=Ml.extend({initialize:function(r,s,c){if(typeof s=="number"&&(s=o({},c,{radius:s})),b(this,s),this._latlng=ct(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new wt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:zi.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===Nn.distance){var m=Math.PI/180,v=this._mRadius/Nn.R/m,C=c.project([s+v,r]),z=c.project([s-v,r]),B=C.add(z).divideBy(2),H=c.unproject(B).lat,J=Math.acos((Math.cos(v*m)-Math.sin(s*m)*Math.sin(H*m))/(Math.cos(s*m)*Math.cos(H*m)))/m;(isNaN(J)||J===0)&&(J=v/Math.cos(Math.PI/180*s)),this._point=B.subtract(c.getPixelOrigin()),this._radius=isNaN(J)?0:B.x-c.project([H,r-J]).x,this._radiusY=B.y-C.y}else{var ot=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ot).x}this._updateBounds()}});function V0(r,s,c){return new $c(r,s,c)}var li=zi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){b(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,c=null,f=Vi,m,v,C=0,z=this._parts.length;C<z;C++)for(var B=this._parts[C],H=1,J=B.length;H<J;H++){m=B[H-1],v=B[H];var ot=f(r,m,v,!0);ot<s&&(s=ot,c=f(r,m,v))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return p(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=ct(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new wt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return ae(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],c=ae(r),f=0,m=r.length;f<m;f++)c?(s[f]=ct(r[f]),this._bounds.extend(s[f])):s[f]=this._convertLatLngs(r[f]);return s},_project:function(){var r=new at;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new $(r,r);this._rawPxBounds&&(this._pxBounds=new at([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,c){var f=r[0]instanceof _t,m=r.length,v,C;if(f){for(C=[],v=0;v<m;v++)C[v]=this._map.latLngToLayerPoint(r[v]),c.extend(C[v]);s.push(C)}else for(v=0;v<m;v++)this._projectLatlngs(r[v],s,c)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,f,m,v,C,z,B;for(c=0,m=0,v=this._rings.length;c<v;c++)for(B=this._rings[c],f=0,C=B.length;f<C-1;f++)z=js(B[f],B[f+1],r,f,!0),z&&(s[m]=s[m]||[],s[m].push(z[0]),(z[1]!==B[f+1]||f===C-2)&&(s[m].push(z[1]),m++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,c=0,f=r.length;c<f;c++)r[c]=Pr(r[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var c,f,m,v,C,z,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(c=0,v=this._parts.length;c<v;c++)for(z=this._parts[c],f=0,C=z.length,m=C-1;f<C;m=f++)if(!(!s&&f===0)&&Bs(r,z[m],z[f])<=B)return!0;return!1}});function z0(r,s){return new li(r,s)}li._flat=l;var co=li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=li.prototype._convertLatLngs.call(this,r),c=s.length;return c>=2&&s[0]instanceof _t&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(r){li.prototype._setLatLngs.call(this,r),ae(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ae(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,c=new $(s,s);if(r=new at(r.min.subtract(c),r.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,m=this._rings.length,v;f<m;f++)v=Fs(this._rings[f],r,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,c,f,m,v,C,z,B,H;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(v=0,B=this._parts.length;v<B;v++)for(c=this._parts[v],C=0,H=c.length,z=H-1;C<H;z=C++)f=c[C],m=c[z],f.y>r.y!=m.y>r.y&&r.x<(m.x-f.x)*(r.y-f.y)/(m.y-f.y)+f.x&&(s=!s);return s||li.prototype._containsPoint.call(this,r,!0)}});function b0(r,s){return new co(r,s)}var ui=Re.extend({initialize:function(r,s){b(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=N(r)?r:r.features,c,f,m;if(s){for(c=0,f=s.length;c<f;c++)m=s[c],(m.geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var v=this.options;if(v.filter&&!v.filter(r))return this;var C=Nl(r,v);return C?(C.feature=Vl(r),C.defaultOptions=C.options,this.resetStyle(C),v.onEachFeature&&v.onEachFeature(r,C),this.addLayer(C)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function Nl(r,s){var c=r.type==="Feature"?r.geometry:r,f=c?c.coordinates:null,m=[],v=s&&s.pointToLayer,C=s&&s.coordsToLatLng||Hc,z,B,H,J;if(!f&&!c)return null;switch(c.type){case"Point":return z=C(f),vp(v,r,z,s);case"MultiPoint":for(H=0,J=f.length;H<J;H++)z=C(f[H]),m.push(vp(v,r,z,s));return new Re(m);case"LineString":case"MultiLineString":return B=Dl(f,c.type==="LineString"?0:1,C),new li(B,s);case"Polygon":case"MultiPolygon":return B=Dl(f,c.type==="Polygon"?1:2,C),new co(B,s);case"GeometryCollection":for(H=0,J=c.geometries.length;H<J;H++){var ot=Nl({geometry:c.geometries[H],type:"Feature",properties:r.properties},s);ot&&m.push(ot)}return new Re(m);case"FeatureCollection":for(H=0,J=c.features.length;H<J;H++){var gt=Nl(c.features[H],s);gt&&m.push(gt)}return new Re(m);default:throw new Error("Invalid GeoJSON object.")}}function vp(r,s,c,f){return r?r(s,c):new Ll(c,f&&f.markersInheritOptions&&f)}function Hc(r){return new _t(r[1],r[0],r[2])}function Dl(r,s,c){for(var f=[],m=0,v=r.length,C;m<v;m++)C=s?Dl(r[m],s-1,c):(c||Hc)(r[m]),f.push(C);return f}function Wc(r,s){return r=ct(r),r.alt!==void 0?[P(r.lng,s),P(r.lat,s),P(r.alt,s)]:[P(r.lng,s),P(r.lat,s)]}function Ol(r,s,c,f){for(var m=[],v=0,C=r.length;v<C;v++)m.push(s?Ol(r[v],ae(r[v])?0:s-1,c,f):Wc(r[v],f));return!s&&c&&m.length>0&&m.push(m[0].slice()),m}function ho(r,s){return r.feature?o({},r.feature,{geometry:s}):Vl(s)}function Vl(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Zc={toGeoJSON:function(r){return ho(this,{type:"Point",coordinates:Wc(this.getLatLng(),r)})}};Ll.include(Zc),$c.include(Zc),Ml.include(Zc),li.include({toGeoJSON:function(r){var s=!ae(this._latlngs),c=Ol(this._latlngs,s?1:0,!1,r);return ho(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),co.include({toGeoJSON:function(r){var s=!ae(this._latlngs),c=s&&!ae(this._latlngs[0]),f=Ol(this._latlngs,c?2:s?1:0,!0,r);return s||(f=[f]),ho(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),$t.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(r).geometry.coordinates)}),ho(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var c=s==="GeometryCollection",f=[];return this.eachLayer(function(m){if(m.toGeoJSON){var v=m.toGeoJSON(r);if(c)f.push(v.geometry);else{var C=Vl(v);C.type==="FeatureCollection"?f.push.apply(f,C.features):f.push(C)}}}),c?ho(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function yp(r,s){return new ui(r,s)}var F0=yp,zl=ht.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,c){this._url=r,this._bounds=kt(s),b(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&ei(this._image),this},bringToBack:function(){return this._map&&ni(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=kt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:Tt("img");if(mt(s,"leaflet-image-layer"),this._zoomAnimated&&mt(s,"leaflet-zoom-animated"),this.options.className&&mt(s,this.options.className),s.onselectstart=T,s.onmousemove=T,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;sn(this._image,c,s)},_reset:function(){var r=this._image,s=new at(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();jt(r,s.min),r.style.width=c.x+"px",r.style.height=c.y+"px"},_updateOpacity:function(){te(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),B0=function(r,s,c){return new zl(r,s,c)},wp=zl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:Tt("video");if(mt(s,"leaflet-image-layer"),this._zoomAnimated&&mt(s,"leaflet-zoom-animated"),this.options.className&&mt(s,this.options.className),s.onselectstart=T,s.onmousemove=T,s.onloadeddata=u(this.fire,this,"load"),r){for(var c=s.getElementsByTagName("source"),f=[],m=0;m<c.length;m++)f.push(c[m].src);this._url=c.length>0?f:[s.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var C=Tt("source");C.src=this._url[v],s.appendChild(C)}}});function U0(r,s,c){return new wp(r,s,c)}var Ep=zl.extend({_initImage:function(){var r=this._image=this._url;mt(r,"leaflet-image-layer"),this._zoomAnimated&&mt(r,"leaflet-zoom-animated"),this.options.className&&mt(r,this.options.className),r.onselectstart=T,r.onmousemove=T}});function j0(r,s,c){return new Ep(r,s,c)}var Fn=ht.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof _t||N(r))?(this._latlng=ct(r),b(this,s)):(b(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&te(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&te(this._container,1),this.bringToFront(),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(te(this._container,0),this._removeTimeout=setTimeout(u(Dt,void 0,this._container),200)):Dt(this._container),this.options.interactive&&(Ft(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ct(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ei(this._container),this},bringToBack:function(){return this._map&&ni(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof Re){s=null;var c=this._source._layers;for(var f in c)if(c[f]._map){s=c[f];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=G(this.options.offset),c=this._getAnchor();this._zoomAnimated?jt(this._container,r.add(c)):s=s.add(r).add(c);var f=this._containerBottom=-s.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=f+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});vt.include({_initOverlay:function(r,s,c,f){var m=s;return m instanceof r||(m=new r(f).setContent(s)),c&&m.setLatLng(c),m}}),ht.include({_initOverlay:function(r,s,c,f){var m=c;return m instanceof r?(b(m,f),m._source=this):(m=s&&!f?s:new r(f,this),m.setContent(c)),m}});var bl=Fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Fn.prototype.openOn.call(this,r)},onAdd:function(r){Fn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zi||this._source.on("preclick",oi))},onRemove:function(r){Fn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zi||this._source.off("preclick",oi))},getEvents:function(){var r=Fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=Tt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Tt("div",r+"-content-wrapper",s);if(this._contentNode=Tt("div",r+"-content",c),bn(s),Mi(this._contentNode),ut(s,"contextmenu",oi),this._tipContainer=Tt("div",r+"-tip-container",s),this._tip=Tt("div",r+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Tt("a",r+"-close-button",s);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ut(f,"click",function(m){ee(m),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var c=r.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var f=r.offsetHeight,m=this.options.maxHeight,v="leaflet-popup-scrolled";m&&f>m?(s.height=m+"px",mt(r,v)):Ft(r,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),c=this._getAnchor();jt(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(Ri(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,f=this._containerWidth,m=new $(this._containerLeft,-c-this._containerBottom);m._add(It(this._container));var v=r.layerPointToContainerPoint(m),C=G(this.options.autoPanPadding),z=G(this.options.autoPanPaddingTopLeft||C),B=G(this.options.autoPanPaddingBottomRight||C),H=r.getSize(),J=0,ot=0;v.x+f+B.x>H.x&&(J=v.x+f-H.x+B.x),v.x-J-z.x<0&&(J=v.x-z.x),v.y+c+B.y>H.y&&(ot=v.y+c-H.y+B.y),v.y-ot-z.y<0&&(ot=v.y-z.y),(J||ot)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([J,ot]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$0=function(r,s){return new bl(r,s)};vt.mergeOptions({closePopupOnClick:!0}),vt.include({openPopup:function(r,s,c){return this._initOverlay(bl,r,s,c).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),ht.include({bindPopup:function(r,s){return this._popup=this._initOverlay(bl,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Re||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Ye(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof zi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Fl=Fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Fn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Fn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Fn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Tt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,c,f=this._map,m=this._container,v=f.latLngToContainerPoint(f.getCenter()),C=f.layerPointToContainerPoint(r),z=this.options.direction,B=m.offsetWidth,H=m.offsetHeight,J=G(this.options.offset),ot=this._getAnchor();z==="top"?(s=B/2,c=H):z==="bottom"?(s=B/2,c=0):z==="center"?(s=B/2,c=H/2):z==="right"?(s=0,c=H/2):z==="left"?(s=B,c=H/2):C.x<v.x?(z="right",s=0,c=H/2):(z="left",s=B+(J.x+ot.x)*2,c=H/2),r=r.subtract(G(s,c,!0)).add(J).add(ot),Ft(m,"leaflet-tooltip-right"),Ft(m,"leaflet-tooltip-left"),Ft(m,"leaflet-tooltip-top"),Ft(m,"leaflet-tooltip-bottom"),mt(m,"leaflet-tooltip-"+z),jt(m,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&te(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),H0=function(r,s){return new Fl(r,s)};vt.include({openTooltip:function(r,s,c){return this._initOverlay(Fl,r,s,c).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),ht.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fl,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Re||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(ut(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ut(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,c,f;this._tooltip.options.sticky&&r.originalEvent&&(c=this._map.mouseEventToContainerPoint(r.originalEvent),f=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(s)}});var Tp=In.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Li(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=G(c.bgPos);s.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function W0(r){return new Tp(r)}In.Default=Hs;var Ws=ht.extend({options:{tileSize:256,opacity:1,updateWhenIdle:nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){b(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Dt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof $?r:new $(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,c=-r(-1/0,1/0),f=0,m=s.length,v;f<m;f++)v=s[f].style.zIndex,s[f]!==this._container&&v&&(c=r(c,+v));isFinite(c)&&(this.options.zIndex=c+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nt.ielt9){te(this._container,this.options.opacity);var r=+new Date,s=!1,c=!1;for(var f in this._tiles){var m=this._tiles[f];if(!(!m.current||!m.loaded)){var v=Math.min(1,(r-m.loaded)/200);te(m.el,v),v<1?s=!0:(m.active?c=!0:this._onOpaqueTile(m),m.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(O(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===r?(this._levels[c].el.style.zIndex=s-Math.abs(r-c),this._onUpdateLevel(c)):(Dt(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[r],m=this._map;return f||(f=this._levels[r]={},f.el=Tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=s,f.origin=m.project(m.unproject(m.getPixelOrigin()),r).round(),f.zoom=r,this._setZoomTransform(f,m.getCenter(),m.getZoom()),T(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var r,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var f=s.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Dt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,c,f){var m=Math.floor(r/2),v=Math.floor(s/2),C=c-1,z=new $(+m,+v);z.z=+C;var B=this._tileCoordsToKey(z),H=this._tiles[B];return H&&H.active?(H.retain=!0,!0):(H&&H.loaded&&(H.retain=!0),C>f?this._retainParent(m,v,C,f):!1)},_retainChildren:function(r,s,c,f){for(var m=2*r;m<2*r+2;m++)for(var v=2*s;v<2*s+2;v++){var C=new $(m,v);C.z=c+1;var z=this._tileCoordsToKey(C),B=this._tiles[z];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);c+1<f&&this._retainChildren(m,v,c+1,f)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,c,f){var m=Math.round(s);this.options.maxZoom!==void 0&&m>this.options.maxZoom||this.options.minZoom!==void 0&&m<this.options.minZoom?m=void 0:m=this._clampZoom(m);var v=this.options.updateWhenZooming&&m!==this._tileZoom;(!f||v)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),m!==void 0&&this._update(r),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],r,s)},_setZoomTransform:function(r,s,c){var f=this._map.getZoomScale(c,r.zoom),m=r.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(s,c)).round();nt.any3d?sn(r.el,m,f):jt(r.el,m)},_resetGrid:function(){var r=this._map,s=r.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],f).x/c.x),Math.ceil(r.project([0,s.wrapLng[1]],f).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],f).y/c.x),Math.ceil(r.project([s.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),f=s.getZoomScale(c,this._tileZoom),m=s.project(r,this._tileZoom).floor(),v=s.getSize().divideBy(f*2);return new at(m.subtract(v),m.add(v))},_update:function(r){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(r),m=this._pxBoundsToTileRange(f),v=m.getCenter(),C=[],z=this.options.keepBuffer,B=new at(m.getBottomLeft().subtract([z,-z]),m.getTopRight().add([z,-z]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var H in this._tiles){var J=this._tiles[H].coords;(J.z!==this._tileZoom||!B.contains(new $(J.x,J.y)))&&(this._tiles[H].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(r,c);return}for(var ot=m.min.y;ot<=m.max.y;ot++)for(var gt=m.min.x;gt<=m.max.x;gt++){var Fe=new $(gt,ot);if(Fe.z=this._tileZoom,!!this._isValidTile(Fe)){var me=this._tiles[this._tileCoordsToKey(Fe)];me?me.current=!0:C.push(Fe)}}if(C.sort(function(We,po){return We.distanceTo(v)-po.distanceTo(v)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var cn=document.createDocumentFragment();for(gt=0;gt<C.length;gt++)this._addTile(C[gt],cn);this._level.el.appendChild(cn)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(r.x<c.min.x||r.x>c.max.x)||!s.wrapLat&&(r.y<c.min.y||r.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(r);return kt(this.options.bounds).overlaps(f)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,c=this.getTileSize(),f=r.scaleBy(c),m=f.add(c),v=s.unproject(f,r.z),C=s.unproject(m,r.z);return[v,C]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),c=new wt(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),c=new $(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(r){var s=this._tiles[r];s&&(Dt(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){mt(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=T,r.onmousemove=T,nt.ielt9&&this.options.opacity<1&&te(r,this.options.opacity)},_addTile:function(r,s){var c=this._getTilePos(r),f=this._tileCoordsToKey(r),m=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(m),this.createTile.length<2&&M(u(this._tileReady,this,r,null,m)),jt(m,c),this._tiles[f]={el:m,coords:r,current:!0},s.appendChild(m),this.fire("tileloadstart",{tile:m,coords:r})},_tileReady:function(r,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:r});var f=this._tileCoordsToKey(r);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(te(c.el,0),O(this._fadeFrame),this._fadeFrame=M(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(mt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nt.ielt9||!this._map._fadeAnimated?M(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new $(this._wrapX?w(r.x,this._wrapX):r.x,this._wrapY?w(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new at(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Z0(r){return new Ws(r)}var fo=Ws.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=b(this,s),s.detectRetina&&nt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var c=document.createElement("img");return ut(c,"load",u(this._tileOnLoad,this,s,c)),ut(c,"error",u(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(r),c},getTileUrl:function(r){var s={r:nt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=c),s["-y"]=c}return S(this._url,o(s,this.options))},_tileOnLoad:function(r,s){nt.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,c){var f=this.options.errorTileUrl;f&&s.getAttribute("src")!==f&&(s.src=f),r(c,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(r=s-r),r+f},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=T,s.onerror=T,!s.complete)){s.src=Y;var c=this._tiles[r].coords;Dt(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",Y),Ws.prototype._removeTile.call(this,r)},_tileReady:function(r,s,c){if(!(!this._map||c&&c.getAttribute("src")===Y))return Ws.prototype._tileReady.call(this,r,s,c)}});function Pp(r,s){return new fo(r,s)}var Ip=fo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var c=o({},this.defaultWmsParams);for(var f in s)f in this.options||(c[f]=s[f]);s=b(this,s);var m=s.detectRetina&&nt.retina?2:1,v=this.getTileSize();c.width=v.x*m,c.height=v.y*m,this.wmsParams=c},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,fo.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),c=this._crs,f=pt(c.project(s[0]),c.project(s[1])),m=f.min,v=f.max,C=(this._wmsVersion>=1.3&&this._crs===Rt?[m.y,m.x,v.y,v.x]:[m.x,m.y,v.x,v.y]).join(","),z=fo.prototype.getTileUrl.call(this,r);return z+q(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function q0(r,s){return new Ip(r,s)}fo.WMS=Ip,Pp.wms=q0;var ci=ht.extend({options:{padding:.1},initialize:function(r){b(this,r),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var c=this._map.getZoomScale(s,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,s),v=f.multiplyBy(-c).add(m).subtract(this._map._getNewPixelOrigin(r,s));nt.any3d?sn(this._container,v,c):jt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new at(c,c.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sp=ci.extend({options:{tolerance:0},getEvents:function(){var r=ci.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ci.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ut(r,"mousemove",this._onMouseMove,this),ut(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ut(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,Dt(this._container),Nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ci.prototype._update.call(this);var r=this._bounds,s=this._container,c=r.getSize(),f=nt.retina?2:1;jt(s,r.min),s.width=f*c.x,s.height=f*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){ci.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[d(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,c=s.next,f=s.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete r._order,delete this._layers[d(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),c=[],f,m;for(m=0;m<s.length;m++){if(f=Number(s[m]),isNaN(f))return;c.push(f)}r.options._dashArray=c}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||M(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new at,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)r=f.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var c,f,m,v,C=r._parts,z=C.length,B=this._ctx;if(z){for(B.beginPath(),c=0;c<z;c++){for(f=0,m=C[c].length;f<m;f++)v=C[c][f],B[f?"lineTo":"moveTo"](v.x,v.y);s&&B.closePath()}this._fillStroke(B,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,c=this._ctx,f=Math.max(Math.round(r._radius),1),m=(Math.max(Math.round(r._radiusY),1)||f)/f;m!==1&&(c.save(),c.scale(1,m)),c.beginPath(),c.arc(s.x,s.y/m,f,0,Math.PI*2,!1),m!==1&&c.restore(),this._fillStroke(c,r)}},_fillStroke:function(r,s){var c=s.options;c.fill&&(r.globalAlpha=c.fillOpacity,r.fillStyle=c.fillColor||c.color,r.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=c.opacity,r.lineWidth=c.weight,r.strokeStyle=c.color,r.lineCap=c.lineCap,r.lineJoin=c.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),c,f,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Ft(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var c,f,m=this._drawFirst;m;m=m.next)c=m.layer,c.options.interactive&&c._containsPoint(s)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(r),f&&(mt(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,c){this._map._fireDOMEvent(s,c||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var c=s.next,f=s.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var c=s.next,f=s.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function Ap(r){return nt.canvas?new Sp(r):null}var Zs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),K0={_initContainer:function(){this._container=Tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ci.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=Zs("shape");mt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=Zs("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Dt(s),r.removeInteractiveTarget(s),delete this._layers[d(r)]},_updateStyle:function(r){var s=r._stroke,c=r._fill,f=r.options,m=r._container;m.stroked=!!f.stroke,m.filled=!!f.fill,f.stroke?(s||(s=r._stroke=Zs("stroke")),m.appendChild(s),s.weight=f.weight+"px",s.color=f.color,s.opacity=f.opacity,f.dashArray?s.dashStyle=N(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=f.lineCap.replace("butt","flat"),s.joinstyle=f.lineJoin):s&&(m.removeChild(s),r._stroke=null),f.fill?(c||(c=r._fill=Zs("fill")),m.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(m.removeChild(c),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),c=Math.round(r._radius),f=Math.round(r._radiusY||c);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){ei(r._container)},_bringToBack:function(r){ni(r._container)}},Bl=nt.vml?Zs:Zr,qs=ci.extend({_initContainer:function(){this._container=Bl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Bl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dt(this._container),Nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ci.prototype._update.call(this);var r=this._bounds,s=r.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),jt(c,r.min),c.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=Bl("path");r.options.className&&mt(s,r.options.className),r.options.interactive&&mt(s,"leaflet-interactive"),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Dt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[d(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,c=r.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,ls(r._parts,s))},_updateCircle:function(r){var s=r._point,c=Math.max(Math.round(r._radius),1),f=Math.max(Math.round(r._radiusY),1)||c,m="a"+c+","+f+" 0 1,0 ",v=r._empty()?"M0 0":"M"+(s.x-c)+","+s.y+m+c*2+",0 "+m+-c*2+",0 ";this._setPath(r,v)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){ei(r._path)},_bringToBack:function(r){ni(r._path)}});nt.vml&&qs.include(K0);function Cp(r){return nt.svg||nt.vml?new qs(r):null}vt.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&Ap(r)||Cp(r)}});var xp=co.extend({initialize:function(r,s){co.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=kt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function G0(r,s){return new xp(r,s)}qs.create=Bl,qs.pointsToPath=ls,ui.geometryToLayer=Nl,ui.coordsToLatLng=Hc,ui.coordsToLatLngs=Dl,ui.latLngToCoords=Wc,ui.latLngsToCoords=Ol,ui.getFeature=ho,ui.asFeature=Vl,vt.mergeOptions({boxZoom:!0});var kp=un.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Vn(),no(),this._startPoint=this._map.mouseEventToContainerPoint(r),ut(document,{contextmenu:Ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Tt("div","leaflet-zoom-box",this._container),mt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new at(this._point,this._startPoint),c=s.getSize();jt(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Dt(this._box),Ft(this._container,"leaflet-crosshair")),En(),Cs(),Nt(document,{contextmenu:Ye,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new wt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vt.addInitHook("addHandler","boxZoom",kp),vt.mergeOptions({doubleClickZoom:!0});var Rp=un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,c=s.getZoom(),f=s.options.zoomDelta,m=r.originalEvent.shiftKey?c-f:c+f;s.options.doubleClickZoom==="center"?s.setZoom(m):s.setZoomAround(r.containerPoint,m)}});vt.addInitHook("addHandler","doubleClickZoom",Rp),vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Lp=un.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Pn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}mt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ft(this._map._container,"leaflet-grab"),Ft(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=kt(this._map.options.maxBounds);this._offsetLimit=pt(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,m=(f-s+c)%r+s-c,v=(f+s+c)%r-s-c,C=Math.abs(m+c)<Math.abs(v+c)?m:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(r){var s=this._map,c=s.options,f=!c.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),f)s.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,C=c.easeLinearity,z=m.multiplyBy(C/v),B=z.distanceTo([0,0]),H=Math.min(c.inertiaMaxSpeed,B),J=z.multiplyBy(H/B),ot=H/(c.inertiaDeceleration*C),gt=J.multiplyBy(-ot/2).round();!gt.x&&!gt.y?s.fire("moveend"):(gt=s._limitOffset(gt,s.options.maxBounds),M(function(){s.panBy(gt,{duration:ot,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});vt.addInitHook("addHandler","dragging",Lp),vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mp=un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ut(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,c=r.scrollTop||s.scrollTop,f=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},c=this.keyCodes,f,m;for(f=0,m=c.left.length;f<m;f++)s[c.left[f]]=[-1*r,0];for(f=0,m=c.right.length;f<m;f++)s[c.right[f]]=[r,0];for(f=0,m=c.down.length;f<m;f++)s[c.down[f]]=[0,r];for(f=0,m=c.up.length;f<m;f++)s[c.up[f]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},c=this.keyCodes,f,m;for(f=0,m=c.zoomIn.length;f<m;f++)s[c.zoomIn[f]]=r;for(f=0,m=c.zoomOut.length;f<m;f++)s[c.zoomOut[f]]=-r},_addHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,c=this._map,f;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[s],r.shiftKey&&(f=G(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(G(f),c.options.maxBounds)),c.options.worldCopyJump){var m=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(m)}else c.panBy(f)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Ye(r)}}});vt.addInitHook("addHandler","keyboard",Mp),vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Np=un.extend({addHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=Vt(r),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),f),Ye(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),c=this._map.options.zoomSnap||0;r._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),m=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,v=c?Math.ceil(m/c)*c:m,C=r._limitZoom(s+(this._delta>0?v:-v))-s;this._delta=0,this._startTime=null,C&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+C):r.setZoomAround(this._lastMousePos,s+C))}});vt.addInitHook("addHandler","scrollWheelZoom",Np);var Q0=600;vt.mergeOptions({tapHold:nt.touchNative&&nt.safari&&nt.mobile,tapTolerance:15});var Dp=un.extend({addHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new $(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(ut(document,"touchend",ee),ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Q0),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Nt(document,"touchend",ee),Nt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new $(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var c=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});vt.addInitHook("addHandler","tapHold",Dp),vt.mergeOptions({touchZoom:nt.touch,bounceAtZoomLimits:!0});var Op=un.extend({addHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ft(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(r.touches[0]),f=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),ee(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(r.touches[0]),f=s.mouseEventToContainerPoint(r.touches[1]),m=c.distanceTo(f)/this._startDist;if(this._zoom=s.getScaleZoom(m,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&m<1||this._zoom>s.getMaxZoom()&&m>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,m===1)return}else{var v=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(m===1&&v.x===0&&v.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var C=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=M(C,this,!0),ee(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,O(this._animRequest),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vt.addInitHook("addHandler","touchZoom",Op),vt.BoxZoom=kp,vt.DoubleClickZoom=Rp,vt.Drag=Lp,vt.Keyboard=Mp,vt.ScrollWheelZoom=Np,vt.TapHold=Dp,vt.TouchZoom=Op,n.Bounds=at,n.Browser=nt,n.CRS=Jt,n.Canvas=Sp,n.Circle=$c,n.CircleMarker=Ml,n.Class=Kt,n.Control=ke,n.DivIcon=Tp,n.DivOverlay=Fn,n.DomEvent=jc,n.DomUtil=Tl,n.Draggable=Pn,n.Evented=be,n.FeatureGroup=Re,n.GeoJSON=ui,n.GridLayer=Ws,n.Handler=un,n.Icon=In,n.ImageOverlay=zl,n.LatLng=_t,n.LatLngBounds=wt,n.Layer=ht,n.LayerGroup=$t,n.LineUtil=_,n.Map=vt,n.Marker=Ll,n.Mixin=Al,n.Path=zi,n.Point=$,n.PolyUtil=Cl,n.Polygon=co,n.Polyline=li,n.Popup=bl,n.PosAnimation=Os,n.Projection=U,n.Rectangle=xp,n.Renderer=ci,n.SVG=qs,n.SVGOverlay=Ep,n.TileLayer=fo,n.Tooltip=Fl,n.Transformation=Ai,n.Util=x,n.VideoOverlay=wp,n.bind=u,n.bounds=pt,n.canvas=Ap,n.circle=V0,n.circleMarker=O0,n.control=Di,n.divIcon=W0,n.extend=o,n.featureGroup=Xe,n.geoJSON=yp,n.geoJson=F0,n.gridLayer=Z0,n.icon=$s,n.imageOverlay=B0,n.latLng=ct,n.latLngBounds=kt,n.layerGroup=pe,n.map=Il,n.marker=D0,n.point=G,n.polygon=b0,n.polyline=z0,n.popup=$0,n.rectangle=G0,n.setOptions=b,n.stamp=d,n.svg=Cp,n.svgOverlay=j0,n.tileLayer=Pp,n.tooltip=H0,n.transformation=Qn,n.version=i,n.videoOverlay=U0;var Y0=window.L;n.noConflict=function(){return window.L=Y0,this},window.L=n})})(Tf,Tf.exports);var Ac=Tf.exports;function Fd(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Bd(e,t){return t==null?function(i,o){const a=xt.useRef();return a.current||(a.current=e(i,o)),a}:function(i,o){const a=xt.useRef();a.current||(a.current=e(i,o));const u=xt.useRef(i),{instance:h}=a.current;return xt.useEffect(function(){u.current!==i&&(t(h,i,u.current),u.current=i)},[h,i,o]),a}}function BT(e,t){xt.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function oy(e){return function(n){const i=iy(),o=e(bd(n,i),i);return ty(i.map,n.attribution),ry(o.current,n.eventHandlers),BT(o.current,i),o}}function UT(e,t){const n=Bd(e,t),i=oy(n);return VT(i)}function jT(e,t){const n=Bd(e),i=FT(n,t);return zT(i)}function $T(e,t){const n=Bd(e,t),i=oy(n);return bT(i)}function HT(e,t,n){const{opacity:i,zIndex:o}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function Pf(){return Pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pf.apply(this,arguments)}function WT({bounds:e,boundsOptions:t,center:n,children:i,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:g,...w},T){const[P]=xt.useState({className:o,id:a,style:h}),[D,F]=xt.useState(null);xt.useImperativeHandle(T,()=>(D==null?void 0:D.map)??null,[D]);const b=xt.useCallback(R=>{if(R!==null&&D===null){const S=new Ac.Map(R,w);n!=null&&g!=null?S.setView(n,g):e!=null&&S.fitBounds(e,t),d!=null&&S.whenReady(d),F(DT(S))}},[]);xt.useEffect(()=>()=>{D==null||D.map.remove()},[D]);const q=D?Cu.createElement(ny,{value:D},i):u??null;return Cu.createElement("div",Pf({},P,{ref:b}),q)}const ZT=xt.forwardRef(WT),qT=UT(function({position:t,...n},i){const o=new Ac.Marker(t,n);return Fd(o,OT(i,{overlayContainer:o}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),KT=jT(function(t,n){const i=new Ac.Popup(t,n.overlayContainer);return Fd(i,n)},function(t,n,{position:i},o){xt.useEffect(function(){const{instance:u}=t;function h(g){g.popup===u&&(u.update(),o(!0))}function d(g){g.popup===u&&o(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(i!=null&&u.setLatLng(i),u.openOn(n.map)):n.overlayContainer.bindPopup(u),function(){var w;n.map.off({popupopen:h,popupclose:d}),(w=n.overlayContainer)==null||w.unbindPopup(),n.map.removeLayer(u)}},[t,n,o,i])}),GT=$T(function({url:t,...n},i){const o=new Ac.TileLayer(t,bd(n,i));return Fd(o,i)},function(t,n,i){HT(t,n,i);const{url:o}=n;o!=null&&o!==i.url&&t.setUrl(o)});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},QT=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=e[n++];t[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=e[n++],u=e[n++],h=e[n++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const a=e[n++],u=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return t.join("")},ay={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<e.length;o+=3){const a=e[o],u=o+1<e.length,h=u?e[o+1]:0,d=o+2<e.length,g=d?e[o+2]:0,w=a>>2,T=(a&3)<<4|h>>4;let P=(h&15)<<2|g>>6,D=g&63;d||(D=64,u||(P=64)),i.push(n[w],n[T],n[P],n[D])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sy(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):QT(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<e.length;){const a=n[e.charAt(o++)],h=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const T=o<e.length?n[e.charAt(o)]:64;if(++o,a==null||h==null||g==null||T==null)throw new YT;const P=a<<2|h>>4;if(i.push(P),g!==64){const D=h<<4&240|g>>2;if(i.push(D),T!==64){const F=g<<6&192|T;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class YT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XT=function(e){const t=sy(e);return ay.encodeByteArray(t,!0)},Xu=function(e){return XT(e).replace(/\./g,"")},JT=function(e){try{return ay.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=()=>t1().__FIREBASE_DEFAULTS__,n1=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},i1=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&JT(e[1]);return t&&JSON.parse(t)},Ud=()=>{try{return e1()||n1()||i1()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},r1=e=>{var t,n;return(n=(t=Ud())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},o1=e=>{const t=r1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},ly=()=>{var e;return(e=Ud())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),h="";return[Xu(JSON.stringify(n)),Xu(JSON.stringify(u)),h].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){var e;const t=(e=Ud())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;t(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="FirebaseError";class ns extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=d1,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uy.prototype.create)}}class uy{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},o=`${this.service}/${t}`,a=this.errors[t],u=a?p1(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new ns(o,h,i)}}function p1(e,t){return e.replace(m1,(n,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const m1=/\{\$([^}]+)}/g;function If(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const o of n){if(!i.includes(o))return!1;const a=e[o],u=t[o];if(Km(a)&&Km(u)){if(!If(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Km(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(e){return e&&e._delegate?e._delegate:e}class Ua{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new s1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(v1(t))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(t=Ar){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ar){return this.instances.has(t)}getOptions(t=Ar){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(t,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&t(u,o),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:g1(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ar){return this.component?this.component.multipleInstances?t:Ar:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g1(e){return e===Ar?void 0:e}function v1(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(St||(St={}));const w1={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},E1=St.INFO,T1={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},P1=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),o=T1[t];if(o)console[o](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cy{constructor(t){this.name=t,this._logLevel=E1,this._logHandler=P1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in St))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?w1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...t),this._logHandler(this,St.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...t),this._logHandler(this,St.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,St.INFO,...t),this._logHandler(this,St.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,St.WARN,...t),this._logHandler(this,St.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...t),this._logHandler(this,St.ERROR,...t)}}const I1=(e,t)=>t.some(n=>e instanceof n);let Gm,Qm;function S1(){return Gm||(Gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A1(){return Qm||(Qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hy=new WeakMap,Sf=new WeakMap,fy=new WeakMap,wh=new WeakMap,jd=new WeakMap;function C1(e){const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("success",a),e.removeEventListener("error",u)},a=()=>{n(tr(e.result)),o()},u=()=>{i(e.error),o()};e.addEventListener("success",a),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&hy.set(n,e)}).catch(()=>{}),jd.set(t,e),t}function x1(e){if(Sf.has(e))return;const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",u),e.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",a),e.addEventListener("error",u),e.addEventListener("abort",u)});Sf.set(e,t)}let Af={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Sf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fy.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function k1(e){Af=e(Af)}function R1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Eh(this),t,...n);return fy.set(i,t.sort?t.sort():[t]),tr(i)}:A1().includes(e)?function(...t){return e.apply(Eh(this),t),tr(hy.get(this))}:function(...t){return tr(e.apply(Eh(this),t))}}function L1(e){return typeof e=="function"?R1(e):(e instanceof IDBTransaction&&x1(e),I1(e,S1())?new Proxy(e,Af):e)}function tr(e){if(e instanceof IDBRequest)return C1(e);if(wh.has(e))return wh.get(e);const t=L1(e);return t!==e&&(wh.set(e,t),jd.set(t,e)),t}const Eh=e=>jd.get(e);function M1(e,t,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(e,t),h=tr(u);return i&&u.addEventListener("upgradeneeded",d=>{i(tr(u.result),d.oldVersion,d.newVersion,tr(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const N1=["get","getKey","getAll","getAllKeys","count"],D1=["put","add","delete","clear"],Th=new Map;function Ym(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Th.get(t))return Th.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,o=D1.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||N1.includes(n)))return;const a=async function(u,...h){const d=this.transaction(u,o?"readwrite":"readonly");let g=d.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),o&&d.done]))[0]};return Th.set(t,a),a}k1(e=>({...e,get:(t,n,i)=>Ym(t,n)||e.get(t,n,i),has:(t,n)=>!!Ym(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V1(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function V1(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cf="@firebase/app",Xm="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new cy("@firebase/app"),z1="@firebase/app-compat",b1="@firebase/analytics-compat",F1="@firebase/analytics",B1="@firebase/app-check-compat",U1="@firebase/app-check",j1="@firebase/auth",$1="@firebase/auth-compat",H1="@firebase/database",W1="@firebase/data-connect",Z1="@firebase/database-compat",q1="@firebase/functions",K1="@firebase/functions-compat",G1="@firebase/installations",Q1="@firebase/installations-compat",Y1="@firebase/messaging",X1="@firebase/messaging-compat",J1="@firebase/performance",tP="@firebase/performance-compat",eP="@firebase/remote-config",nP="@firebase/remote-config-compat",iP="@firebase/storage",rP="@firebase/storage-compat",oP="@firebase/firestore",sP="@firebase/vertexai-preview",aP="@firebase/firestore-compat",lP="firebase",uP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",cP={[Cf]:"fire-core",[z1]:"fire-core-compat",[F1]:"fire-analytics",[b1]:"fire-analytics-compat",[U1]:"fire-app-check",[B1]:"fire-app-check-compat",[j1]:"fire-auth",[$1]:"fire-auth-compat",[H1]:"fire-rtdb",[W1]:"fire-data-connect",[Z1]:"fire-rtdb-compat",[q1]:"fire-fn",[K1]:"fire-fn-compat",[G1]:"fire-iid",[Q1]:"fire-iid-compat",[Y1]:"fire-fcm",[X1]:"fire-fcm-compat",[J1]:"fire-perf",[tP]:"fire-perf-compat",[eP]:"fire-rc",[nP]:"fire-rc-compat",[iP]:"fire-gcs",[rP]:"fire-gcs-compat",[oP]:"fire-fst",[aP]:"fire-fst-compat",[sP]:"fire-vertex","fire-js":"fire-js",[lP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,hP=new Map,kf=new Map;function Jm(e,t){try{e.container.addComponent(t)}catch(n){Ei.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function tc(e){const t=e.name;if(kf.has(t))return Ei.debug(`There were multiple attempts to register component ${t}.`),!1;kf.set(t,e);for(const n of Ju.values())Jm(n,e);for(const n of hP.values())Jm(n,e);return!0}function fP(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new uy("app","Firebase",dP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=uP;function dy(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:xf,automaticDataCollectionEnabled:!1},t),o=i.name;if(typeof o!="string"||!o)throw er.create("bad-app-name",{appName:String(o)});if(n||(n=ly()),!n)throw er.create("no-options");const a=Ju.get(o);if(a){if(If(n,a.options)&&If(i,a.config))return a;throw er.create("duplicate-app",{appName:o})}const u=new y1(o);for(const d of kf.values())u.addComponent(d);const h=new pP(n,i,u);return Ju.set(o,h),h}function _P(e=xf){const t=Ju.get(e);if(!t&&e===xf&&ly())return dy();if(!t)throw er.create("no-app",{appName:e});return t}function zo(e,t,n){var i;let o=(i=cP[e])!==null&&i!==void 0?i:e;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=t.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${t}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ei.warn(h.join(" "));return}tc(new Ua(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="firebase-heartbeat-database",vP=1,ja="firebase-heartbeat-store";let Ph=null;function py(){return Ph||(Ph=M1(gP,vP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(e=>{throw er.create("idb-open",{originalErrorMessage:e.message})})),Ph}async function yP(e){try{const n=(await py()).transaction(ja),i=await n.objectStore(ja).get(my(e));return await n.done,i}catch(t){if(t instanceof ns)Ei.warn(t.message);else{const n=er.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(n.message)}}}async function t_(e,t){try{const i=(await py()).transaction(ja,"readwrite");await i.objectStore(ja).put(t,my(e)),await i.done}catch(n){if(n instanceof ns)Ei.warn(n.message);else{const i=er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(i.message)}}}function my(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=1024,EP=30*24*60*60*1e3;class TP{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=e_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=EP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e_(),{heartbeatsToSend:i,unsentEntries:o}=PP(this._heartbeatsCache.heartbeats),a=Xu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ei.warn(n),""}}}function e_(){return new Date().toISOString().substring(0,10)}function PP(e,t=wP){const n=[];let i=e.slice();for(const o of e){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),n_(n)>t){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),n_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class IP{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return t_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function n_(e){return Xu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){tc(new Ua("platform-logger",t=>new O1(t),"PRIVATE")),tc(new Ua("heartbeat",t=>new TP(t),"PRIVATE")),zo(Cf,Xm,e),zo(Cf,Xm,"esm2017"),zo("fire-js","")}SP("");var AP="firebase",CP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zo(AP,CP,"app");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,_y;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,E){function I(){}I.prototype=E.prototype,A.D=E.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(k,M,O){for(var x=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)x[Kt-2]=arguments[Kt];return E.prototype[M].apply(k,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,E,I){I||(I=0);var k=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)k[M]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(M=0;16>M;++M)k[M]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=A.g[0],I=A.g[1],M=A.g[2];var O=A.g[3],x=E+(O^I&(M^O))+k[0]+3614090360&4294967295;E=I+(x<<7&4294967295|x>>>25),x=O+(M^E&(I^M))+k[1]+3905402710&4294967295,O=E+(x<<12&4294967295|x>>>20),x=M+(I^O&(E^I))+k[2]+606105819&4294967295,M=O+(x<<17&4294967295|x>>>15),x=I+(E^M&(O^E))+k[3]+3250441966&4294967295,I=M+(x<<22&4294967295|x>>>10),x=E+(O^I&(M^O))+k[4]+4118548399&4294967295,E=I+(x<<7&4294967295|x>>>25),x=O+(M^E&(I^M))+k[5]+1200080426&4294967295,O=E+(x<<12&4294967295|x>>>20),x=M+(I^O&(E^I))+k[6]+2821735955&4294967295,M=O+(x<<17&4294967295|x>>>15),x=I+(E^M&(O^E))+k[7]+4249261313&4294967295,I=M+(x<<22&4294967295|x>>>10),x=E+(O^I&(M^O))+k[8]+1770035416&4294967295,E=I+(x<<7&4294967295|x>>>25),x=O+(M^E&(I^M))+k[9]+2336552879&4294967295,O=E+(x<<12&4294967295|x>>>20),x=M+(I^O&(E^I))+k[10]+4294925233&4294967295,M=O+(x<<17&4294967295|x>>>15),x=I+(E^M&(O^E))+k[11]+2304563134&4294967295,I=M+(x<<22&4294967295|x>>>10),x=E+(O^I&(M^O))+k[12]+1804603682&4294967295,E=I+(x<<7&4294967295|x>>>25),x=O+(M^E&(I^M))+k[13]+4254626195&4294967295,O=E+(x<<12&4294967295|x>>>20),x=M+(I^O&(E^I))+k[14]+2792965006&4294967295,M=O+(x<<17&4294967295|x>>>15),x=I+(E^M&(O^E))+k[15]+1236535329&4294967295,I=M+(x<<22&4294967295|x>>>10),x=E+(M^O&(I^M))+k[1]+4129170786&4294967295,E=I+(x<<5&4294967295|x>>>27),x=O+(I^M&(E^I))+k[6]+3225465664&4294967295,O=E+(x<<9&4294967295|x>>>23),x=M+(E^I&(O^E))+k[11]+643717713&4294967295,M=O+(x<<14&4294967295|x>>>18),x=I+(O^E&(M^O))+k[0]+3921069994&4294967295,I=M+(x<<20&4294967295|x>>>12),x=E+(M^O&(I^M))+k[5]+3593408605&4294967295,E=I+(x<<5&4294967295|x>>>27),x=O+(I^M&(E^I))+k[10]+38016083&4294967295,O=E+(x<<9&4294967295|x>>>23),x=M+(E^I&(O^E))+k[15]+3634488961&4294967295,M=O+(x<<14&4294967295|x>>>18),x=I+(O^E&(M^O))+k[4]+3889429448&4294967295,I=M+(x<<20&4294967295|x>>>12),x=E+(M^O&(I^M))+k[9]+568446438&4294967295,E=I+(x<<5&4294967295|x>>>27),x=O+(I^M&(E^I))+k[14]+3275163606&4294967295,O=E+(x<<9&4294967295|x>>>23),x=M+(E^I&(O^E))+k[3]+4107603335&4294967295,M=O+(x<<14&4294967295|x>>>18),x=I+(O^E&(M^O))+k[8]+1163531501&4294967295,I=M+(x<<20&4294967295|x>>>12),x=E+(M^O&(I^M))+k[13]+2850285829&4294967295,E=I+(x<<5&4294967295|x>>>27),x=O+(I^M&(E^I))+k[2]+4243563512&4294967295,O=E+(x<<9&4294967295|x>>>23),x=M+(E^I&(O^E))+k[7]+1735328473&4294967295,M=O+(x<<14&4294967295|x>>>18),x=I+(O^E&(M^O))+k[12]+2368359562&4294967295,I=M+(x<<20&4294967295|x>>>12),x=E+(I^M^O)+k[5]+4294588738&4294967295,E=I+(x<<4&4294967295|x>>>28),x=O+(E^I^M)+k[8]+2272392833&4294967295,O=E+(x<<11&4294967295|x>>>21),x=M+(O^E^I)+k[11]+1839030562&4294967295,M=O+(x<<16&4294967295|x>>>16),x=I+(M^O^E)+k[14]+4259657740&4294967295,I=M+(x<<23&4294967295|x>>>9),x=E+(I^M^O)+k[1]+2763975236&4294967295,E=I+(x<<4&4294967295|x>>>28),x=O+(E^I^M)+k[4]+1272893353&4294967295,O=E+(x<<11&4294967295|x>>>21),x=M+(O^E^I)+k[7]+4139469664&4294967295,M=O+(x<<16&4294967295|x>>>16),x=I+(M^O^E)+k[10]+3200236656&4294967295,I=M+(x<<23&4294967295|x>>>9),x=E+(I^M^O)+k[13]+681279174&4294967295,E=I+(x<<4&4294967295|x>>>28),x=O+(E^I^M)+k[0]+3936430074&4294967295,O=E+(x<<11&4294967295|x>>>21),x=M+(O^E^I)+k[3]+3572445317&4294967295,M=O+(x<<16&4294967295|x>>>16),x=I+(M^O^E)+k[6]+76029189&4294967295,I=M+(x<<23&4294967295|x>>>9),x=E+(I^M^O)+k[9]+3654602809&4294967295,E=I+(x<<4&4294967295|x>>>28),x=O+(E^I^M)+k[12]+3873151461&4294967295,O=E+(x<<11&4294967295|x>>>21),x=M+(O^E^I)+k[15]+530742520&4294967295,M=O+(x<<16&4294967295|x>>>16),x=I+(M^O^E)+k[2]+3299628645&4294967295,I=M+(x<<23&4294967295|x>>>9),x=E+(M^(I|~O))+k[0]+4096336452&4294967295,E=I+(x<<6&4294967295|x>>>26),x=O+(I^(E|~M))+k[7]+1126891415&4294967295,O=E+(x<<10&4294967295|x>>>22),x=M+(E^(O|~I))+k[14]+2878612391&4294967295,M=O+(x<<15&4294967295|x>>>17),x=I+(O^(M|~E))+k[5]+4237533241&4294967295,I=M+(x<<21&4294967295|x>>>11),x=E+(M^(I|~O))+k[12]+1700485571&4294967295,E=I+(x<<6&4294967295|x>>>26),x=O+(I^(E|~M))+k[3]+2399980690&4294967295,O=E+(x<<10&4294967295|x>>>22),x=M+(E^(O|~I))+k[10]+4293915773&4294967295,M=O+(x<<15&4294967295|x>>>17),x=I+(O^(M|~E))+k[1]+2240044497&4294967295,I=M+(x<<21&4294967295|x>>>11),x=E+(M^(I|~O))+k[8]+1873313359&4294967295,E=I+(x<<6&4294967295|x>>>26),x=O+(I^(E|~M))+k[15]+4264355552&4294967295,O=E+(x<<10&4294967295|x>>>22),x=M+(E^(O|~I))+k[6]+2734768916&4294967295,M=O+(x<<15&4294967295|x>>>17),x=I+(O^(M|~E))+k[13]+1309151649&4294967295,I=M+(x<<21&4294967295|x>>>11),x=E+(M^(I|~O))+k[4]+4149444226&4294967295,E=I+(x<<6&4294967295|x>>>26),x=O+(I^(E|~M))+k[11]+3174756917&4294967295,O=E+(x<<10&4294967295|x>>>22),x=M+(E^(O|~I))+k[2]+718787259&4294967295,M=O+(x<<15&4294967295|x>>>17),x=I+(O^(M|~E))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+O&4294967295}i.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var I=E-this.blockSize,k=this.B,M=this.h,O=0;O<E;){if(M==0)for(;O<=I;)o(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<E;)if(k[M++]=A.charCodeAt(O++),M==this.blockSize){o(this,k),M=0;break}}else for(;O<E;)if(k[M++]=A[O++],M==this.blockSize){o(this,k),M=0;break}}this.h=M,this.o+=E},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var I=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=I&255,I/=256;for(this.u(A),A=Array(16),E=I=0;4>E;++E)for(var k=0;32>k;k+=8)A[I++]=this.g[E]>>>k&255;return A};function a(A,E){var I=h;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=E(A)}function u(A,E){this.h=E;for(var I=[],k=!0,M=A.length-1;0<=M;M--){var O=A[M]|0;k&&O==E||(I[M]=O,k=!1)}this.g=I}var h={};function d(A){return-128<=A&&128>A?a(A,function(E){return new u([E|0],0>E?-1:0)}):new u([A|0],0>A?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return q(g(-A));for(var E=[],I=1,k=0;A>=I;k++)E[k]=A/I|0,I*=4294967296;return new u(E,0)}function w(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return q(w(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(E,8)),k=T,M=0;M<A.length;M+=8){var O=Math.min(8,A.length-M),x=parseInt(A.substring(M,M+O),E);8>O?(O=g(Math.pow(E,O)),k=k.j(O).add(g(x))):(k=k.j(I),k=k.add(g(x)))}return k}var T=d(0),P=d(1),D=d(16777216);e=u.prototype,e.m=function(){if(b(this))return-q(this).m();for(var A=0,E=1,I=0;I<this.g.length;I++){var k=this.i(I);A+=(0<=k?k:4294967296+k)*E,E*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(F(this))return"0";if(b(this))return"-"+q(this).toString(A);for(var E=g(Math.pow(A,6)),I=this,k="";;){var M=j(I,E).g;I=R(I,M.j(E));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=M,F(I))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function F(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function b(A){return A.h==-1}e.l=function(A){return A=R(this,A),b(A)?-1:F(A)?0:1};function q(A){for(var E=A.g.length,I=[],k=0;k<E;k++)I[k]=~A.g[k];return new u(I,~A.h).add(P)}e.abs=function(){return b(this)?q(this):this},e.add=function(A){for(var E=Math.max(this.g.length,A.g.length),I=[],k=0,M=0;M<=E;M++){var O=k+(this.i(M)&65535)+(A.i(M)&65535),x=(O>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);k=x>>>16,O&=65535,x&=65535,I[M]=x<<16|O}return new u(I,I[I.length-1]&-2147483648?-1:0)};function R(A,E){return A.add(q(E))}e.j=function(A){if(F(this)||F(A))return T;if(b(this))return b(A)?q(this).j(q(A)):q(q(this).j(A));if(b(A))return q(this.j(q(A)));if(0>this.l(D)&&0>A.l(D))return g(this.m()*A.m());for(var E=this.g.length+A.g.length,I=[],k=0;k<2*E;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var M=0;M<A.g.length;M++){var O=this.i(k)>>>16,x=this.i(k)&65535,Kt=A.i(M)>>>16,Gn=A.i(M)&65535;I[2*k+2*M]+=x*Gn,S(I,2*k+2*M),I[2*k+2*M+1]+=O*Gn,S(I,2*k+2*M+1),I[2*k+2*M+1]+=x*Kt,S(I,2*k+2*M+1),I[2*k+2*M+2]+=O*Kt,S(I,2*k+2*M+2)}for(k=0;k<E;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=E;k<2*E;k++)I[k]=0;return new u(I,0)};function S(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function N(A,E){this.g=A,this.h=E}function j(A,E){if(F(E))throw Error("division by zero");if(F(A))return new N(T,T);if(b(A))return E=j(q(A),E),new N(q(E.g),q(E.h));if(b(E))return E=j(A,q(E)),new N(q(E.g),E.h);if(30<A.g.length){if(b(A)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var I=P,k=E;0>=k.l(A);)I=Y(I),k=Y(k);var M=X(I,1),O=X(k,1);for(k=X(k,2),I=X(I,2);!F(k);){var x=O.add(k);0>=x.l(A)&&(M=M.add(I),O=x),k=X(k,1),I=X(I,1)}return E=R(A,M.j(E)),new N(M,E)}for(M=T;0<=A.l(E);){for(I=Math.max(1,Math.floor(A.m()/E.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=g(I),x=O.j(E);b(x)||0<x.l(A);)I-=k,O=g(I),x=O.j(E);F(O)&&(O=P),M=M.add(O),A=R(A,x)}return new N(M,A)}e.A=function(A){return j(this,A).h},e.and=function(A){for(var E=Math.max(this.g.length,A.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)&A.i(k);return new u(I,this.h&A.h)},e.or=function(A){for(var E=Math.max(this.g.length,A.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)|A.i(k);return new u(I,this.h|A.h)},e.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),I=[],k=0;k<E;k++)I[k]=this.i(k)^A.i(k);return new u(I,this.h^A.h)};function Y(A){for(var E=A.g.length+1,I=[],k=0;k<E;k++)I[k]=A.i(k)<<1|A.i(k-1)>>>31;return new u(I,A.h)}function X(A,E){var I=E>>5;E%=32;for(var k=A.g.length-I,M=[],O=0;O<k;O++)M[O]=0<E?A.i(O+I)>>>E|A.i(O+I+1)<<32-E:A.i(O+I);return new u(M,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_y=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=w,Nr=u}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gy,aa,vy,Tu,Rf,yy,wy,Ey;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,_){return l==Array.prototype||l==Object.prototype||(l[p]=_.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ou=="object"&&ou];for(var p=0;p<l.length;++p){var _=l[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(l,p){if(p)t:{var _=i;l=l.split(".");for(var y=0;y<l.length-1;y++){var V=l[y];if(!(V in _))break t;_=_[V]}l=l[l.length-1],y=_[l],p=p(y),p!=y&&p!=null&&t(_,l,{configurable:!0,writable:!0,value:p})}}function a(l,p){l instanceof String&&(l+="");var _=0,y=!1,V={next:function(){if(!y&&_<l.length){var U=_++;return{value:p(U,l[U]),done:!1}}return y=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}o("Array.prototype.values",function(l){return l||function(){return a(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function g(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,_){return l.call.apply(l.bind,arguments)}function T(l,p,_){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,y),l.apply(p,V)}}return function(){return l.apply(p,arguments)}}function P(l,p,_){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,P.apply(null,arguments)}function D(l,p){var _=Array.prototype.slice.call(arguments,1);return function(){var y=_.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function F(l,p){function _(){}_.prototype=p.prototype,l.aa=p.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(y,V,U){for(var Q=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)Q[Rt-2]=arguments[Rt];return p.prototype[V].apply(y,Q)}}function b(l){const p=l.length;if(0<p){const _=Array(p);for(let y=0;y<p;y++)_[y]=l[y];return _}return[]}function q(l,p){for(let _=1;_<arguments.length;_++){const y=arguments[_];if(d(y)){const V=l.length||0,U=y.length||0;l.length=V+U;for(let Q=0;Q<U;Q++)l[V+Q]=y[Q]}else l.push(y)}}class R{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function S(l){return/^[\s\xa0]*$/.test(l)}function N(){var l=h.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var Y=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function X(l,p,_){for(const y in l)p.call(_,l[y],y,l)}function A(l,p){for(const _ in l)p.call(void 0,l[_],_,l)}function E(l){const p={};for(const _ in l)p[_]=l[_];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,p){let _,y;for(let V=1;V<arguments.length;V++){y=arguments[V];for(_ in y)l[_]=y[_];for(let U=0;U<I.length;U++)_=I[U],Object.prototype.hasOwnProperty.call(y,_)&&(l[_]=y[_])}}function M(l){var p=1;l=l.split(":");const _=[];for(;0<p&&l.length;)_.push(l.shift()),p--;return l.length&&_.push(l.join(":")),_}function O(l){h.setTimeout(()=>{throw l},0)}function x(){var l=st;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class Kt{constructor(){this.h=this.g=null}add(p,_){const y=Gn.get();y.set(p,_),this.h?this.h.next=y:this.g=y,this.h=y}}var Gn=new R(()=>new oe,l=>l.reset());class oe{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let be,$=!1,st=new Kt,G=()=>{const l=h.Promise.resolve(void 0);be=()=>{l.then(at)}};var at=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(_){O(_)}var p=Gn;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}$=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var kt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};h.addEventListener("test",_,p),h.removeEventListener("test",_,p)}catch{}return l}();function _t(l,p){if(wt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(Y){t:{try{j(p.nodeName);var V=!0;break t}catch{}V=!1}V||(p=null)}}else _=="mouseover"?p=l.fromElement:_=="mouseout"&&(p=l.toElement);this.relatedTarget=p,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ct[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&_t.aa.h.call(this)}}F(_t,wt);var ct={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),Nn=0;function al(l,p,_,y,V){this.listener=l,this.proxy=null,this.src=p,this.type=_,this.capture=!!y,this.ha=V,this.key=++Nn,this.da=this.fa=!1}function Si(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Ai(l){this.src=l,this.g={},this.h=0}Ai.prototype.add=function(l,p,_,y,V){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var Q=fr(l,p,y,V);return-1<Q?(p=l[Q],_||(p.fa=!1)):(p=new al(p,this.src,U,!!y,V),p.fa=_,l.push(p)),p};function Qn(l,p){var _=p.type;if(_ in l.g){var y=l.g[_],V=Array.prototype.indexOf.call(y,p,void 0),U;(U=0<=V)&&Array.prototype.splice.call(y,V,1),U&&(Si(p),l.g[_].length==0&&(delete l.g[_],l.h--))}}function fr(l,p,_,y){for(var V=0;V<l.length;++V){var U=l[V];if(!U.da&&U.listener==p&&U.capture==!!_&&U.ha==y)return V}return-1}var as="closure_lm_"+(1e6*Math.random()|0),Zr={};function ls(l,p,_,y,V){if(y&&y.once)return ll(l,p,_,y,V);if(Array.isArray(p)){for(var U=0;U<p.length;U++)ls(l,p[U],_,y,V);return null}return _=pr(_),l&&l[Jt]?l.K(p,_,g(y)?!!y.capture:!!y,V):qr(l,p,_,!1,y,V)}function qr(l,p,_,y,V,U){if(!p)throw Error("Invalid event type");var Q=g(V)?!!V.capture:!!V,Rt=hs(l);if(Rt||(l[as]=Rt=new Ai(l)),_=Rt.add(p,_,y,Q,U),_.proxy)return _;if(y=Kr(),_.proxy=y,y.src=l,y.listener=_,l.addEventListener)kt||(V=Q),V===void 0&&(V=!1),l.addEventListener(p.toString(),y,V);else if(l.attachEvent)l.attachEvent(cs(p.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kr(){function l(_){return p.call(l.src,l.listener,_)}const p=ul;return l}function ll(l,p,_,y,V){if(Array.isArray(p)){for(var U=0;U<p.length;U++)ll(l,p[U],_,y,V);return null}return _=pr(_),l&&l[Jt]?l.L(p,_,g(y)?!!y.capture:!!y,V):qr(l,p,_,!0,y,V)}function us(l,p,_,y,V){if(Array.isArray(p))for(var U=0;U<p.length;U++)us(l,p[U],_,y,V);else y=g(y)?!!y.capture:!!y,_=pr(_),l&&l[Jt]?(l=l.i,p=String(p).toString(),p in l.g&&(U=l.g[p],_=fr(U,_,y,V),-1<_&&(Si(U[_]),Array.prototype.splice.call(U,_,1),U.length==0&&(delete l.g[p],l.h--)))):l&&(l=hs(l))&&(p=l.g[p.toString()],l=-1,p&&(l=fr(p,_,y,V)),(_=-1<l?p[l]:null)&&dr(_))}function dr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Jt])Qn(p.i,l);else{var _=l.type,y=l.proxy;p.removeEventListener?p.removeEventListener(_,y,l.capture):p.detachEvent?p.detachEvent(cs(_),y):p.addListener&&p.removeListener&&p.removeListener(y),(_=hs(p))?(Qn(_,l),_.h==0&&(_.src=null,p[as]=null)):Si(l)}}}function cs(l){return l in Zr?Zr[l]:Zr[l]="on"+l}function ul(l,p){if(l.da)l=!0;else{p=new _t(p,this);var _=l.listener,y=l.ha||l.src;l.fa&&dr(l),l=_.call(y,p)}return l}function hs(l){return l=l[as],l instanceof Ai?l:null}var fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function pr(l){return typeof l=="function"?l:(l[fs]||(l[fs]=function(p){return l.handleEvent(p)}),l[fs])}function se(){pt.call(this),this.i=new Ai(this),this.M=this,this.F=null}F(se,pt),se.prototype[Jt]=!0,se.prototype.removeEventListener=function(l,p,_,y){us(this,l,p,_,y)};function de(l,p){var _,y=l.F;if(y)for(_=[];y;y=y.F)_.push(y);if(l=l.M,y=p.type||p,typeof p=="string")p=new wt(p,l);else if(p instanceof wt)p.target=p.target||l;else{var V=p;p=new wt(y,l),k(p,V)}if(V=!0,_)for(var U=_.length-1;0<=U;U--){var Q=p.g=_[U];V=Gr(Q,y,!0,p)&&V}if(Q=p.g=l,V=Gr(Q,y,!0,p)&&V,V=Gr(Q,y,!1,p)&&V,_)for(U=0;U<_.length;U++)Q=p.g=_[U],V=Gr(Q,y,!1,p)&&V}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var _=l.g[p],y=0;y<_.length;y++)Si(_[y]);delete l.g[p],l.h--}}this.F=null},se.prototype.K=function(l,p,_,y){return this.i.add(String(l),p,!1,_,y)},se.prototype.L=function(l,p,_,y){return this.i.add(String(l),p,!0,_,y)};function Gr(l,p,_,y){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,U=0;U<p.length;++U){var Q=p[U];if(Q&&!Q.da&&Q.capture==_){var Rt=Q.listener,le=Q.ha||Q.src;Q.fa&&Qn(l.i,Q),V=Rt.call(le,y)!==!1&&V}}return V&&!y.defaultPrevented}function ds(l,p,_){if(typeof l=="function")_&&(l=P(l,_));else if(l&&typeof l.handleEvent=="function")l=P(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:h.setTimeout(l,p||0)}function ps(l){l.g=ds(()=>{l.g=null,l.i&&(l.i=!1,ps(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Fc extends pt{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ps(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(l){pt.call(this),this.h=l,this.g={}}F(Ci,pt);var Qr=[];function ms(l){X(l.g,function(p,_){this.g.hasOwnProperty(_)&&dr(p)},l),l.g={}}Ci.prototype.N=function(){Ci.aa.N.call(this),ms(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=h.JSON.stringify,mr=h.JSON.parse,Bc=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function gs(){}gs.prototype.h=null;function vs(l){return l.h||(l.h=l.i())}function ys(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){wt.call(this,"d")}F(ws,wt);function Es(){wt.call(this,"c")}F(Es,wt);var Yn={},cl=null;function Yr(){return cl=cl||new se}Yn.La="serverreachability";function hl(l){wt.call(this,Yn.La,l)}F(hl,wt);function Xn(l){const p=Yr();de(p,new hl(p))}Yn.STAT_EVENT="statevent";function fl(l,p){wt.call(this,Yn.STAT_EVENT,l),this.stat=p}F(fl,wt);function ye(l){const p=Yr();de(p,new fl(p,l))}Yn.Ma="timingevent";function dl(l,p){wt.call(this,Yn.Ma,l),this.size=p}F(dl,wt);function _r(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},p)}function xe(){this.g=!0}xe.prototype.xa=function(){this.g=!1};function nt(l,p,_,y,V,U){l.info(function(){if(l.g)if(U)for(var Q="",Rt=U.split("&"),le=0;le<Rt.length;le++){var ht=Rt[le].split("=");if(1<ht.length){var $t=ht[0];ht=ht[1];var pe=$t.split("_");Q=2<=pe.length&&pe[1]=="type"?Q+($t+"="+ht+"&"):Q+($t+"=redacted&")}}else Q=null;else Q=U;return"XMLHTTP REQ ("+y+") [attempt "+V+"]: "+p+`
`+_+`
`+Q})}function pl(l,p,_,y,V,U,Q){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+V+"]: "+p+`
`+_+`
`+U+" "+Q})}function Jn(l,p,_,y){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+_l(l,_)+(y?" "+y:"")})}function ml(l,p){l.info(function(){return"TIMEOUT: "+p})}xe.prototype.info=function(){};function _l(l,p){if(!l.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var y=_[l];if(!(2>y.length)){var V=y[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return _s(_)}catch{return p}}var ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function gr(){}F(gr,gs),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},Dn=new gr;function On(l,p,_,y){this.j=l,this.i=p,this.l=_,this.R=y||1,this.U=new Ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gl}function gl(){this.i=null,this.g="",this.h=!1}var vl={},Ps={};function Xr(l,p,_){l.L=1,l.v=Vn(wn(p)),l.m=_,l.P=!0,yl(l,null)}function yl(l,p){l.F=Date.now(),Jr(l),l.A=wn(l.v);var _=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),ut(_.i,"t",y),l.C=0,_=l.j.J,l.h=new gl,l.g=Us(l.j,_?p:null,!l.m),0<l.O&&(l.M=new Fc(P(l.Y,l,l.g),l.O)),p=l.U,_=l.g,y=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(Qr[0]=V.toString()),V=Qr);for(var U=0;U<V.length;U++){var Q=ls(_,V[U],y||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),Xn(),nt(l.i,l.u,l.A,l.l,l.R,l.m)}On.prototype.ca=function(l){l=l.target;const p=this.M;p&&ln(l)==3?p.j():this.Y(l)},On.prototype.Y=function(l){try{if(l==this.g)t:{const pe=ln(this.g);var p=this.g.Ba();const Re=this.g.Z();if(!(3>pe)&&(pe!=3||this.g&&(this.h.h||this.g.oa()||Sl(this.g)))){this.J||pe!=4||p==7||(p==8||0>=Re?Xn(3):Xn(2)),Is(this);var _=this.g.Z();this.X=_;e:if(vr(this)){var y=Sl(this.g);l="";var V=y.length,U=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),yr(this);var Q="";break e}this.h.i=new h.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,l+=this.h.i.decode(y[p],{stream:!(U&&p==V-1)});y.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=_==200,pl(this.i,this.u,this.A,this.l,this.R,pe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Rt,le=this.g;if((Rt=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Rt)){var ht=Rt;break e}}ht=null}if(_=ht)Jn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,_);else{this.o=!1,this.s=3,ye(12),yn(this),yr(this);break t}}if(this.P){_=!0;let Xe;for(;!this.J&&this.C<Q.length;)if(Xe=Uc(this,Q),Xe==Ps){pe==4&&(this.s=4,ye(14),_=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xe==vl){this.s=4,ye(15),Jn(this.i,this.l,Q,"[Invalid Chunk]"),_=!1;break}else Jn(this.i,this.l,Xe,null),ti(this,Xe);if(vr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||Q.length!=0||this.h.h||(this.s=1,ye(16),_=!1),this.o=this.o&&_,!_)Jn(this.i,this.l,Q,"[Invalid Chunked Response]"),yn(this),yr(this);else if(0<Q.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Tr($t),$t.M=!0,ye(11))}}else Jn(this.i,this.l,Q,null),ti(this,Q);pe==4&&yn(this),this.o&&!this.J&&(pe==4?Bs(this.j,this):(this.o=!1,Jr(this)))}else Vs(this.g),_==400&&0<Q.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),yn(this),yr(this)}}}catch{}finally{}};function vr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Uc(l,p){var _=l.C,y=p.indexOf(`
`,_);return y==-1?Ps:(_=Number(p.substring(_,y)),isNaN(_)?vl:(y+=1,y+_>p.length?Ps:(p=p.slice(y,y+_),l.C=y+_,p)))}On.prototype.cancel=function(){this.J=!0,yn(this)};function Jr(l){l.S=Date.now()+l.I,wl(l,l.I)}function wl(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_r(P(l.ba,l),p)}function Is(l){l.B&&(h.clearTimeout(l.B),l.B=null)}On.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ml(this.i,this.A),this.L!=2&&(Xn(),ye(17)),yn(this),this.s=2,yr(this)):wl(this,this.S-l)};function yr(l){l.j.G==0||l.J||Bs(l.j,l)}function yn(l){Is(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,ms(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function ti(l,p){try{var _=l.j;if(_.G!=0&&(_.g==l||Dt(_.h,l))){if(!l.K&&Dt(_.h,l)&&_.G==3){try{var y=_.Da.g.parse(p)}catch{y=null}if(Array.isArray(y)&&y.length==3){var V=y;if(V[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)Pr(_),oo(_);else break t;lo(_),ye(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=_r(P(_.Za,_),6e3));if(1>=Tt(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else si(_,11)}else if((l.K||_.g==l)&&Pr(_),!S(p))for(V=_.Da.g.parse(p),p=0;p<V.length;p++){let ht=V[p];if(_.T=ht[0],ht=ht[1],_.G==2)if(ht[0]=="c"){_.K=ht[1],_.ia=ht[2];const $t=ht[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const pe=ht[4];pe!=null&&(_.Aa=pe,_.j.info("SVER="+_.Aa));const Re=ht[5];Re!=null&&typeof Re=="number"&&0<Re&&(y=1.5*Re,_.L=y,_.j.info("backChannelRequestTimeoutMs_="+y)),y=_;const Xe=l.g;if(Xe){const In=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(In){var U=y.h;U.g||In.indexOf("spdy")==-1&&In.indexOf("quic")==-1&&In.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Li(U,U.h),U.h=null))}if(y.D){const $s=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(y.ya=$s,It(y.I,y.D,$s))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),y=_;var Q=l;if(y.qa=kl(y,y.J?y.ia:null,y.W),Q.K){ei(y.h,Q);var Rt=Q,le=y.L;le&&(Rt.I=le),Rt.B&&(Is(Rt),Jr(Rt)),y.g=Q}else Fs(y);0<_.i.length&&ao(_)}else ht[0]!="stop"&&ht[0]!="close"||si(_,7);else _.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?si(_,7):bs(_):ht[0]!="noop"&&_.l&&_.l.ta(ht),_.v=0)}}Xn(4)}catch{}}var El=class{constructor(l,p){this.g=l,this.map=p}};function Ss(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ri(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Tt(l){return l.h?1:l.g?l.g.size:0}function Dt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Li(l,p){l.g?l.g.add(p):l.h=p}function ei(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ss.prototype.cancel=function(){if(this.i=ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ni(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const _ of l.g.values())p=p.concat(_.D);return p}return b(l.i)}function As(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(d(l)){for(var p=[],_=l.length,y=0;y<_;y++)p.push(l[y]);return p}p=[],_=0;for(y in l)p[_++]=l[y];return p}function mt(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(d(l)||typeof l=="string"){var p=[];l=l.length;for(var _=0;_<l;_++)p.push(_);return p}p=[],_=0;for(const y in l)p[_++]=y;return p}}}function Ft(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(d(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var _=mt(l),y=As(l),V=y.length,U=0;U<V;U++)p.call(void 0,y[U],_&&_[U],l)}var to=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(l,p){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var y=l[_].indexOf("="),V=null;if(0<=y){var U=l[_].substring(0,y);V=l[_].substring(y+1)}else U=l[_];p(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function te(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof te){this.h=l.h,ii(this,l.j),this.o=l.o,this.g=l.g,sn(this,l.s),this.l=l.l;var p=l.i,_=new zn;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),jt(this,_),this.m=l.m}else l&&(p=String(l).match(to))?(this.h=!1,ii(this,p[1]||"",!0),this.o=En(p[2]||""),this.g=En(p[3]||"",!0),sn(this,p[4]),this.l=En(p[5]||"",!0),jt(this,p[6]||"",!0),this.m=En(p[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}te.prototype.toString=function(){var l=[],p=this.j;p&&l.push(ri(p,no,!0),":");var _=this.g;return(_||p=="file")&&(l.push("//"),(p=this.o)&&l.push(ri(p,no,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(ri(_,_.charAt(0)=="/"?io:Cs,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",ri(_,ks)),l.join("")};function wn(l){return new te(l)}function ii(l,p,_){l.j=_?En(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function sn(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function jt(l,p,_){p instanceof zn?(l.i=p,Nt(l.i,l.h)):(_||(p=ri(p,xs)),l.i=new zn(p,l.h))}function It(l,p,_){l.i.set(p,_)}function Vn(l){return It(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function En(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ri(l,p,_){return typeof l=="string"?(l=encodeURI(l).replace(p,wr),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function wr(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var no=/[#\/\?@]/g,Cs=/[#\?:]/g,io=/[#\?]/g,xs=/[#\?@]/g,ks=/#/g;function zn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Tn(l){l.g||(l.g=new Map,l.h=0,l.i&&eo(l.i,function(p,_){l.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}e=zn.prototype,e.add=function(l,p){Tn(this),this.i=null,l=we(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(p),this.h+=1,this};function ro(l,p){Tn(l),p=we(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Tl(l,p){return Tn(l),p=we(l,p),l.g.has(p)}e.forEach=function(l,p){Tn(this),this.g.forEach(function(_,y){_.forEach(function(V){l.call(p,V,y,this)},this)},this)},e.na=function(){Tn(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let y=0;y<p.length;y++){const V=l[y];for(let U=0;U<V.length;U++)_.push(p[y])}return _},e.V=function(l){Tn(this);let p=[];if(typeof l=="string")Tl(this,l)&&(p=p.concat(this.g.get(we(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)p=p.concat(l[_])}return p},e.set=function(l,p){return Tn(this),this.i=null,l=we(this,l),Tl(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},e.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function ut(l,p,_){ro(l,p),0<_.length&&(l.i=null,l.g.set(we(l,p),b(_)),l.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var y=p[_];const U=encodeURIComponent(String(y)),Q=this.V(y);for(y=0;y<Q.length;y++){var V=U;Q[y]!==""&&(V+="="+encodeURIComponent(String(Q[y]))),l.push(V)}}return this.i=l.join("&")};function we(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Nt(l,p){p&&!l.j&&(Tn(l),l.i=null,l.g.forEach(function(_,y){var V=y.toLowerCase();y!=V&&(ro(this,y),ut(this,V,_))},l)),l.j=p}function Pl(l,p){const _=new xe;if(h.Image){const y=new Image;y.onload=D(an,_,"TestLoadImage: loaded",!0,p,y),y.onerror=D(an,_,"TestLoadImage: error",!1,p,y),y.onabort=D(an,_,"TestLoadImage: abort",!1,p,y),y.ontimeout=D(an,_,"TestLoadImage: timeout",!1,p,y),h.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else p(!1)}function Rs(l,p){const _=new xe,y=new AbortController,V=setTimeout(()=>{y.abort(),an(_,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:y.signal}).then(U=>{clearTimeout(V),U.ok?an(_,"TestPingServer: ok",!0,p):an(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),an(_,"TestPingServer: error",!1,p)})}function an(l,p,_,y,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),y(_)}catch{}}function Ls(){this.g=new Bc}function oi(l,p,_){const y=_||"";try{Ft(l,function(V,U){let Q=V;g(V)&&(Q=_s(V)),p.push(y+U+"="+encodeURIComponent(Q))})}catch(V){throw p.push(y+"type="+encodeURIComponent("_badmap")),V}}function Mi(l){this.l=l.Ub||null,this.j=l.eb||!1}F(Mi,gs),Mi.prototype.g=function(){return new bn(this.l,this.j)},Mi.prototype.i=function(l){return function(){return l}}({});function bn(l,p){se.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(bn,se),e=bn.prototype,e.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Ni(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||h).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ye(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ee(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ee(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Ye(this):Ni(this),this.readyState==3&&ee(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,Ye(this))},e.Qa=function(l){this.g&&(this.response=l,Ye(this))},e.ga=function(){this.g&&Ye(this)};function Ye(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ni(l)}e.setRequestHeader=function(l,p){this.u.append(l,p)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=p.next();return l.join(`\r
`)};function Ni(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ms(l){let p="";return X(l,function(_,y){p+=y,p+=":",p+=_,p+=`\r
`}),p}function Ns(l,p,_){t:{for(y in _){var y=!1;break t}y=!0}y||(_=Ms(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):It(l,p,_))}function Vt(l){se.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Vt,se);var Ds=/^https?$/i,jc=["POST","PUT"];e=Vt.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,p,_,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?vs(this.o):vs(Dn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(U){Os(this,U);return}if(l=_||"",_=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var V in y)_.set(V,y[V]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const U of y.keys())_.set(U,y.get(U));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(_.keys()).find(U=>U.toLowerCase()=="content-type"),V=h.FormData&&l instanceof h.FormData,!(0<=Array.prototype.indexOf.call(jc,p,void 0))||y||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Q]of _)this.g.setRequestHeader(U,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Di(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Os(this,U)}};function Os(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,vt(l),ke(l)}function vt(l){l.A||(l.A=!0,de(l,"complete"),de(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,de(this,"complete"),de(this,"abort"),ke(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ke(this,!0)),Vt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Il(this):this.bb())},e.bb=function(){Il(this)};function Il(l){if(l.h&&typeof u<"u"&&(!l.v[1]||ln(l)!=4||l.Z()!=2)){if(l.u&&ln(l)==4)ds(l.Ea,0,l);else if(de(l,"readystatechange"),ln(l)==4){l.h=!1;try{const Q=l.Z();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var _;if(!(_=p)){var y;if(y=Q===0){var V=String(l.D).match(to)[1]||null;!V&&h.self&&h.self.location&&(V=h.self.location.protocol.slice(0,-1)),y=!Ds.test(V?V.toLowerCase():"")}_=y}if(_)de(l,"complete"),de(l,"success");else{l.m=6;try{var U=2<ln(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",vt(l)}}finally{ke(l)}}}}function ke(l,p){if(l.g){Di(l);const _=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||de(l,"ready");try{_.onreadystatechange=y}catch{}}}function Di(l){l.I&&(h.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function ln(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),mr(p)}};function Sl(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(l){const p={};l=(l.g&&2<=ln(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(S(l[y]))continue;var _=M(l[y]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const U=p[V]||[];p[V]=U,U.push(_)}A(p,function(y){return y.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(l,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||p}function zs(l){this.Aa=0,this.i=[],this.j=new xe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,l),this.cb=Er("retryDelaySeedMs",1e4,l),this.Wa=Er("forwardChannelMaxRetries",2,l),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ss(l&&l.concurrentRequestLimit),this.Da=new Ls,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=zs.prototype,e.la=8,e.G=1,e.connect=function(l,p,_,y){ye(0),this.W=l,this.H=p||{},_&&y!==void 0&&(this.H.OSID=_,this.H.OAID=y),this.F=this.X,this.I=kl(this,null,this.W),ao(this)};function bs(l){if(so(l),l.G==3){var p=l.U++,_=wn(l.I);if(It(_,"SID",l.K),It(_,"RID",p),It(_,"TYPE","terminate"),Oi(l,_),p=new On(l,l.j,p),p.L=2,p.v=Vn(wn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=p.v,_=!0),_||(p.g=Us(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Jr(p)}uo(l)}function oo(l){l.g&&(Tr(l),l.g.cancel(),l.g=null)}function so(l){oo(l),l.u&&(h.clearTimeout(l.u),l.u=null),Pr(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&h.clearTimeout(l.s),l.s=null)}function ao(l){if(!Ri(l.h)&&!l.s){l.s=!0;var p=l.Ga;be||G(),$||(be(),$=!0),st.add(p,l),l.B=0}}function un(l,p){return Tt(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_r(P(l.Ga,l,p),xl(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new On(this,this.j,l);let U=this.o;if(this.S&&(U?(U=E(U),k(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)t:{for(var p=0,_=0;_<this.i.length;_++){e:{var y=this.i[_];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break e}y=void 0}if(y===void 0)break;if(p+=y,4096<p){p=_;break t}if(p===4096||_===this.i.length-1){p=_+1;break t}}p=1e3}else p=1e3;p=Pn(this,V,p),_=wn(this.I),It(_,"RID",l),It(_,"CVER",22),this.D&&It(_,"X-HTTP-Session-Id",this.D),Oi(this,_),U&&(this.O?p="headers="+encodeURIComponent(String(Ms(U)))+"&"+p:this.m&&Ns(_,this.m,U)),Li(this.h,V),this.Ua&&It(_,"TYPE","init"),this.P?(It(_,"$req",p),It(_,"SID","null"),V.T=!0,Xr(V,_,null)):Xr(V,_,p),this.G=2}}else this.G==3&&(l?Al(this,l):this.i.length==0||Ri(this.h)||Al(this))};function Al(l,p){var _;p?_=p.l:_=l.U++;const y=wn(l.I);It(y,"SID",l.K),It(y,"RID",_),It(y,"AID",l.T),Oi(l,y),l.m&&l.o&&Ns(y,l.m,l.o),_=new On(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Pn(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Li(l.h,_),Xr(_,y,p)}function Oi(l,p){l.H&&X(l.H,function(_,y){It(p,y,_)}),l.l&&Ft({},function(_,y){It(p,y,_)})}function Pn(l,p,_){_=Math.min(l.i.length,_);var y=l.l?P(l.l.Na,l.l,l):null;t:{var V=l.i;let U=-1;for(;;){const Q=["count="+_];U==-1?0<_?(U=V[0].g,Q.push("ofs="+U)):U=0:Q.push("ofs="+U);let Rt=!0;for(let le=0;le<_;le++){let ht=V[le].g;const $t=V[le].map;if(ht-=U,0>ht)U=Math.max(0,V[le].g-100),Rt=!1;else try{oi($t,Q,"req"+ht+"_")}catch{y&&y($t)}}if(Rt){y=Q.join("&");break t}}}return l=l.i.splice(0,_),p.D=l,y}function Fs(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;be||G(),$||(be(),$=!0),st.add(p,l),l.v=0}}function lo(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_r(P(l.Fa,l),xl(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Cl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_r(P(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),oo(this),Cl(this))};function Tr(l){l.A!=null&&(h.clearTimeout(l.A),l.A=null)}function Cl(l){l.g=new On(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=wn(l.qa);It(p,"RID","rpc"),It(p,"SID",l.K),It(p,"AID",l.T),It(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&It(p,"TO",l.ja),It(p,"TYPE","xmlhttp"),Oi(l,p),l.m&&l.o&&Ns(p,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Vn(wn(p)),_.m=null,_.P=!0,yl(_,l)}e.Za=function(){this.C!=null&&(this.C=null,oo(this),lo(this),ye(19))};function Pr(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function Bs(l,p){var _=null;if(l.g==p){Pr(l),Tr(l),l.g=null;var y=2}else if(Dt(l.h,p))_=p.D,ei(l.h,p),y=1;else return;if(l.G!=0){if(p.o)if(y==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var V=l.B;y=Yr(),de(y,new dl(y,_)),ao(l)}else Fs(l);else if(V=p.s,V==3||V==0&&0<p.X||!(y==1&&un(l,p)||y==2&&lo(l)))switch(_&&0<_.length&&(p=l.h,p.i=p.i.concat(_)),V){case 1:si(l,5);break;case 4:si(l,10);break;case 3:si(l,6);break;default:si(l,2)}}}function xl(l,p){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*p}function si(l,p){if(l.j.info("Error code "+p),p==2){var _=P(l.fb,l),y=l.Xa;const V=!y;y=new te(y||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ii(y,"https"),Vn(y),V?Pl(y.toString(),_):Rs(y.toString(),_)}else ye(2);l.G=0,l.l&&l.l.sa(p),uo(l),so(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function uo(l){if(l.G=0,l.ka=[],l.l){const p=ni(l.h);(p.length!=0||l.i.length!=0)&&(q(l.ka,p),q(l.ka,l.i),l.h.i.length=0,b(l.i),l.i.length=0),l.l.ra()}}function kl(l,p,_){var y=_ instanceof te?wn(_):new te(_);if(y.g!="")p&&(y.g=p+"."+y.g),sn(y,y.s);else{var V=h.location;y=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var U=new te(null);y&&ii(U,y),p&&(U.g=p),V&&sn(U,V),_&&(U.l=_),y=U}return _=l.D,p=l.ya,_&&p&&It(y,_,p),It(y,"VER",l.la),Oi(l,y),y}function Us(l,p,_){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Vt(new Mi({eb:_})):new Vt(l.pa),p.Ha(l.J),p}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function js(){}e=js.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ai(){}ai.prototype.g=function(l,p){return new Qt(l,p)};function Qt(l,p){se.call(this),this.g=new zs(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!S(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!S(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new ae(this)}F(Qt,se),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){bs(this.g)},Qt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=_s(l),l=_);p.i.push(new El(p.Ya++,l)),p.G==3&&ao(p)},Qt.prototype.N=function(){this.g.l=null,delete this.j,bs(this.g),delete this.g,Qt.aa.N.call(this)};function Rl(l){ws.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){t:{for(const _ in p){l=_;break t}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}F(Rl,ws);function Vi(){Es.call(this),this.status=1}F(Vi,Es);function ae(l){this.g=l}F(ae,js),ae.prototype.ua=function(){de(this.g,"a")},ae.prototype.ta=function(l){de(this.g,new Rl(l))},ae.prototype.sa=function(l){de(this.g,new Vi)},ae.prototype.ra=function(){de(this.g,"b")},ai.prototype.createWebChannel=ai.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,Ey=function(){return new ai},wy=function(){return Yr()},yy=Yn,Rf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ki.NO_ERROR=0,ki.TIMEOUT=8,ki.HTTP_ERROR=6,Tu=ki,Ts.COMPLETE="complete",vy=Ts,ys.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",se.prototype.listen=se.prototype.K,aa=ys,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,gy=Vt}).apply(typeof ou<"u"?ou:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}De.UNAUTHENTICATED=new De(null),De.GOOGLE_CREDENTIALS=new De("google-credentials-uid"),De.FIRST_PARTY=new De("first-party-uid"),De.MOCK_USER=new De("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let is="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new cy("@firebase/firestore");function na(){return Fr.logLevel}function et(e,...t){if(Fr.logLevel<=St.DEBUG){const n=t.map($d);Fr.debug(`Firestore (${is}): ${e}`,...n)}}function Ti(e,...t){if(Fr.logLevel<=St.ERROR){const n=t.map($d);Fr.error(`Firestore (${is}): ${e}`,...n)}}function Zo(e,...t){if(Fr.logLevel<=St.WARN){const n=t.map($d);Fr.warn(`Firestore (${is}): ${e}`,...n)}}function $d(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e="Unexpected state"){const t=`FIRESTORE (${is}) INTERNAL ASSERTION FAILED: `+e;throw Ti(t),new Error(t)}function Mt(e,t){e||lt()}function dt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ns{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(De.UNAUTHENTICATED))}shutdown(){}}class kP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RP{constructor(t){this.t=t,this.currentUser=De.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Mt(this.o===void 0);let i=this.i;const o=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let a=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new nr,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const d=a;t.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},h=d=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nr)}},0),u()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Mt(typeof i.accessToken=="string"),new Ty(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Mt(t===null||typeof t=="string"),new De(t)}}class LP{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=De.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class MP{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new LP(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(De.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NP{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DP{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Mt(this.o===void 0);const i=a=>{a.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,et("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const o=a=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Mt(typeof n.token=="string"),this.R=n.token,new NP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const o=OP(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=t.charAt(o[a]%t.length))}return i}}function Ct(e,t){return e<t?-1:e>t?1:0}function qo(e,t,n){return e.length===t.length&&e.every((i,o)=>n(i,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new it(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new fe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ft(t)}static min(){return new ft(new fe(0,0))}static max(){return new ft(new fe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,n,i){n===void 0?n=0:n>t.length&&lt(),i===void 0?i=t.length-n:i>t.length-n&&lt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return $a.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof $a?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let o=0;o<i;o++){const a=t.get(o),u=n.get(o);if(a<u)return-1;if(a>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ut extends $a{construct(t,n,i){return new Ut(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new it(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const VP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends $a{construct(t,n,i){return new Pe(t,n,i)}static isValidIdentifier(t){return VP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pe(["__name__"])}static fromServerFormat(t){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new it(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<t.length;){const h=t[o];if(h==="\\"){if(o+1===t.length)throw new it(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new it(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new it(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pe(n)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.path=t}static fromPath(t){return new rt(Ut.fromString(t))}static fromName(t){return new rt(Ut.fromString(t).popFirst(5))}static empty(){return new rt(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ut.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ut.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new Ut(t.slice()))}}function zP(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,o=ft.fromTimestamp(i===1e9?new fe(n+1,0):new fe(n,i));return new sr(o,rt.empty(),t)}function bP(e){return new sr(e.readTime,e.key,-1)}class sr{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new sr(ft.min(),rt.empty(),-1)}static max(){return new sr(ft.max(),rt.empty(),-1)}}function FP(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=rt.comparator(e.documentKey,t.documentKey),n!==0?n:Ct(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(e){if(e.code!==Z.FAILED_PRECONDITION||e.message!==BP)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,i)=>{n(t)})}static reject(t){return new W((n,i)=>{i(t)})}static waitFor(t){return new W((n,i)=>{let o=0,a=0,u=!1;t.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&n()},d=>i(d))}),u=!0,a===o&&n()})}static or(t){let n=W.resolve(!1);for(const i of t)n=n.next(o=>o?W.resolve(o):i());return n}static forEach(t,n){const i=[];return t.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(t,n){return new W((i,o)=>{const a=t.length,u=new Array(a);let h=0;for(let d=0;d<a;d++){const g=d;n(t[g]).next(w=>{u[g]=w,++h,h===a&&i(u)},w=>o(w))}})}static doWhile(t,n){return new W((i,o)=>{const a=()=>{t()===!0?n().next(()=>{a()},o):i()};a()})}}function jP(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Hd.oe=-1;function Cc(e){return e==null}function ec(e){return e===0&&1/e==-1/0}function $P(e){return typeof e=="number"&&Number.isInteger(e)&&!ec(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Iy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t,n){this.comparator=t,this.root=n||Te.EMPTY}insert(t,n){return new qt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Te.BLACK,null,null))}remove(t){return new qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Te.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new su(this.root,t,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new su(this.root,t,this.comparator,!0)}}class su{constructor(t,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&o&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Te{constructor(t,n,i,o,a){this.key=t,this.value=n,this.color=i??Te.RED,this.left=o??Te.EMPTY,this.right=a??Te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,o,a){return new Te(t??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let o=this;const a=i(t,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(t,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Te.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const t=this.left.check();if(t!==this.right.check())throw lt();return t+(this.isRed()?0:1)}}Te.EMPTY=null,Te.RED=!0,Te.BLACK=!1;Te.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(t,n,i,o,a){return this}insert(t,n,i){return new Te(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.comparator=t,this.data=new qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(t){return new s_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Se)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Se(this.comparator);return n.data=t,n}}class s_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(Pe.comparator)}static empty(){return new kn([])}unionWith(t){let n=new Se(Pe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qo(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Sy("Invalid base64 string: "+a):a}}(t);return new Ce(n)}static fromUint8Array(t){const n=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(t);return new Ce(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ce.EMPTY_BYTE_STRING=new Ce("");const HP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(e){if(Mt(!!e),typeof e=="string"){let t=0;const n=HP.exec(e);if(Mt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Yt(e.seconds),nanos:Yt(e.nanos)}}function Yt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Br(e){return typeof e=="string"?Ce.fromBase64String(e):Ce.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zd(e){const t=e.mapValue.fields.__previous_value__;return Wd(t)?Zd(t):t}function Ha(e){const t=ar(e.mapValue.fields.__local_write_time__.timestampValue);return new fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(t,n,i,o,a,u,h,d,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=g}}class Wa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Wa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ur(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wd(e)?4:qP(e)?9007199254740991:ZP(e)?10:11:lt()}function qn(e,t){if(e===t)return!0;const n=Ur(e);if(n!==Ur(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ha(e).isEqual(Ha(t));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ar(o.timestampValue),h=ar(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,a){return Br(o.bytesValue).isEqual(Br(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,a){return Yt(o.geoPointValue.latitude)===Yt(a.geoPointValue.latitude)&&Yt(o.geoPointValue.longitude)===Yt(a.geoPointValue.longitude)}(e,t);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Yt(o.integerValue)===Yt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Yt(o.doubleValue),h=Yt(a.doubleValue);return u===h?ec(u)===ec(h):isNaN(u)&&isNaN(h)}return!1}(e,t);case 9:return qo(e.arrayValue.values||[],t.arrayValue.values||[],qn);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(o_(u)!==o_(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!qn(u[d],h[d])))return!1;return!0}(e,t);default:return lt()}}function Za(e,t){return(e.values||[]).find(n=>qn(n,t))!==void 0}function Ko(e,t){if(e===t)return 0;const n=Ur(e),i=Ur(t);if(n!==i)return Ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(e.booleanValue,t.booleanValue);case 2:return function(a,u){const h=Yt(a.integerValue||a.doubleValue),d=Yt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(e,t);case 3:return a_(e.timestampValue,t.timestampValue);case 4:return a_(Ha(e),Ha(t));case 5:return Ct(e.stringValue,t.stringValue);case 6:return function(a,u){const h=Br(a),d=Br(u);return h.compareTo(d)}(e.bytesValue,t.bytesValue);case 7:return function(a,u){const h=a.split("/"),d=u.split("/");for(let g=0;g<h.length&&g<d.length;g++){const w=Ct(h[g],d[g]);if(w!==0)return w}return Ct(h.length,d.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,u){const h=Ct(Yt(a.latitude),Yt(u.latitude));return h!==0?h:Ct(Yt(a.longitude),Yt(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return l_(e.arrayValue,t.arrayValue);case 10:return function(a,u){var h,d,g,w;const T=a.fields||{},P=u.fields||{},D=(h=T.value)===null||h===void 0?void 0:h.arrayValue,F=(d=P.value)===null||d===void 0?void 0:d.arrayValue,b=Ct(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((w=F==null?void 0:F.values)===null||w===void 0?void 0:w.length)||0);return b!==0?b:l_(D,F)}(e.mapValue,t.mapValue);case 11:return function(a,u){if(a===au.mapValue&&u===au.mapValue)return 0;if(a===au.mapValue)return 1;if(u===au.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),g=u.fields||{},w=Object.keys(g);d.sort(),w.sort();for(let T=0;T<d.length&&T<w.length;++T){const P=Ct(d[T],w[T]);if(P!==0)return P;const D=Ko(h[d[T]],g[w[T]]);if(D!==0)return D}return Ct(d.length,w.length)}(e.mapValue,t.mapValue);default:throw lt()}}function a_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ct(e,t);const n=ar(e),i=ar(t),o=Ct(n.seconds,i.seconds);return o!==0?o:Ct(n.nanos,i.nanos)}function l_(e,t){const n=e.values||[],i=t.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Ko(n[o],i[o]);if(a)return a}return Ct(n.length,i.length)}function Go(e){return Lf(e)}function Lf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=ar(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Br(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return rt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Lf(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Lf(n.fields[u])}`;return o+"}"}(e.mapValue):lt()}function Mf(e){return!!e&&"integerValue"in e}function qd(e){return!!e&&"arrayValue"in e}function u_(e){return!!e&&"nullValue"in e}function c_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pu(e){return!!e&&"mapValue"in e}function ZP(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ya(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return rs(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ya(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ya(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Pu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ya(n)}setAll(t){let n=Pe.emptyPath(),i={},o=[];t.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,o),i={},o=[],n=h.popLast()}u?i[h.lastSegment()]=ya(u):o.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(t){const n=this.field(t.popLast());Pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=n.mapValue.fields[t.get(i)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,i){rs(n,(o,a)=>t[o]=a);for(const o of i)delete t[o]}clone(){return new dn(ya(this.value))}}function Ay(e){const t=[];return rs(e.fields,(n,i)=>{const o=new Pe([n]);if(Pu(i)){const a=Ay(i.mapValue).fields;if(a.length===0)t.push(o);else for(const u of a)t.push(o.child(u))}else t.push(o)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n,i,o,a,u,h){this.key=t,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Ve(t,0,ft.min(),ft.min(),ft.min(),dn.empty(),0)}static newFoundDocument(t,n,i,o){return new Ve(t,1,n,ft.min(),i,o,0)}static newNoDocument(t,n){return new Ve(t,2,n,ft.min(),ft.min(),dn.empty(),0)}static newUnknownDocument(t,n){return new Ve(t,3,n,ft.min(),ft.min(),dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ve&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n){this.position=t,this.inclusive=n}}function h_(e,t,n){let i=0;for(let o=0;o<e.position.length;o++){const a=t[o],u=e.position[o];if(a.field.isKeyField()?i=rt.comparator(rt.fromName(u.referenceValue),n.key):i=Ko(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function f_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,n="asc"){this.field=t,this.dir=n}}function KP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{}class ce extends Cy{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new QP(t,n,i):n==="array-contains"?new JP(t,i):n==="in"?new tI(t,i):n==="not-in"?new eI(t,i):n==="array-contains-any"?new nI(t,i):new ce(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new YP(t,i):new XP(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Cy{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Kn(t,n)}matches(t){return xy(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xy(e){return e.op==="and"}function ky(e){return GP(e)&&xy(e)}function GP(e){for(const t of e.filters)if(t instanceof Kn)return!1;return!0}function Nf(e){if(e instanceof ce)return e.field.canonicalString()+e.op.toString()+Go(e.value);if(ky(e))return e.filters.map(t=>Nf(t)).join(",");{const t=e.filters.map(n=>Nf(n)).join(",");return`${e.op}(${t})`}}function Ry(e,t){return e instanceof ce?function(i,o){return o instanceof ce&&i.op===o.op&&i.field.isEqual(o.field)&&qn(i.value,o.value)}(e,t):e instanceof Kn?function(i,o){return o instanceof Kn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&Ry(u,o.filters[h]),!0):!1}(e,t):void lt()}function Ly(e){return e instanceof ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(e):e instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ly).join(" ,")+"}"}(e):"Filter"}class QP extends ce{constructor(t,n,i){super(t,n,i),this.key=rt.fromName(i.referenceValue)}matches(t){const n=rt.comparator(t.key,this.key);return this.matchesComparison(n)}}class YP extends ce{constructor(t,n){super(t,"in",n),this.keys=My("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class XP extends ce{constructor(t,n){super(t,"not-in",n),this.keys=My("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function My(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>rt.fromName(i.referenceValue))}class JP extends ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return qd(n)&&Za(n.arrayValue,this.value)}}class tI extends ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}}class eI extends ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Za(this.value.arrayValue,n)}}class nI extends ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!qd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Za(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,n=null,i=[],o=[],a=null,u=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function d_(e,t=null,n=[],i=[],o=null,a=null,u=null){return new iI(e,t,n,i,o,a,u)}function Kd(e){const t=dt(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Nf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Cc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Go(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Go(i)).join(",")),t.ue=n}return t.ue}function Gd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!KP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ry(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!f_(e.startAt,t.startAt)&&f_(e.endAt,t.endAt)}function Df(e){return rt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n=null,i=[],o=[],a=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rI(e,t,n,i,o,a,u,h){return new xc(e,t,n,i,o,a,u,h)}function Ny(e){return new xc(e)}function p_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oI(e){return e.collectionGroup!==null}function wa(e){const t=dt(e);if(t.ce===null){t.ce=[];const n=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Se(Pe.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.ce.push(new ic(a,i))}),n.has(Pe.keyField().canonicalString())||t.ce.push(new ic(Pe.keyField(),i))}return t.ce}function Wn(e){const t=dt(e);return t.le||(t.le=sI(t,wa(e))),t.le}function sI(e,t){if(e.limitType==="F")return d_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new ic(o.field,a)});const n=e.endAt?new nc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nc(e.startAt.position,e.startAt.inclusive):null;return d_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Of(e,t,n){return new xc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kc(e,t){return Gd(Wn(e),Wn(t))&&e.limitType===t.limitType}function Dy(e){return`${Kd(Wn(e))}|lt:${e.limitType}`}function _o(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>Ly(o)).join(", ")}]`),Cc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Go(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(Wn(e))}; limitType=${e.limitType})`}function Rc(e,t){return t.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):rt.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,o){for(const a of wa(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(e,t)&&function(i,o){return!(i.startAt&&!function(u,h,d){const g=h_(u,h,d);return u.inclusive?g<=0:g<0}(i.startAt,wa(i),o)||i.endAt&&!function(u,h,d){const g=h_(u,h,d);return u.inclusive?g>=0:g>0}(i.endAt,wa(i),o))}(e,t)}function aI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Oy(e){return(t,n)=>{let i=!1;for(const o of wa(e)){const a=lI(o,t,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function lI(e,t,n){const i=e.field.isKeyField()?rt.comparator(t.key,n.key):function(a,u,h){const d=u.data.field(a),g=h.data.field(a);return d!==null&&g!==null?Ko(d,g):lt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],t))return void(o[a]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){rs(this.inner,(n,i)=>{for(const[o,a]of i)t(o,a)})}isEmpty(){return Iy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new qt(rt.comparator);function Pi(){return uI}const Vy=new qt(rt.comparator);function la(...e){let t=Vy;for(const n of e)t=t.insert(n.key,n);return t}function zy(e){let t=Vy;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Rr(){return Ea()}function by(){return Ea()}function Ea(){return new os(e=>e.toString(),(e,t)=>e.isEqual(t))}const cI=new qt(rt.comparator),hI=new Se(rt.comparator);function Et(...e){let t=hI;for(const n of e)t=t.add(n);return t}const fI=new Se(Ct);function dI(){return fI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(t)?"-0":t}}function Fy(e){return{integerValue:""+e}}function pI(e,t){return $P(t)?Fy(t):Qd(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function mI(e,t,n){return e instanceof rc?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Wd(a)&&(a=Zd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(n,t):e instanceof qa?Uy(e,t):e instanceof Ka?jy(e,t):function(o,a){const u=By(o,a),h=m_(u)+m_(o.Pe);return Mf(u)&&Mf(o.Pe)?Fy(h):Qd(o.serializer,h)}(e,t)}function _I(e,t,n){return e instanceof qa?Uy(e,t):e instanceof Ka?jy(e,t):n}function By(e,t){return e instanceof oc?function(i){return Mf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class rc extends Lc{}class qa extends Lc{constructor(t){super(),this.elements=t}}function Uy(e,t){const n=$y(t);for(const i of e.elements)n.some(o=>qn(o,i))||n.push(i);return{arrayValue:{values:n}}}class Ka extends Lc{constructor(t){super(),this.elements=t}}function jy(e,t){let n=$y(t);for(const i of e.elements)n=n.filter(o=>!qn(o,i));return{arrayValue:{values:n}}}class oc extends Lc{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function m_(e){return Yt(e.integerValue||e.doubleValue)}function $y(e){return qd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function gI(e,t){return e.field.isEqual(t.field)&&function(i,o){return i instanceof qa&&o instanceof qa||i instanceof Ka&&o instanceof Ka?qo(i.elements,o.elements,qn):i instanceof oc&&o instanceof oc?qn(i.Pe,o.Pe):i instanceof rc&&o instanceof rc}(e.transform,t.transform)}class vI{constructor(t,n){this.version=t,this.transformResults=n}}class _i{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _i}static exists(t){return new _i(void 0,t)}static updateTime(t){return new _i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Iu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Mc{}function Hy(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Zy(e.key,_i.none()):new il(e.key,e.data,_i.none());{const n=e.data,i=dn.empty();let o=new Se(Pe.comparator);for(let a of t.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Hr(e.key,i,new kn(o.toArray()),_i.none())}}function yI(e,t,n){e instanceof il?function(o,a,u){const h=o.value.clone(),d=g_(o.fieldTransforms,a,u.transformResults);h.setAll(d),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(e,t,n):e instanceof Hr?function(o,a,u){if(!Iu(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=g_(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(Wy(o)),d.setAll(h),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(e,t,n):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Ta(e,t,n,i){return e instanceof il?function(a,u,h,d){if(!Iu(a.precondition,u))return h;const g=a.value.clone(),w=v_(a.fieldTransforms,d,u);return g.setAll(w),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(e,t,n,i):e instanceof Hr?function(a,u,h,d){if(!Iu(a.precondition,u))return h;const g=v_(a.fieldTransforms,d,u),w=u.data;return w.setAll(Wy(a)),w.setAll(g),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(e,t,n,i):function(a,u,h){return Iu(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(e,t,n)}function wI(e,t){let n=null;for(const i of e.fieldTransforms){const o=t.data.field(i.field),a=By(i.transform,o||null);a!=null&&(n===null&&(n=dn.empty()),n.set(i.field,a))}return n||null}function __(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&qo(i,o,(a,u)=>gI(a,u))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class il extends Mc{constructor(t,n,i,o=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends Mc{constructor(t,n,i,o,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Wy(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function g_(e,t,n){const i=new Map;Mt(e.length===n.length);for(let o=0;o<n.length;o++){const a=e[o],u=a.transform,h=t.data.field(a.field);i.set(a.field,_I(u,h,n[o]))}return i}function v_(e,t,n){const i=new Map;for(const o of e){const a=o.transform,u=n.data.field(o.field);i.set(o.field,mI(a,u,t))}return i}class Zy extends Mc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EI extends Mc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(t.key)&&yI(a,t,i[o])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ta(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ta(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=by();return this.mutations.forEach(o=>{const a=t.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const d=Hy(u,h);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(ft.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Et())}isEqual(t){return this.batchId===t.batchId&&qo(this.mutations,t.mutations,(n,i)=>__(n,i))&&qo(this.baseMutations,t.baseMutations,(n,i)=>__(n,i))}}class Yd{constructor(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(t,n,i){Mt(t.mutations.length===i.length);let o=function(){return cI}();const a=t.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Yd(t,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie,Pt;function SI(e){switch(e){default:return lt();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function qy(e){if(e===void 0)return Ti("GRPC error has no .code"),Z.UNKNOWN;switch(e){case ie.OK:return Z.OK;case ie.CANCELLED:return Z.CANCELLED;case ie.UNKNOWN:return Z.UNKNOWN;case ie.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ie.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ie.INTERNAL:return Z.INTERNAL;case ie.UNAVAILABLE:return Z.UNAVAILABLE;case ie.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ie.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ie.NOT_FOUND:return Z.NOT_FOUND;case ie.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ie.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ie.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ie.ABORTED:return Z.ABORTED;case ie.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ie.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ie.DATA_LOSS:return Z.DATA_LOSS;default:return lt()}}(Pt=ie||(ie={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new Nr([4294967295,4294967295],0);function y_(e){const t=AI().encode(e),n=new _y;return n.update(t),new Uint8Array(n.digest())}function w_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Nr([n,i],0),new Nr([o,a],0)]}class Xd{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ua(`Invalid padding: ${n}`);if(i<0)throw new ua(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ua(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ua(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Nr.fromNumber(this.Ie)}Ee(t,n,i){let o=t.add(n.multiply(Nr.fromNumber(i)));return o.compare(CI)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=y_(t),[i,o]=w_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(t,n,i){const o=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),u=new Xd(a,o,n);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.Ie===0)return;const n=y_(t),[i,o]=w_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n,i,o,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const o=new Map;return o.set(t,rl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Nc(ft.min(),o,new qt(Ct),Pi(),Et())}}class rl{constructor(t,n,i,o,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new rl(i,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n,i,o){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=o}}class Ky{constructor(t,n){this.targetId=t,this.me=n}}class Gy{constructor(t,n,i=Ce.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=o}}class E_{constructor(){this.fe=0,this.ge=P_(),this.pe=Ce.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Et(),n=Et(),i=Et();return this.ge.forEach((o,a)=>{switch(a){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:lt()}}),new rl(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=P_()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xI{constructor(t){this.Le=t,this.Be=new Map,this.ke=Pi(),this.qe=T_(),this.Qe=new qt(Ct)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:lt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,o)=>{this.ze(o)&&n(o)})}He(t){const n=t.targetId,i=t.me.count,o=this.Je(n);if(o){const a=o.target;if(Df(a))if(i===0){const u=new rt(a.path);this.Ue(n,u,Ve.newNoDocument(u,ft.min()))}else Mt(i===1);else{const u=this.Ye(n);if(u!==i){const h=this.Ze(t),d=h?this.Xe(h,t,u):1;if(d!==0){this.je(n);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=Br(i).toUint8Array()}catch(d){if(d instanceof Sy)return Zo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Xd(u,o,a)}catch(d){return Zo(d instanceof ua?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ie===0?null:h}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.mightContain(h)||(this.Ue(n,a,null),o++)}),o}rt(t){const n=new Map;this.Be.forEach((a,u)=>{const h=this.Je(u);if(h){if(a.current&&Df(h.target)){const d=new rt(h.target.path);this.ke.get(d)!==null||this.it(u,d)||this.Ue(u,d,Ve.newNoDocument(d,t))}a.be&&(n.set(u,a.ve()),a.Ce())}});let i=Et();this.qe.forEach((a,u)=>{let h=!0;u.forEachWhile(d=>{const g=this.Je(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(t));const o=new Nc(t,n,this.Qe,this.ke,i);return this.ke=Pi(),this.qe=T_(),this.Qe=new qt(Ct),o}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new E_,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Se(Ct),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new E_),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function T_(){return new qt(rt.comparator)}function P_(){return new qt(rt.comparator)}const kI=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),RI=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),LI=(()=>({and:"AND",or:"OR"}))();class MI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Vf(e,t){return e.useProto3Json||Cc(t)?t:{value:t}}function sc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function NI(e,t){return sc(e,t.toTimestamp())}function Zn(e){return Mt(!!e),ft.fromTimestamp(function(n){const i=ar(n);return new fe(i.seconds,i.nanos)}(e))}function Jd(e,t){return zf(e,t).canonicalString()}function zf(e,t){const n=function(o){return new Ut(["projects",o.projectId,"databases",o.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Yy(e){const t=Ut.fromString(e);return Mt(n0(t)),t}function bf(e,t){return Jd(e.databaseId,t.path)}function Ih(e,t){const n=Yy(t);if(n.get(1)!==e.databaseId.projectId)throw new it(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new it(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rt(Jy(n))}function Xy(e,t){return Jd(e.databaseId,t)}function DI(e){const t=Yy(e);return t.length===4?Ut.emptyPath():Jy(t)}function Ff(e){return new Ut(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jy(e){return Mt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function I_(e,t,n){return{name:bf(e,t),fields:n.value.mapValue.fields}}function OI(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:lt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],a=function(g,w){return g.useProto3Json?(Mt(w===void 0||typeof w=="string"),Ce.fromBase64String(w||"")):(Mt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Ce.fromUint8Array(w||new Uint8Array))}(e,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const w=g.code===void 0?Z.UNKNOWN:qy(g.code);return new it(w,g.message||"")}(u);n=new Gy(i,o,a,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ih(e,i.document.name),a=Zn(i.document.updateTime),u=i.document.createTime?Zn(i.document.createTime):ft.min(),h=new dn({mapValue:{fields:i.document.fields}}),d=Ve.newFoundDocument(o,a,u,h),g=i.targetIds||[],w=i.removedTargetIds||[];n=new Su(g,w,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=Ih(e,i.document),a=i.readTime?Zn(i.readTime):ft.min(),u=Ve.newNoDocument(o,a),h=i.removedTargetIds||[];n=new Su([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=Ih(e,i.document),a=i.removedTargetIds||[];n=new Su([],a,o,null)}else{if(!("filter"in t))return lt();{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new II(o,a),h=i.targetId;n=new Ky(h,u)}}return n}function VI(e,t){let n;if(t instanceof il)n={update:I_(e,t.key,t.value)};else if(t instanceof Zy)n={delete:bf(e,t.key)};else if(t instanceof Hr)n={update:I_(e,t.key,t.data),updateMask:WI(t.fieldMask)};else{if(!(t instanceof EI))return lt();n={verify:bf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof rc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof qa)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ka)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof oc)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw lt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:NI(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:lt()}(e,t.precondition)),n}function zI(e,t){return e&&e.length>0?(Mt(t!==void 0),e.map(n=>function(o,a){let u=o.updateTime?Zn(o.updateTime):Zn(a);return u.isEqual(ft.min())&&(u=Zn(a)),new vI(u,o.transformResults||[])}(n,t))):[]}function bI(e,t){return{documents:[Xy(e,t.path)]}}function FI(e,t){const n={structuredQuery:{}},i=t.path;let o;t.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Xy(e,o);const a=function(g){if(g.length!==0)return e0(Kn.create(g,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const u=function(g){if(g.length!==0)return g.map(w=>function(P){return{field:go(P.field),direction:jI(P.dir)}}(w))}(t.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Vf(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{_t:n,parent:o}}function BI(e){let t=DI(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Mt(i===1);const w=n.from[0];w.allDescendants?o=w.collectionId:t=t.child(w.collectionId)}let a=[];n.where&&(a=function(T){const P=t0(T);return P instanceof Kn&&ky(P)?P.getFilters():[P]}(n.where));let u=[];n.orderBy&&(u=function(T){return T.map(P=>function(F){return new ic(vo(F.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(P))}(n.orderBy));let h=null;n.limit&&(h=function(T){let P;return P=typeof T=="object"?T.value:T,Cc(P)?null:P}(n.limit));let d=null;n.startAt&&(d=function(T){const P=!!T.before,D=T.values||[];return new nc(D,P)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const P=!T.before,D=T.values||[];return new nc(D,P)}(n.endAt)),rI(t,o,u,a,h,"F",d,g)}function UI(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function t0(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=vo(n.unaryFilter.field);return ce.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vo(n.unaryFilter.field);return ce.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=vo(n.unaryFilter.field);return ce.create(u,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(e):e.fieldFilter!==void 0?function(n){return ce.create(vo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(i=>t0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return lt()}}(n.compositeFilter.op))}(e):lt()}function jI(e){return kI[e]}function $I(e){return RI[e]}function HI(e){return LI[e]}function go(e){return{fieldPath:e.canonicalString()}}function vo(e){return Pe.fromServerFormat(e.fieldPath)}function e0(e){return e instanceof ce?function(n){if(n.op==="=="){if(c_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(u_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(u_(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:$I(n.op),value:n.value}}}(e):e instanceof Kn?function(n){const i=n.getFilters().map(o=>e0(o));return i.length===1?i[0]:{compositeFilter:{op:HI(n.op),filters:i}}}(e):lt()}function WI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function n0(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n,i,o,a=ft.min(),u=ft.min(),h=Ce.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new Wi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.ct=t}}function qI(e){const t=BI({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Of(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.un=new GI}addToCollectionParentIndex(t,n){return this.un.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(sr.min())}updateCollectionGroup(t,n,i){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class GI{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Se(Ut.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(t){return(this.index[t]||new Se(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qo(0)}static kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.changes=new os(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ve.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?W.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n,i,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(i!==null&&Ta(i.mutation,o,kn.empty(),fe.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,Et()).next(()=>i))}getLocalViewOfDocuments(t,n,i=Et()){const o=Rr();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,i).next(a=>{let u=la();return a.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(t,n){const i=Rr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,Et()))}populateOverlays(t,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(t,o).next(a=>{a.forEach((u,h)=>{n.set(u,h)})})}computeViews(t,n,i,o){let a=Pi();const u=Ea(),h=function(){return Ea()}();return n.forEach((d,g)=>{const w=i.get(g.key);o.has(g.key)&&(w===void 0||w.mutation instanceof Hr)?a=a.insert(g.key,g):w!==void 0?(u.set(g.key,w.mutation.getFieldMask()),Ta(w.mutation,g,w.mutation.getFieldMask(),fe.now())):u.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(t,a).next(d=>(d.forEach((g,w)=>u.set(g,w)),n.forEach((g,w)=>{var T;return h.set(g,new YI(w,(T=u.get(g))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(t,n){const i=Ea();let o=new qt((u,h)=>u-h),a=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const g=n.get(d);if(g===null)return;let w=i.get(d)||kn.empty();w=h.applyToLocalView(g,w),i.set(d,w);const T=(o.get(h.batchId)||Et()).add(d);o=o.insert(h.batchId,T)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),g=d.key,w=d.value,T=by();w.forEach(P=>{if(!a.has(P)){const D=Hy(n.get(P),i.get(P));D!==null&&T.set(P,D),a=a.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(t,g,T))}return W.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,o){return function(u){return rt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,o):this.getDocumentsMatchingCollectionQuery(t,n,i,o)}getNextDocuments(t,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,o-a.size):W.resolve(Rr());let h=-1,d=a;return u.next(g=>W.forEach(g,(w,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(w)?W.resolve():this.remoteDocumentCache.getEntry(t,w).next(P=>{d=d.insert(w,P)}))).next(()=>this.populateOverlays(t,g,a)).next(()=>this.computeViews(t,d,g,Et())).next(w=>({batchId:h,changes:zy(w)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new rt(n)).next(i=>{let o=la();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,i,o){const a=n.collectionGroup;let u=la();return this.indexManager.getCollectionParents(t,a).next(h=>W.forEach(h,d=>{const g=function(T,P){return new xc(P,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(t,g,i,o).next(w=>{w.forEach((T,P)=>{u=u.insert(T,P)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,o))).next(u=>{a.forEach((d,g)=>{const w=g.getKey();u.get(w)===null&&(u=u.insert(w,Ve.newInvalidDocument(w)))});let h=la();return u.forEach((d,g)=>{const w=a.get(d);w!==void 0&&Ta(w.mutation,g,kn.empty(),fe.now()),Rc(n,g)&&(h=h.insert(d,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Zn(o.createTime)}}(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:qI(o.bundledQuery),readTime:Zn(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.overlays=new qt(rt.comparator),this.Ir=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Rr();return W.forEach(n,o=>this.getOverlay(t,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((o,a)=>{this.ht(t,n,a)}),W.resolve()}removeOverlaysForBatchId(t,n,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),W.resolve()}getOverlaysForCollection(t,n,i){const o=Rr(),a=n.length+1,u=new rt(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,g=d.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&d.largestBatchId>i&&o.set(d.getKey(),d)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,i,o){let a=new qt((g,w)=>g-w);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let w=a.get(g.largestBatchId);w===null&&(w=Rr(),a=a.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const h=Rr(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,w)=>h.set(g,w)),!(h.size()>=o)););return W.resolve(h)}ht(t,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new PI(n,i));let a=this.Ir.get(n);a===void 0&&(a=Et(),this.Ir.set(n,a)),this.Ir.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.sessionToken=Ce.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.Tr=new Se(_e.Er),this.dr=new Se(_e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new _e(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new _e(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new rt(new Ut([])),i=new _e(n,t),o=new _e(n,t+1),a=[];return this.dr.forEachInRange([i,o],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new rt(new Ut([])),i=new _e(n,t),o=new _e(n,t+1);let a=Et();return this.dr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(t){const n=new _e(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class _e{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return rt.comparator(t.key,n.key)||Ct(t.wr,n.wr)}static Ar(t,n){return Ct(t.wr,n.wr)||rt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Se(_e.Er)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new TI(a,n,i,o);this.mutationQueue.push(u);for(const h of o)this.br=this.br.add(new _e(h.key,a)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return W.resolve(u)}lookupMutationBatch(t,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,o=this.vr(i),a=o<0?0:o;return W.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new _e(n,0),o=new _e(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],u=>{const h=this.Dr(u.wr);a.push(h)}),W.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Se(Ct);return n.forEach(o=>{const a=new _e(o,0),u=new _e(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],h=>{i=i.add(h.wr)})}),W.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,o=i.length+1;let a=i;rt.isDocumentKey(a)||(a=a.child(""));const u=new _e(new rt(a),0);let h=new Se(Ct);return this.br.forEachWhile(d=>{const g=d.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(h=h.add(d.wr)),!0)},u),W.resolve(this.Cr(h))}Cr(t){const n=[];return t.forEach(i=>{const o=this.Dr(i);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Mt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return W.forEach(n.mutations,o=>{const a=new _e(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new _e(n,0),o=this.br.firstAfterOrEqual(i);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t){this.Mr=t,this.docs=function(){return new qt(rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return W.resolve(i?i.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(t,n){let i=Pi();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Ve.newInvalidDocument(o))}),W.resolve(i)}getDocumentsMatchingQuery(t,n,i,o){let a=Pi();const u=n.path,h=new rt(u.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:g,value:{document:w}}=d.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||FP(bP(w),i)<=0||(o.has(w.key)||Rc(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return W.resolve(a)}getAllFromCollectionGroup(t,n,i,o){lt()}Or(t,n){return W.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new rS(this)}getSize(t){return W.resolve(this.size)}}class rS extends QI{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(t,o)):this.cr.removeEntry(i)}),W.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this.persistence=t,this.Nr=new os(n=>Kd(n),Gd),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tp,this.targetCount=0,this.kr=Qo.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Qo(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Kn(n),W.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,i){let o=0;const a=[];return this.Nr.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(t,h.targetId)),o++)}),W.waitFor(a).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return W.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),W.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(u=>{a.push(o.markPotentiallyOrphaned(t,u))}),W.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return W.resolve(i)}containsKey(t,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Hd(0),this.Kr=!1,this.Kr=!0,this.$r=new eS,this.referenceDelegate=t(this),this.Ur=new oS(this),this.indexManager=new KI,this.remoteDocumentCache=function(o){return new iS(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new ZI(n),this.Gr=new JI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new tS,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new nS(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){et("MemoryPersistence","Starting transaction:",t);const o=new aS(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(t,n){return W.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class aS extends UP{constructor(t){super(),this.currentSequenceNumber=t}}class ep{constructor(t){this.persistence=t,this.Jr=new tp,this.Yr=null}static Zr(t){return new ep(t)}get Xr(){if(this.Yr)return this.Yr;throw lt()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),W.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,i=>{const o=rt.fromPath(i);return this.ei(t,o).next(a=>{a||n.removeEntry(o,ft.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,n,i,o){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=o}static Wi(t,n){let i=Et(),o=Et();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new np(t,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return c1()?8:jP(l1())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,o){const a={result:null};return this.Yi(t,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(t,n,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new lS;return this.Xi(t,n,u).next(h=>{if(a.result=h,this.zi)return this.es(t,n,u,h.size)})}).next(()=>a.result)}es(t,n,i,o){return i.documentReadCount<this.ji?(na()<=St.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(na()<=St.DEBUG&&et("QueryEngine","Query:",_o(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(na()<=St.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wn(n))):W.resolve())}Yi(t,n){if(p_(n))return W.resolve(null);let i=Wn(n);return this.indexManager.getIndexType(t,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Of(n,null,"F"),i=Wn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const u=Et(...a);return this.Ji.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(d=>{const g=this.ts(n,h);return this.ns(n,g,u,d.readTime)?this.Yi(t,Of(n,null,"F")):this.rs(t,g,n,d)}))})))}Zi(t,n,i,o){return p_(n)||o.isEqual(ft.min())?W.resolve(null):this.Ji.getDocuments(t,i).next(a=>{const u=this.ts(n,a);return this.ns(n,u,i,o)?W.resolve(null):(na()<=St.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.rs(t,u,n,zP(o,-1)).next(h=>h))})}ts(t,n){let i=new Se(Oy(t));return n.forEach((o,a)=>{Rc(t,a)&&(i=i.add(a))}),i}ns(t,n,i,o){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(t,n,i){return na()<=St.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",_o(n)),this.Ji.getDocumentsMatchingQuery(t,n,sr.min(),i)}rs(t,n,i,o){return this.Ji.getDocumentsMatchingQuery(t,i,o).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,n,i,o){this.persistence=t,this.ss=n,this.serializer=o,this.os=new qt(Ct),this._s=new os(a=>Kd(a),Gd),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new XI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function hS(e,t,n,i){return new cS(e,t,n,i)}async function i0(e,t){const n=dt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let d=Et();for(const g of o){u.push(g.batchId);for(const w of g.mutations)d=d.add(w.key)}for(const g of a){h.push(g.batchId);for(const w of g.mutations)d=d.add(w.key)}return n.localDocuments.getDocuments(i,d).next(g=>({hs:g,removedBatchIds:u,addedBatchIds:h}))})})}function fS(e,t){const n=dt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(h,d,g,w){const T=g.batch,P=T.keys();let D=W.resolve();return P.forEach(F=>{D=D.next(()=>w.getEntry(d,F)).next(b=>{const q=g.docVersions.get(F);Mt(q!==null),b.version.compareTo(q)<0&&(T.applyToRemoteDocument(b,g),b.isValidDocument()&&(b.setReadTime(g.commitVersion),w.addEntry(b)))})}),D.next(()=>h.mutationQueue.removeMutationBatch(d,T))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Et();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(d=d.add(h.batch.mutations[g].key));return d}(t))).next(()=>n.localDocuments.getDocuments(i,o))})}function r0(e){const t=dt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function dS(e,t){const n=dt(e),i=t.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const h=[];t.targetChanges.forEach((w,T)=>{const P=o.get(T);if(!P)return;h.push(n.Ur.removeMatchingKeys(a,w.removedDocuments,T).next(()=>n.Ur.addMatchingKeys(a,w.addedDocuments,T)));let D=P.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(Ce.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):w.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(w.resumeToken,i)),o=o.insert(T,D),function(b,q,R){return b.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(P,D,w)&&h.push(n.Ur.updateTargetData(a,D))});let d=Pi(),g=Et();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))}),h.push(pS(a,u,t.documentUpdates).next(w=>{d=w.Ps,g=w.Is})),!i.isEqual(ft.min())){const w=n.Ur.getLastRemoteSnapshotVersion(a).next(T=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(w)}return W.waitFor(h).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,g)).next(()=>d)}).then(a=>(n.os=o,a))}function pS(e,t,n){let i=Et(),o=Et();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let u=Pi();return n.forEach((h,d)=>{const g=a.get(h);d.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),d.isNoDocument()&&d.version.isEqual(ft.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):et("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",d.version)}),{Ps:u,Is:o}})}function mS(e,t){const n=dt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function _S(e,t){const n=dt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Ur.getTargetData(i,t).next(a=>a?(o=a,W.resolve(o)):n.Ur.allocateTargetId(i).next(u=>(o=new Wi(t,u,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function Bf(e,t,n){const i=dt(e),o=i.os.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!nl(u))throw u;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.os=i.os.remove(t),i._s.delete(o.target)}function S_(e,t,n){const i=dt(e);let o=ft.min(),a=Et();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,g,w){const T=dt(d),P=T._s.get(w);return P!==void 0?W.resolve(T.os.get(P)):T.Ur.getTargetData(g,w)}(i,u,Wn(t)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,h.targetId).next(d=>{a=d})}).next(()=>i.ss.getDocumentsMatchingQuery(u,t,n?o:ft.min(),n?a:Et())).next(h=>(gS(i,aI(t),h),{documents:h,Ts:a})))}function gS(e,t,n){let i=e.us.get(t)||ft.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.us.set(t,i)}class A_{constructor(){this.activeTargetIds=dI()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vS{constructor(){this.so=new A_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new A_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function Sh(){return lu===null?lu=function(){return 268435456+Math.round(2147483648*Math.random())}():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne="WebChannelConnection";class TS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(n,i,o,a,u){const h=Sh(),d=this.xo(n,i.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${h}:`,d,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,a,u),this.No(n,d,g,o).then(w=>(et("RestConnection",`Received RPC '${n}' ${h}: `,w),w),w=>{throw Zo("RestConnection",`RPC '${n}' ${h} failed with error: `,w,"url: ",d,"request:",o),w})}Lo(n,i,o,a,u,h){return this.Mo(n,i,o,a,u)}Oo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+is}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>n[u]=a),o&&o.headers.forEach((a,u)=>n[u]=a)}xo(n,i){const o=wS[n];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,o){const a=Sh();return new Promise((u,h)=>{const d=new gy;d.setWithCredentials(!0),d.listenOnce(vy.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Tu.NO_ERROR:const w=d.getResponseJson();et(Ne,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(w)),u(w);break;case Tu.TIMEOUT:et(Ne,`RPC '${t}' ${a} timed out`),h(new it(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:const T=d.getStatus();if(et(Ne,`RPC '${t}' ${a} failed with status:`,T,"response text:",d.getResponseText()),T>0){let P=d.getResponseJson();Array.isArray(P)&&(P=P[0]);const D=P==null?void 0:P.error;if(D&&D.status&&D.message){const F=function(q){const R=q.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(R)>=0?R:Z.UNKNOWN}(D.status);h(new it(F,D.message))}else h(new it(Z.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new it(Z.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{et(Ne,`RPC '${t}' ${a} completed.`)}});const g=JSON.stringify(o);et(Ne,`RPC '${t}' ${a} sending request:`,o),d.send(n,"POST",g,i,15)})}Bo(t,n,i){const o=Sh(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=Ey(),h=wy(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const w=a.join("");et(Ne,`Creating RPC '${t}' stream ${o}: ${w}`,d);const T=u.createWebChannel(w,d);let P=!1,D=!1;const F=new ES({Io:q=>{D?et(Ne,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(P||(et(Ne,`Opening RPC '${t}' stream ${o} transport.`),T.open(),P=!0),et(Ne,`RPC '${t}' stream ${o} sending:`,q),T.send(q))},To:()=>T.close()}),b=(q,R,S)=>{q.listen(R,N=>{try{S(N)}catch(j){setTimeout(()=>{throw j},0)}})};return b(T,aa.EventType.OPEN,()=>{D||(et(Ne,`RPC '${t}' stream ${o} transport opened.`),F.yo())}),b(T,aa.EventType.CLOSE,()=>{D||(D=!0,et(Ne,`RPC '${t}' stream ${o} transport closed`),F.So())}),b(T,aa.EventType.ERROR,q=>{D||(D=!0,Zo(Ne,`RPC '${t}' stream ${o} transport errored:`,q),F.So(new it(Z.UNAVAILABLE,"The operation could not be completed")))}),b(T,aa.EventType.MESSAGE,q=>{var R;if(!D){const S=q.data[0];Mt(!!S);const N=S,j=N.error||((R=N[0])===null||R===void 0?void 0:R.error);if(j){et(Ne,`RPC '${t}' stream ${o} received error:`,j);const Y=j.status;let X=function(I){const k=ie[I];if(k!==void 0)return qy(k)}(Y),A=j.message;X===void 0&&(X=Z.INTERNAL,A="Unknown error status: "+Y+" with message "+j.message),D=!0,F.So(new it(X,A)),T.close()}else et(Ne,`RPC '${t}' stream ${o} received:`,S),F.bo(S)}}),b(h,yy.STAT_EVENT,q=>{q.stat===Rf.PROXY?et(Ne,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Rf.NOPROXY&&et(Ne,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.wo()},0),F}}function Ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e){return new MI(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n,i=1e3,o=1.5,a=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-i);o>0&&et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,n,i,o,a,u,h,d){this.ui=t,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o0(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ti(n.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===n&&this.P_(i,o)},i=>{t(()=>{const o=new it(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PS extends s0{constructor(t,n,i,o,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=OI(this.serializer,t),i=function(a){if(!("targetChange"in a))return ft.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ft.min():u.readTime?Zn(u.readTime):ft.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=Ff(this.serializer),n.addTarget=function(a,u){let h;const d=u.target;if(h=Df(d)?{documents:bI(a,d)}:{query:FI(a,d)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Qy(a,u.resumeToken);const g=Vf(a,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(ft.min())>0){h.readTime=sc(a,u.snapshotVersion.toTimestamp());const g=Vf(a,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=UI(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=Ff(this.serializer),n.removeTarget=t,this.a_(n)}}class IS extends s0{constructor(t,n,i,o,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,Mt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Mt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=zI(t.writeResults,t.commitTime),i=Zn(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=Ff(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>VI(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends class{}{constructor(t,n,i,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new it(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(t,zf(n,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(Z.UNKNOWN,a.toString())})}Lo(t,n,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Lo(t,zf(n,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(Z.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class AS{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ti(n),this.D_=!1):et("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n,i,o,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{i.enqueueAndForget(async()=>{Wr(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(d){const g=dt(d);g.L_.add(4),await ol(g),g.q_.set("Unknown"),g.L_.delete(4),await Oc(g)}(this))})}),this.q_=new AS(i,o)}}async function Oc(e){if(Wr(e))for(const t of e.B_)await t(!0)}async function ol(e){for(const t of e.B_)await t(!1)}function a0(e,t){const n=dt(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),sp(n)?op(n):ss(n).r_()&&rp(n,t))}function ip(e,t){const n=dt(e),i=ss(n);n.N_.delete(t),i.r_()&&l0(n,t),n.N_.size===0&&(i.r_()?i.o_():Wr(n)&&n.q_.set("Unknown"))}function rp(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ft.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ss(e).A_(t)}function l0(e,t){e.Q_.xe(t),ss(e).R_(t)}function op(e){e.Q_=new xI({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ss(e).start(),e.q_.v_()}function sp(e){return Wr(e)&&!ss(e).n_()&&e.N_.size>0}function Wr(e){return dt(e).L_.size===0}function u0(e){e.Q_=void 0}async function xS(e){e.q_.set("Online")}async function kS(e){e.N_.forEach((t,n)=>{rp(e,t)})}async function RS(e,t){u0(e),sp(e)?(e.q_.M_(t),op(e)):e.q_.set("Unknown")}async function LS(e,t,n){if(e.q_.set("Online"),t instanceof Gy&&t.state===2&&t.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.N_.delete(h),o.Q_.removeTarget(h))}(e,t)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ac(e,i)}else if(t instanceof Su?e.Q_.Ke(t):t instanceof Ky?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ft.min()))try{const i=await r0(e.localStore);n.compareTo(i)>=0&&await function(a,u){const h=a.Q_.rt(u);return h.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const w=a.N_.get(g);w&&a.N_.set(g,w.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,g)=>{const w=a.N_.get(d);if(!w)return;a.N_.set(d,w.withResumeToken(Ce.EMPTY_BYTE_STRING,w.snapshotVersion)),l0(a,d);const T=new Wi(w.target,d,g,w.sequenceNumber);rp(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(e,n)}catch(i){et("RemoteStore","Failed to raise snapshot:",i),await ac(e,i)}}async function ac(e,t,n){if(!nl(t))throw t;e.L_.add(1),await ol(e),e.q_.set("Offline"),n||(n=()=>r0(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Oc(e)})}function c0(e,t){return t().catch(n=>ac(e,n,t))}async function Vc(e){const t=dt(e),n=lr(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;MS(t);)try{const o=await mS(t.localStore,i);if(o===null){t.O_.length===0&&n.o_();break}i=o.batchId,NS(t,o)}catch(o){await ac(t,o)}h0(t)&&f0(t)}function MS(e){return Wr(e)&&e.O_.length<10}function NS(e,t){e.O_.push(t);const n=lr(e);n.r_()&&n.V_&&n.m_(t.mutations)}function h0(e){return Wr(e)&&!lr(e).n_()&&e.O_.length>0}function f0(e){lr(e).start()}async function DS(e){lr(e).p_()}async function OS(e){const t=lr(e);for(const n of e.O_)t.m_(n.mutations)}async function VS(e,t,n){const i=e.O_.shift(),o=Yd.from(i,t,n);await c0(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Vc(e)}async function zS(e,t){t&&lr(e).V_&&await async function(i,o){if(function(u){return SI(u)&&u!==Z.ABORTED}(o.code)){const a=i.O_.shift();lr(i).s_(),await c0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Vc(i)}}(e,t),h0(e)&&f0(e)}async function x_(e,t){const n=dt(e);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const i=Wr(n);n.L_.add(3),await ol(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Oc(n)}async function bS(e,t){const n=dt(e);t?(n.L_.delete(2),await Oc(n)):t||(n.L_.add(2),await ol(n),n.q_.set("Unknown"))}function ss(e){return e.K_||(e.K_=function(n,i,o){const a=dt(n);return a.w_(),new PS(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(e.datastore,e.asyncQueue,{Eo:xS.bind(null,e),Ro:kS.bind(null,e),mo:RS.bind(null,e),d_:LS.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),sp(e)?op(e):e.q_.set("Unknown")):(await e.K_.stop(),u0(e))})),e.K_}function lr(e){return e.U_||(e.U_=function(n,i,o){const a=dt(n);return a.w_(),new IS(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:DS.bind(null,e),mo:zS.bind(null,e),f_:OS.bind(null,e),g_:VS.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Vc(e)):(await e.U_.stop(),e.O_.length>0&&(et("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,n,i,o,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,o,a){const u=Date.now()+i,h=new ap(t,n,u,o,a);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(e,t){if(Ti("AsyncQueue",`${t}: ${e}`),nl(e))return new it(Z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.comparator=t?(n,i)=>t(n,i)||rt.comparator(n.key,i.key):(n,i)=>rt.comparator(n.key,i.key),this.keyedMap=la(),this.sortedSet=new qt(this.comparator)}static emptySet(t){return new bo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof bo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new bo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.W_=new qt(rt.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):lt():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Yo{constructor(t,n,i,o,a,u,h,d,g){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(t,n,i,o,a){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Yo(t,n,bo.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class BS{constructor(){this.queries=R_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const o=dt(n),a=o.queries;o.queries=R_(),a.forEach((u,h)=>{for(const d of h.j_)d.onError(i)})})(this,new it(Z.ABORTED,"Firestore shutting down"))}}function R_(){return new os(e=>Dy(e),kc)}async function US(e,t){const n=dt(e);let i=3;const o=t.query;let a=n.queries.get(o);a?!a.H_()&&t.J_()&&(i=2):(a=new FS,i=t.J_()?0:1);try{switch(i){case 0:a.z_=await n.onListen(o,!0);break;case 1:a.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=lp(u,`Initialization of query '${_o(t.query)}' failed`);return void t.onError(h)}n.queries.set(o,a),a.j_.push(t),t.Z_(n.onlineState),a.z_&&t.X_(a.z_)&&up(n)}async function jS(e,t){const n=dt(e),i=t.query;let o=3;const a=n.queries.get(i);if(a){const u=a.j_.indexOf(t);u>=0&&(a.j_.splice(u,1),a.j_.length===0?o=t.J_()?0:1:!a.H_()&&t.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function $S(e,t){const n=dt(e);let i=!1;for(const o of t){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.j_)h.X_(o)&&(i=!0);u.z_=o}}i&&up(n)}function HS(e,t,n){const i=dt(e),o=i.queries.get(t);if(o)for(const a of o.j_)a.onError(n);i.queries.delete(t)}function up(e){e.Y_.forEach(t=>{t.next()})}var Uf,L_;(L_=Uf||(Uf={})).ea="default",L_.Cache="cache";class WS{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new Yo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Uf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t){this.key=t}}class p0{constructor(t){this.key=t}}class ZS{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Et(),this.mutatedKeys=Et(),this.Aa=Oy(t),this.Ra=new bo(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new k_,o=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((w,T)=>{const P=o.get(w),D=Rc(this.query,T)?T:null,F=!!P&&this.mutatedKeys.has(P.key),b=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;P&&D?P.data.isEqual(D.data)?F!==b&&(i.track({type:3,doc:D}),q=!0):this.ga(P,D)||(i.track({type:2,doc:D}),q=!0,(d&&this.Aa(D,d)>0||g&&this.Aa(D,g)<0)&&(h=!0)):!P&&D?(i.track({type:0,doc:D}),q=!0):P&&!D&&(i.track({type:1,doc:P}),q=!0,(d||g)&&(h=!0)),q&&(D?(u=u.add(D),a=b?a.add(w):a.delete(w)):(u=u.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{Ra:u,fa:i,ns:h,mutatedKeys:a}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,o){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const u=t.fa.G_();u.sort((w,T)=>function(D,F){const b=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return b(D)-b(F)}(w.type,T.type)||this.Aa(w.doc,T.doc)),this.pa(i),o=o!=null&&o;const h=n&&!o?this.ya():[],d=this.da.size===0&&this.current&&!o?1:0,g=d!==this.Ea;return this.Ea=d,u.length!==0||g?{snapshot:new Yo(this.query,t.Ra,a,u,t.mutatedKeys,d===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new k_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Et(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new p0(i))}),this.da.forEach(i=>{t.has(i)||n.push(new d0(i))}),n}ba(t){this.Ta=t.Ts,this.da=Et();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Yo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qS{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class KS{constructor(t){this.key=t,this.va=!1}}class GS{constructor(t,n,i,o,a,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new os(h=>Dy(h),kc),this.Ma=new Map,this.xa=new Set,this.Oa=new qt(rt.comparator),this.Na=new Map,this.La=new tp,this.Ba={},this.ka=new Map,this.qa=Qo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function QS(e,t,n=!0){const i=w0(e);let o;const a=i.Fa.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await m0(i,t,n,!0),o}async function YS(e,t){const n=w0(e);await m0(n,t,!0,!1)}async function m0(e,t,n,i){const o=await _S(e.localStore,Wn(t)),a=o.targetId,u=e.sharedClientState.addLocalQueryTarget(a,n);let h;return i&&(h=await XS(e,t,a,u==="current",o.resumeToken)),e.isPrimaryClient&&n&&a0(e.remoteStore,o),h}async function XS(e,t,n,i,o){e.Ka=(T,P,D)=>async function(b,q,R,S){let N=q.view.ma(R);N.ns&&(N=await S_(b.localStore,q.query,!1).then(({documents:A})=>q.view.ma(A,N)));const j=S&&S.targetChanges.get(q.targetId),Y=S&&S.targetMismatches.get(q.targetId)!=null,X=q.view.applyChanges(N,b.isPrimaryClient,j,Y);return N_(b,q.targetId,X.wa),X.snapshot}(e,T,P,D);const a=await S_(e.localStore,t,!0),u=new ZS(t,a.Ts),h=u.ma(a.documents),d=rl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",o),g=u.applyChanges(h,e.isPrimaryClient,d);N_(e,n,g.wa);const w=new qS(t,n,u);return e.Fa.set(t,w),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),g.snapshot}async function JS(e,t,n){const i=dt(e),o=i.Fa.get(t),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter(u=>!kc(u,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Bf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&ip(i.remoteStore,o.targetId),jf(i,o.targetId)}).catch(el)):(jf(i,o.targetId),await Bf(i.localStore,o.targetId,!0))}async function tA(e,t){const n=dt(e),i=n.Fa.get(t),o=n.Ma.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),ip(n.remoteStore,i.targetId))}async function eA(e,t,n){const i=lA(e);try{const o=await function(u,h){const d=dt(u),g=fe.now(),w=h.reduce((D,F)=>D.add(F.key),Et());let T,P;return d.persistence.runTransaction("Locally write mutations","readwrite",D=>{let F=Pi(),b=Et();return d.cs.getEntries(D,w).next(q=>{F=q,F.forEach((R,S)=>{S.isValidDocument()||(b=b.add(R))})}).next(()=>d.localDocuments.getOverlayedDocuments(D,F)).next(q=>{T=q;const R=[];for(const S of h){const N=wI(S,T.get(S.key).overlayedDocument);N!=null&&R.push(new Hr(S.key,N,Ay(N.value.mapValue),_i.exists(!0)))}return d.mutationQueue.addMutationBatch(D,g,R,h)}).next(q=>{P=q;const R=q.applyToLocalDocumentSet(T,b);return d.documentOverlayCache.saveOverlays(D,q.batchId,R)})}).then(()=>({batchId:P.batchId,changes:zy(T)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,d){let g=u.Ba[u.currentUser.toKey()];g||(g=new qt(Ct)),g=g.insert(h,d),u.Ba[u.currentUser.toKey()]=g}(i,o.batchId,n),await sl(i,o.changes),await Vc(i.remoteStore)}catch(o){const a=lp(o,"Failed to persist write");n.reject(a)}}async function _0(e,t){const n=dt(e);try{const i=await dS(n.localStore,t);t.targetChanges.forEach((o,a)=>{const u=n.Na.get(a);u&&(Mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?Mt(u.va):o.removedDocuments.size>0&&(Mt(u.va),u.va=!1))}),await sl(n,i,t)}catch(i){await el(i)}}function M_(e,t,n){const i=dt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Fa.forEach((a,u)=>{const h=u.view.Z_(t);h.snapshot&&o.push(h.snapshot)}),function(u,h){const d=dt(u);d.onlineState=h;let g=!1;d.queries.forEach((w,T)=>{for(const P of T.j_)P.Z_(h)&&(g=!0)}),g&&up(d)}(i.eventManager,t),o.length&&i.Ca.d_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function nA(e,t,n){const i=dt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const o=i.Na.get(t),a=o&&o.key;if(a){let u=new qt(rt.comparator);u=u.insert(a,Ve.newNoDocument(a,ft.min()));const h=Et().add(a),d=new Nc(ft.min(),new Map,new qt(Ct),u,h);await _0(i,d),i.Oa=i.Oa.remove(a),i.Na.delete(t),cp(i)}else await Bf(i.localStore,t,!1).then(()=>jf(i,t,n)).catch(el)}async function iA(e,t){const n=dt(e),i=t.batch.batchId;try{const o=await fS(n.localStore,t);v0(n,i,null),g0(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sl(n,o)}catch(o){await el(o)}}async function rA(e,t,n){const i=dt(e);try{const o=await function(u,h){const d=dt(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let w;return d.mutationQueue.lookupMutationBatch(g,h).next(T=>(Mt(T!==null),w=T.keys(),d.mutationQueue.removeMutationBatch(g,T))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,w,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w)).next(()=>d.localDocuments.getDocuments(g,w))})}(i.localStore,t);v0(i,t,n),g0(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await sl(i,o)}catch(o){await el(o)}}function g0(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function v0(e,t,n){const i=dt(e);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(t);a&&(n?a.reject(n):a.resolve(),o=o.remove(t)),i.Ba[i.currentUser.toKey()]=o}}function jf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||y0(e,i)})}function y0(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(ip(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),cp(e))}function N_(e,t,n){for(const i of n)i instanceof d0?(e.La.addReference(i.key,t),oA(e,i)):i instanceof p0?(et("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||y0(e,i.key)):lt()}function oA(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(et("SyncEngine","New document in limbo: "+n),e.xa.add(i),cp(e))}function cp(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new rt(Ut.fromString(t)),i=e.qa.next();e.Na.set(i,new KS(n)),e.Oa=e.Oa.insert(n,i),a0(e.remoteStore,new Wi(Wn(Ny(n.path)),i,"TargetPurposeLimboResolution",Hd.oe))}}async function sl(e,t,n){const i=dt(e),o=[],a=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach((h,d)=>{u.push(i.Ka(d,t,n).then(g=>{var w;if((g||n)&&i.isPrimaryClient){const T=g?!g.fromCache:(w=n==null?void 0:n.targetChanges.get(d.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(d.targetId,T?"current":"not-current")}if(g){o.push(g);const T=np.Wi(d.targetId,g);a.push(T)}}))}),await Promise.all(u),i.Ca.d_(o),await async function(d,g){const w=dt(d);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>W.forEach(g,P=>W.forEach(P.$i,D=>w.persistence.referenceDelegate.addReference(T,P.targetId,D)).next(()=>W.forEach(P.Ui,D=>w.persistence.referenceDelegate.removeReference(T,P.targetId,D)))))}catch(T){if(!nl(T))throw T;et("LocalStore","Failed to update sequence numbers: "+T)}for(const T of g){const P=T.targetId;if(!T.fromCache){const D=w.os.get(P),F=D.snapshotVersion,b=D.withLastLimboFreeSnapshotVersion(F);w.os=w.os.insert(P,b)}}}(i.localStore,a))}async function sA(e,t){const n=dt(e);if(!n.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const i=await i0(n.localStore,t);n.currentUser=t,function(a,u){a.ka.forEach(h=>{h.forEach(d=>{d.reject(new it(Z.CANCELLED,u))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sl(n,i.hs)}}function aA(e,t){const n=dt(e),i=n.Na.get(t);if(i&&i.va)return Et().add(i.key);{let o=Et();const a=n.Ma.get(t);if(!a)return o;for(const u of a){const h=n.Fa.get(u);o=o.unionWith(h.view.Va)}return o}}function w0(e){const t=dt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nA.bind(null,t),t.Ca.d_=$S.bind(null,t.eventManager),t.Ca.$a=HS.bind(null,t.eventManager),t}function lA(e){const t=dt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rA.bind(null,t),t}class lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dc(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return hS(this.persistence,new uS,t.initialUser,this.serializer)}Ga(t){return new sS(ep.Zr,this.serializer)}Wa(t){return new vS}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lc.provider={build:()=>new lc};class $f{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>M_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sA.bind(null,this.syncEngine),await bS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new BS}()}createDatastore(t){const n=Dc(t.databaseInfo.databaseId),i=function(a){return new TS(a)}(t.databaseInfo);return function(a,u,h,d){return new SS(a,u,h,d)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,o,a,u,h){return new CS(i,o,a,u,h)}(this.localStore,this.datastore,t.asyncQueue,n=>M_(this.syncEngine,n,0),function(){return C_.D()?new C_:new yS}())}createSyncEngine(t,n){return function(o,a,u,h,d,g,w){const T=new GS(o,a,u,h,d,g);return w&&(T.Qa=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const a=dt(o);et("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await ol(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$f.provider={build:()=>new $f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ti("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t,n,i,o,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=De.UNAUTHENTICATED,this.clientId=Py.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{et("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(et("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=lp(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Ch(e,t){e.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async o=>{i.isEqual(o)||(await i0(t.localStore,o),i=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function D_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hA(e);et("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>x_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>x_(t.remoteStore,o)),e._onlineComponents=t}async function hA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ch(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await Ch(e,new lc)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await Ch(e,new lc);return e._offlineComponents}async function E0(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await D_(e,e._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await D_(e,new $f))),e._onlineComponents}function fA(e){return E0(e).then(t=>t.syncEngine)}async function dA(e){const t=await E0(e),n=t.eventManager;return n.onListen=QS.bind(null,t.syncEngine),n.onUnlisten=JS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=YS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=tA.bind(null,t.syncEngine),n}function pA(e,t,n={}){const i=new nr;return e.asyncQueue.enqueueAndForget(async()=>function(a,u,h,d,g){const w=new uA({next:P=>{w.Za(),u.enqueueAndForget(()=>jS(a,T)),P.fromCache&&d.source==="server"?g.reject(new it(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(P)},error:P=>g.reject(P)}),T=new WS(h,w,{includeMetadataChanges:!0,_a:!0});return US(a,T)}(await dA(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(e,t,n){if(!n)throw new it(Z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function mA(e,t,n,i){if(t===!0&&i===!0)throw new it(Z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function V_(e){if(!rt.isDocumentKey(e))throw new it(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function z_(e){if(rt.isDocumentKey(e))throw new it(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function hp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":lt()}function Ga(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new it(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hp(e);throw new it(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new it(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new it(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T0((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zc{constructor(t,n,i,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xP;switch(i.type){case"firstParty":return new MP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new it(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=O_.get(n);i&&(et("ComponentProvider","Removing Datastore"),O_.delete(n),i.terminate())}(this),Promise.resolve()}}function _A(e,t,n,i={}){var o;const a=(e=Ga(e,zc))._getSettings(),u=`${t}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=De.MOCK_USER;else{h=a1(i.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new it(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new De(g)}e._authCredentials=new kP(new Ty(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new bc(this.firestore,t,this._query)}}class _n{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class ir extends bc{constructor(t,n,i){super(t,n,Ny(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new rt(t))}withConverter(t){return new ir(this.firestore,t,this._path)}}function gA(e,t,...n){if(e=Ba(e),P0("collection","path",t),e instanceof zc){const i=Ut.fromString(t,...n);return z_(i),new ir(e,null,i)}{if(!(e instanceof _n||e instanceof ir))throw new it(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ut.fromString(t,...n));return z_(i),new ir(e.firestore,null,i)}}function vA(e,t,...n){if(e=Ba(e),arguments.length===1&&(t=Py.newId()),P0("doc","path",t),e instanceof zc){const i=Ut.fromString(t,...n);return V_(i),new _n(e,null,new rt(i))}{if(!(e instanceof _n||e instanceof ir))throw new it(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ut.fromString(t,...n));return V_(i),new _n(e.firestore,e instanceof ir?e.converter:null,new rt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new o0(this,"async_queue_retry"),this.Vu=()=>{const i=Ah();i&&et("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Ah();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new nr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!nl(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw Ti("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const o=ap.createAndSchedule(this,t,n,i,a=>this.yu(a));return this.Tu.push(o),o}fu(){this.Eu&&lt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class fp extends zc{constructor(t,n,i,o){super(t,n,i,o),this.type="firestore",this._queue=new F_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new F_(t),this._firestoreClient=void 0,await t}}}function yA(e,t){const n=typeof e=="object"?e:_P(),i=typeof e=="string"?e:t||"(default)",o=fP(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=o1("firestore");a&&_A(o,...a)}return o}function I0(e){if(e._terminated)throw new it(Z.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wA(e),e._firestoreClient}function wA(e){var t,n,i;const o=e._freezeSettings(),a=function(h,d,g,w){return new WP(h,d,g,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,T0(w.experimentalLongPollingOptions),w.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new cA(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xo(Ce.fromBase64String(t))}catch(n){throw new it(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xo(Ce.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=/^__.*__$/;class TA{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,n,this.fieldTransforms):new il(t,this.data,n,this.fieldTransforms)}}function A0(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class _p{constructor(t,n,i,o,a,u){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new _p(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Fu({path:i,xu:!1});return o.Ou(t),o}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return uc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(A0(this.Cu)&&EA.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class PA{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Dc(t)}Qu(t,n,i,o=!1){return new _p({Cu:t,methodName:n,qu:i,path:Pe.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IA(e){const t=e._freezeSettings(),n=Dc(e._databaseId);return new PA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function SA(e,t,n,i,o,a={}){const u=e.Qu(a.merge||a.mergeFields?2:0,t,n,o);R0("Data must be an object, but it was:",u,i);const h=x0(i,u);let d,g;if(a.merge)d=new kn(u.fieldMask),g=u.fieldTransforms;else if(a.mergeFields){const w=[];for(const T of a.mergeFields){const P=AA(t,T,n);if(!u.contains(P))throw new it(Z.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);xA(w,P)||w.push(P)}d=new kn(w),g=u.fieldTransforms.filter(T=>d.covers(T.field))}else d=null,g=u.fieldTransforms;return new TA(new dn(h),d,g)}function C0(e,t){if(k0(e=Ba(e)))return R0("Unsupported field value:",t,e),x0(e,t);if(e instanceof S0)return function(i,o){if(!A0(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let d=C0(h,o.Lu(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(e,t)}return function(i,o){if((i=Ba(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pI(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=fe.fromDate(i);return{timestampValue:sc(o.serializer,a)}}if(i instanceof fe){const a=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sc(o.serializer,a)}}if(i instanceof pp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:Qy(o.serializer,i._byteString)};if(i instanceof _n){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jd(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof mp)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Bu("VectorValues must only contain numeric values.");return Qd(h.serializer,d)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${hp(i)}`)}(e,t)}function x0(e,t){const n={};return Iy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(e,(i,o)=>{const a=C0(o,t.Mu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function k0(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof fe||e instanceof pp||e instanceof Xo||e instanceof _n||e instanceof S0||e instanceof mp)}function R0(e,t,n){if(!k0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=hp(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function AA(e,t,n){if((t=Ba(t))instanceof dp)return t._internalPath;if(typeof t=="string")return L0(e,t);throw uc("Field path arguments must be of type string or ",e,!1,void 0,n)}const CA=new RegExp("[~\\*/\\[\\]]");function L0(e,t,n){if(t.search(CA)>=0)throw uc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dp(...t.split("."))._internalPath}catch{throw uc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function uc(e,t,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new it(Z.INVALID_ARGUMENT,h+e+d)}function xA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n,i,o,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(N0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kA extends M0{data(){return super.data()}}function N0(e,t){return typeof t=="string"?L0(e,t):t instanceof dp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new it(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LA{convertValue(t,n="none"){switch(Ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw lt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return rs(t,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(t){var n,i,o;const a=(o=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>Yt(u.doubleValue));return new mp(a)}convertGeoPoint(t){return new pp(Yt(t.latitude),Yt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Zd(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ha(t));default:return null}}convertTimestamp(t){const n=ar(t);return new fe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ut.fromString(t);Mt(n0(i));const o=new Wa(i.get(1),i.get(3)),a=new rt(i.popFirst(5));return o.isEqual(n)||Ti(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class NA extends M0{constructor(t,n,i,o,a,u){super(t,n,i,o,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(N0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Au extends NA{data(t={}){return super.data(t)}}class DA{constructor(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new uu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Au(this._firestore,this._userDataWriter,i.key,i,new uu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const d=new Au(o._firestore,o._userDataWriter,h.doc.key,h.doc,new uu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const d=new Au(o._firestore,o._userDataWriter,h.doc.key,h.doc,new uu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,w=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),w=u.indexOf(h.doc.key)),{type:OA(h.type),doc:d,oldIndex:g,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}class VA extends LA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function zA(e){e=Ga(e,bc);const t=Ga(e.firestore,fp),n=I0(t),i=new VA(t);return RA(e._query),pA(n,e._query).then(o=>new DA(t,i,e,o))}function bA(e,t,n){e=Ga(e,_n);const i=Ga(e.firestore,fp),o=MA(e.converter,t,n);return FA(i,[SA(IA(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,_i.none())])}function FA(e,t){return function(i,o){const a=new nr;return i.asyncQueue.enqueueAndForget(async()=>eA(await fA(i),o,a)),a.promise}(I0(e),t)}(function(t,n=!0){(function(o){is=o})(mP),tc(new Ua("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new fp(new RP(i.getProvider("auth-internal")),new DP(i.getProvider("app-check-internal")),function(g,w){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new it(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(g.options.projectId,w)}(u,o),u);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),zo(r_,"4.7.3",t),zo(r_,"4.7.3","esm2017")})();const BA={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},UA=dy(BA),B_=yA(UA);function jA(){const[e,t]=xt.useState([]);xt.useEffect(()=>{async function i(){try{const o=gA(B_,"benches"),u=(await zA(o)).docs.map(h=>({id:h.id,...h.data()}));t(u)}catch(o){console.error("Error fetching benches:",o)}}i()},[]);async function n(i,o){try{const a=vA(B_,"benches",i);await bA(a,{ratings:o},{merge:!0}),alert("Thanks for rating!")}catch(a){console.error("Error saving rating:",a)}}return Be.jsxs(ZT,{center:[51.505,-.09],zoom:13,style:{height:"600px",width:"100%"},children:[Be.jsx(GT,{attribution:' <a href="https://osm.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(i=>{var o,a,u;return Be.jsx(qT,{position:[i.lat,i.lng],children:Be.jsx(KT,{children:Be.jsxs("div",{children:[Be.jsx("h3",{className:"font-bold",children:i.name||"Bench"}),Be.jsxs("p",{children:["Comfort: ",((o=i.ratings)==null?void 0:o.comfort)||"Not rated"]}),Be.jsxs("p",{children:["Ambience: ",((a=i.ratings)==null?void 0:a.ambience)||"Not rated"]}),Be.jsxs("p",{children:["View: ",((u=i.ratings)==null?void 0:u.view)||"Not rated"]}),Be.jsx("button",{onClick:()=>n(i.id,{comfort:5,ambience:4,view:3}),className:"mt-2 px-2 py-1 bg-blue-500 text-white rounded",children:"Rate 5 / 4 / 3"})]})})},i.id)})]})}function $A(){return Be.jsxs("div",{className:"app-container",children:[Be.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Bench Rating Map"}),Be.jsx(jA,{})]})}xh.createRoot(document.getElementById("root")).render(Be.jsx(Cu.StrictMode,{children:Be.jsx($A,{})}));
